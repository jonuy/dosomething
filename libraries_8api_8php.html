<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: html/profiles/dosomething/modules/contrib/libraries/libraries.api.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>html/profiles/dosomething/modules/contrib/libraries/libraries.api.php File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libraries_8api_8php.html#abe57a1a01f1d2d134a9014258fe9e016">hook_libraries_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libraries_8api_8php.html#a6143e19206c3ddd8b4241306edf201a1">hook_libraries_info_alter</a> (&amp;$libraries)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libraries_8api_8php.html#ad555eecec1a3347c79dce2ef7d09c24c">hook_libraries_paths</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Documents API functions for Libraries module. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="abe57a1a01f1d2d134a9014258fe9e016"></a><!-- doxytag: member="libraries.api.php::hook_libraries_info" ref="abe57a1a01f1d2d134a9014258fe9e016" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_libraries_info </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return information about external libraries.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An associative array whose keys are internal names of libraries and whose values are describing each library. Each key is the directory name below the 'libraries' directory, in which the library may be found. Each value is an associative array containing:<ul>
<li>name: The official, human-readable name of the library.</li>
<li>vendor url: The URL of the homepage of the library.</li>
<li>download url: The URL of a web page on which the library can be obtained.</li>
<li>path: (optional) A relative path from the directory of the library to the actual library. Only required if the extracted download package contains the actual library files in a sub-directory.</li>
<li>library path: (optional) The absolute path to the library directory. This should not be declared normally, as it is automatically detected, to allow for multiple possible library locations. A valid use-case is an external library, in which case the full URL to the library should be specified here.</li>
<li>version: (optional) The version of the library. This should not be declared normally, as it is automatically detected (see 'version callback' below) to allow for version changes of libraries without code changes of implementing modules and to support different versions of a library simultaneously (though only one version can be installed per site). A valid use-case is an external library whose version cannot be determined programatically.</li>
<li>version callback: (optional) The name of a function that detects and returns the full version string of the library. The first argument is always $library, an array containing all library information as described here. There are two ways to declare the version callback's additional arguments, either as a single $options parameter or as multiple parameters, which correspond to the two ways to specify the argument values (see 'version arguments'). Defaults to <a class="el" href="libraries_8module.html#a75db4e86addc3ceb4df8d0e1f5a54f99">libraries_get_version()</a>.</li>
<li>version arguments: A list of arguments to pass to the version callback. Version arguments can be declared either as an associative array whose keys are the argument names or as an indexed array without specifying keys. If declared as an associative array, the arguments get passed to the version callback as a single $options parameter whose keys are the argument names (i.e. $options is identical to the specified array). If declared as an indexed array, the array values get passed to the version callback as seperate arguments in the order they were declared. The default version callback <a class="el" href="libraries_8module.html#a75db4e86addc3ceb4df8d0e1f5a54f99">libraries_get_version()</a> expects a single, associative array with named keys:<ul>
<li>file: The filename to parse for the version, relative to the library path. For example: 'docs/changelog.txt'.</li>
<li>pattern: A string containing a regular expression (PCRE) to match the library version. For example: '</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>+([0-9a-zA-Z\.-]+)@'. Note that the returned version is not the match of the entire pattern (i.e. '</dd>
<dd>
1.2.3' in the above example) but the match of the first sub-pattern (i.e. '1.2.3' in the above example).<ul>
<li>lines: (optional) The maximum number of lines to search the pattern in. Defaults to 20.</li>
<li>cols: (optional) The maximum number of characters per line to take into account. Defaults to 200. In case of minified or compressed files, this prevents reading the entire file into memory.</li>
</ul>
</dd></dl>
<ul>
<li>files: An associative array of library files to load. Supported keys are:<ul>
<li>js: A list of JavaScript files to load, using the same syntax as Drupal core's hook_library().</li>
<li>css: A list of CSS files to load, using the same syntax as Drupal core's hook_library().</li>
<li>php: A list of PHP files to load.</li>
</ul>
</li>
<li>dependencies: An array of libraries this library depends on. Similar to declaring module dependencies, the dependency declaration may contain information on the supported version. Examples of supported declarations: <div class="fragment"><pre class="fragment">     $libraries[<span class="stringliteral">&apos;dependencies&apos;</span>] = array(
       <span class="comment">// Load the &apos;example&apos; library, regardless of the version available:</span>
       <span class="stringliteral">&apos;example&apos;</span>,
       <span class="comment">// Only load the &apos;example&apos; library, if version 1.2 is available:</span>
       <span class="stringliteral">&apos;example (1.2)&apos;</span>,
       <span class="comment">// Only load a version later than 1.3-beta2 of the &apos;example&apos; library:</span>
       <span class="stringliteral">&apos;example (&gt;1.3-beta2)&apos;</span>
       <span class="comment">// Only load a version equal to or later than 1.3-beta3:</span>
       <span class="stringliteral">&apos;example (&gt;=1.3-beta3)&apos;</span>,
       <span class="comment">// Only load a version earlier than 1.5:</span>
       <span class="stringliteral">&apos;example (&lt;1.5)&apos;</span>,
       <span class="comment">// Only load a version equal to or earlier than 1.4:</span>
       <span class="stringliteral">&apos;example (&lt;=1.4)&apos;</span>,
       <span class="comment">// Combinations of the above are allowed as well:</span>
       <span class="stringliteral">&apos;example (&gt;=1.3-beta2, &lt;1.5)&apos;</span>,
     );
</pre></div></li>
<li>variants: (optional) An associative array of available library variants. For example, the top-level 'files' property may refer to a default variant that is compressed. If the library also ships with a minified and uncompressed/source variant, those can be defined here. Each key should describe the variant type, e.g. 'minified' or 'source'. Each value is an associative array of top-level properties that are entirely overridden by the variant, most often just 'files'. Additionally, each variant can contain following properties:<ul>
<li>variant callback: (optional) The name of a function that detects the variant and returns TRUE or FALSE, depending on whether the variant is available or not. The first argument is always $library, an array containing all library information as described here. The second argument is always a string containing the variant name. There are two ways to declare the variant callback's additinal arguments, either as a single $options parameter or as multiple parameters, which correspond to the two ways to specify the argument values (see 'variant arguments'). If ommitted, the variant is expected to always be available.</li>
<li>variant arguments: A list of arguments to pass to the variant callback. Variant arguments can be declared either as an associative array whose keys are the argument names or as an indexed array without specifying keys. If declared as an associative array, the arguments get passed to the variant callback as a single $options parameter whose keys are the argument names (i.e. $options is identical to the specified array). If declared as an indexed array, the array values get passed to the variant callback as seperate arguments in the order they were declared. Variants can be version-specific (see 'versions').</li>
</ul>
</li>
<li>versions: (optional) An associative array of supported library versions. Naturally, libraries evolve over time and so do their APIs. In case a library changes between versions, different 'files' may need to be loaded, different 'variants' may become available, or Drupal modules need to load different integration files adapted to the new version. Each key is a version *string* (PHP does not support floats as keys). Each value is an associative array of top-level properties that are entirely overridden by the version.</li>
<li>integration files: (optional) An associative array whose keys are module names and whose values are sets of files to load for the module, using the same notion as the top-level 'files' property. Each specified file should contain the path to the file relative to the module it belongs to.</li>
<li>callbacks: An associative array whose keys are callback groups and whose values are arrays of callbacks to apply to the library in that group. Each callback receives the following arguments:<ul>
<li>$library: An array of library information belonging to the top-level library, a specific version, a specific variant or a specific variant of a specific version. Because library information such as the 'files' property (see above) can be declared in all these different locations of the library array, but a callback may have to act on all these different parts of the library, it is called recursively for each library with a certain part of the libraries array passed as $library each time.</li>
<li><dl class="rcs"><dt><b>version</b></dt><dd>If the </dd></dl>
library array belongs to a certain version (see above), a string containing the version. This argument may be empty, so NULL should be specified as the default value.</li>
<li><dl class="rcs"><dt><b>variant</b></dt><dd>If the </dd></dl>
library array belongs to a certain variant (see above), a string containing the variant name. This argument may be empty, so NULL should be specified as the default value. Valid callback groups are:</li>
<li>info: Callbacks registered in this group are applied after the library information has been retrieved via <a class="el" href="libraries_8api_8php.html#abe57a1a01f1d2d134a9014258fe9e016">hook_libraries_info()</a> or info files.</li>
<li>pre-detect: Callbacks registered in this group are applied after the library path has been determined and before the version callback is invoked. At this point the following additional information is available:<ul>
<li>$library['library path']: The path on the file system to the library.</li>
</ul>
</li>
<li>post-detect: Callbacks registered in this group are applied after the library has been successfully detected. At this point the library contains the version-specific information, if specified, and following additional information is available:<ul>
<li>$library['installed']: A boolean indicating whether the library is installed or not.</li>
<li>$library['version']: If it could be detected, a string containing the version of the library.</li>
<li>$library['variants'][$variant]['installed']: For each specified variant, a boolean indicating whether the variant is installed or not. Note that in this group the 'versions' property is no longer available.</li>
</ul>
</li>
<li>pre-dependencies-load: Callbacks registered in this group are applied directly before the library's dependencies are loaded. At this point the library contains variant-specific information, if specified. Note that in this group the 'variants' property is no longer available.</li>
<li>pre-load: Callbacks registered in this group are applied directly after the library's dependencies are loaded and before the library itself is loaded.</li>
<li>post-load: Callbacks registered in this group are applied directly after this library is loaded. At this point, the library contains a 'loaded' key, which contains the number of files that were loaded. Additional top-level properties can be registered as needed.</li>
</ul>
</li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd>hook_library() </dd></dl>

</div>
</div>
<a class="anchor" id="a6143e19206c3ddd8b4241306edf201a1"></a><!-- doxytag: member="libraries.api.php::hook_libraries_info_alter" ref="a6143e19206c3ddd8b4241306edf201a1" args="(&amp;$libraries)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_libraries_info_alter </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>libraries</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alter the library information before detection and caching takes place.</p>
<p>The library definitions are passed by reference. A common use-case is adding a module's integration files to the library array, so that the files are loaded whenever the library is. As noted above, it is important to declare integration files inside of an array, whose key is the module name.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="libraries_8api_8php.html#abe57a1a01f1d2d134a9014258fe9e016">hook_libraries_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad555eecec1a3347c79dce2ef7d09c24c"></a><!-- doxytag: member="libraries.api.php::hook_libraries_paths" ref="ad555eecec1a3347c79dce2ef7d09c24c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_libraries_paths </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Specify paths to look for library info files.</p>
<p>Libraries API looks in the following directories for library info files by default:</p>
<ul>
<li>libraries</li>
<li>profiles/$profile/libraries</li>
<li>sites/all/libraries</li>
<li>sites/$site/libraries This hook allows you to specify additional locations to look for library info files. This should only be used for modules that declare many libraries. Modules that only implement a few libraries should implement <a class="el" href="libraries_8api_8php.html#abe57a1a01f1d2d134a9014258fe9e016">hook_libraries_info()</a>.</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of paths. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
