<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: About Views handlers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>About Views handlers</h1><table border="0" cellpadding="0" cellspacing="0">
</table>
<p>In Views, a handler is an object that is part of the <a class="el" href="classview.html">view</a> and is part of the query building flow.</p>
<p>Handlers are objects; much of the time, the base handlers will work, but often you'll need to override the handler to achieve something meaningful. One typical handler override will be views_handler_filter_operator_in which allows you to have a filter select from a list of options; you'll need to override this to provide your list.</p>
<p>Handlers have two distinct code flows; the UI flow and the <a class="el" href="classview.html">view</a> building flow.</p>
<p>For the query flow:</p>
<ul>
<li>handler-&gt;construct()<ul>
<li>Create the initial handler; at this time it is not yet attached to a <a class="el" href="classview.html">view</a>. It is here that you can set basic defaults if needed, but there will be no knowledge of the environment yet.</li>
</ul>
</li>
<li>handler-&gt;set_definition()<ul>
<li>Set the data from <a class="el" href="group__views__hooks.html#ga227057901681e4a33e33c199c7a8c989">hook_views_data()</a> relevant to the handler.</li>
</ul>
</li>
<li>handler-&gt;init()<ul>
<li>Attach the handler to a <a class="el" href="classview.html">view</a>, and usually provides the options from the display.</li>
</ul>
</li>
<li>handler-&gt;pre_query()<ul>
<li>Run prior to the query() stage to do early processing.</li>
</ul>
</li>
<li>handler-&gt;query()<ul>
<li>Do the bulk of the work this handler needs to do to add itself to the query.</li>
</ul>
</li>
</ul>
<p>Fields, being the only handlers concerned with output, also have an extended piece of the flow:</p>
<ul>
<li>handler-&gt;pre_render(&amp;$values)<ul>
<li>Called prior to the actual rendering, this allows handlers to query for extra data; the entire resultset is available here, and this is where items that have "multiple values" per record can do their extra query for all of the records available. There are several examples of this at work in the code, see for example <a class="el" href="classviews__handler__field__user__roles.html">views_handler_field_user_roles</a>.</li>
</ul>
</li>
<li>handler-&gt;<a class="el" href="common_8inc.html#a5f4b2009c1caf78549203cec9b324305">render()</a><ul>
<li>This does the actual work of rendering the field.</li>
</ul>
</li>
</ul>
<p>Most handlers are just extensions of existing classes with a few tweaks that are specific to the field in question. For example, <a class="el" href="classviews__handler__filter__in__operator.html">views_handler_filter_in_operator</a> provides a simple mechanism to set a multiple-value list for setting filter values. Below, <a class="el" href="classviews__handler__filter__node__type.html">views_handler_filter_node_type</a> overrides the list options, but inherits everything else.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span><a class="code" href="classviews__handler__filter__node__type.html">views_handler_filter_node_type</a> <span class="keyword">extends</span> <a class="code" href="classviews__handler__filter__in__operator.html">views_handler_filter_in_operator</a> {
   function <a class="code" href="classviews__handler__filter__node__type.html#a27870f3af15cf44cae4e3440a3ccce67">get_value_options</a>() {
     <span class="keywordflow">if</span> (!isset($this-&gt;value_options)) {
       $this-&gt;value_title = t(<span class="stringliteral">&apos;Node type&apos;</span>);
       $types = node_get_types();
       <span class="keywordflow">foreach</span> ($types as $type =&gt; $info) {
         $options[$type] = $info-&amp;gt;name;
       }
       $this-&gt;value_options = $options;
     }
   }
 }
</pre></div><p>Handlers are stored in their own files and loaded on demand. Like all other module files, they must first be registered through the module's info file. For example:</p>
<div class="fragment"><pre class="fragment"> name = Example module
 description = <span class="stringliteral">&quot;Gives an example of a module.&quot;</span>
 core = 7.x
 files[] = example.module
 files[] = example.install

 ; Views handlers
 files[] = includes/views/handlers/example_handler_argument_string.inc
</pre></div><p>The best place to learn more about handlers and how they work is to explore <a class="el" href="group__views__handlers.html">Views' handlers </a> and use existing handlers as a guide and a model. Understanding how <a class="el" href="classviews__handler.html">views_handler</a> and its child classes work is handy but you can do a lot just following these models. You can also explore the views module directory, particularly <a class="el" href="node_8views_8inc.html">node.views.inc</a>.</p>
<p>Please note that while all handler names in views are prefixed with views_, you should use your own module's name to prefix your handler names in order to ensure namespace safety. Note that the basic pattern for handler naming goes like this:</p>
<p>[module]_handler_[type]_[tablename]_[fieldname].</p>
<p>Sometimes table and fieldname are not appropriate, but something that resembles what the table/field would be can be used.</p>
<p>See also:</p>
<ul>
<li><a class="el" href="group__views__field__handlers.html">Views field handlers </a></li>
<li><a class="el" href="group__views__sort__handlers.html">Views sort handlers </a></li>
<li><a class="el" href="group__views__filter__handlers.html">Views filter handlers </a></li>
<li><a class="el" href="group__views__argument__handlers.html">Views argument handlers </a></li>
<li><a class="el" href="group__views__relationship__handlers.html">Views relationship handlers </a></li>
<li><a class="el" href="group__views__area__handlers.html">Views area handlers </a> </li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
