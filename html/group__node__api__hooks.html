<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: Node API Hooks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Node API Hooks</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad7e8c6941181366016058771ae841bc9">hook_node_revision_delete</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load</a> ($nodes, $types)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate</a> ($node, $form, &amp;$form_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga1b479b731ecb3f9eec0c92e3e1a8e01d">hook_node_submit</a> ($node, $form, &amp;$form_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view</a> ($node, $view_mode, $langcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter</a> (&amp;$build)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gaf7a28ce3230dc96833ea5338fd26f43c">hook_ranking</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga52618ef4643a60878dd5a76ff9bbff30">hook_form</a> ($node, &amp;$form_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load</a> ($nodes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update</a> ($node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate</a> ($node, $form, &amp;$form_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view</a> ($node, $view_mode)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions to define and modify content types.</p>
<p>Each content type is maintained by a primary module, which is either <a class="el" href="node_8module.html">node.module</a> (for content types created in the user interface) or the module that implements <a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info()</a> to define the content type.</p>
<p>During node operations (create, update, <a class="el" href="classview.html">view</a>, delete, etc.), there are several sets of hooks that get invoked to allow modules to modify the base node operation:</p>
<ul>
<li>Node-type-specific hooks: These hooks are only invoked on the primary module, using the "base" return component of <a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info()</a> as the function prefix. For example, <a class="el" href="poll_8module.html">poll.module</a> defines the base for the Poll content type as "poll", so during creation of a poll node, <a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> is only invoked by calling <a class="el" href="poll_8module.html#ad302f1defb634370507bb6e4faf99a77">poll_insert()</a>.</li>
<li>All-module hooks: This set of hooks is invoked on all implementing modules, to allow other modules to modify what the primary node module is doing. For example, <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> is invoked on all modules when creating a poll node.</li>
<li>Field hooks: Hooks related to the fields attached to the node. These are invoked from the field operations functions described below, and can be either field-type-specific or all-module hooks.</li>
<li>Entity hooks: Generic hooks for "entity" operations. These are always invoked on all modules.</li>
</ul>
<p>Here is a list of the node and entity hooks that are invoked, field operations, and other steps that take place during node operations:</p>
<ul>
<li>Creating a new node (calling <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> on a new node):<ul>
<li><a class="el" href="group__field__attach.html#ga8f3ecf532dc49f8aed138695489fc81d">field_attach_presave()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga1837f8059e89f6b0c00826f3e06e24f7">hook_entity_presave()</a> (all)</li>
<li>Node and revision records are written to the database</li>
<li><a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga38882255a4252e0e87d77ecd9c75a0dd">hook_entity_insert()</a> (all)</li>
<li><a class="el" href="group__node__access.html#ga3fe7744d74446e40e9b9ad2a782b4269">hook_node_access_records()</a> (all)</li>
<li><a class="el" href="group__node__access.html#ga37c90bf0e1dccad0deefa368dd94cc83">hook_node_access_records_alter()</a> (all)</li>
</ul>
</li>
<li>Updating an existing node (calling <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> on an existing node):<ul>
<li><a class="el" href="group__field__attach.html#ga8f3ecf532dc49f8aed138695489fc81d">field_attach_presave()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga1837f8059e89f6b0c00826f3e06e24f7">hook_entity_presave()</a> (all)</li>
<li>Node and revision records are written to the database</li>
<li><a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga4b7c83c8b2e4f3719327ae794d0964ef">hook_entity_update()</a> (all)</li>
<li><a class="el" href="group__node__access.html#ga3fe7744d74446e40e9b9ad2a782b4269">hook_node_access_records()</a> (all)</li>
<li><a class="el" href="group__node__access.html#ga37c90bf0e1dccad0deefa368dd94cc83">hook_node_access_records_alter()</a> (all)</li>
</ul>
</li>
<li>Loading a node (calling <a class="el" href="node_8module.html#a492ddfc12843e71242bb484a44e51a19">node_load()</a>, <a class="el" href="node_8module.html#a12f29f65250380f9e592d8d5497313e3">node_load_multiple()</a> or <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a> with $entity_type of 'node'):<ul>
<li>Node and revision information is read from database.</li>
<li><a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gac79dd0f29910835c653b068233fa429b">field_attach_load_revision()</a> and <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a></li>
<li><a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> (all)</li>
</ul>
</li>
<li>Viewing a single node (calling <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> - note that the input to <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> is a loaded node, so the Loading steps above are already done):<ul>
<li><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga12b5fce5e2b2adb487c485c63bfe0298">field_attach_prepare_view()</a></li>
<li><a class="el" href="group__hooks.html#ga7e60ef817e60b20497bda315d2f30163">hook_entity_prepare_view()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#gaa752a8fd31173fd2308d71eb059e00c7">field_attach_view()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> (all)</li>
</ul>
</li>
<li>Viewing multiple nodes (calling <a class="el" href="node_8module.html#a2296e973f0df6c4c1961891b05c0d5d4">node_view_multiple()</a> - note that the input to <a class="el" href="node_8module.html#a2296e973f0df6c4c1961891b05c0d5d4">node_view_multiple()</a> is a set of loaded nodes, so the Loading steps above are already done):<ul>
<li><a class="el" href="group__field__attach.html#ga12b5fce5e2b2adb487c485c63bfe0298">field_attach_prepare_view()</a></li>
<li><a class="el" href="group__hooks.html#ga7e60ef817e60b20497bda315d2f30163">hook_entity_prepare_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gaa752a8fd31173fd2308d71eb059e00c7">field_attach_view()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> (all)</li>
</ul>
</li>
<li>Deleting a node (calling <a class="el" href="node_8module.html#a707438913046b4959fa531386beb8024">node_delete()</a> or <a class="el" href="node_8module.html#ab7b4bed8dc18cfa2d8e1839b0429effa">node_delete_multiple()</a>):<ul>
<li>Node is loaded (see Loading section above)</li>
<li><a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gac329b7f9d18e7fbccb6057e6f4bc4cb9">hook_entity_delete()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a></li>
<li>Node and revision information are deleted from database</li>
</ul>
</li>
<li>Deleting a node revision (calling <a class="el" href="node_8module.html#a0f00bdfa980e632ef1346027b9064b37">node_revision_delete()</a>):<ul>
<li>Node is loaded (see Loading section above)</li>
<li>Revision information is deleted from database</li>
<li><a class="el" href="group__node__api__hooks.html#gad7e8c6941181366016058771ae841bc9">hook_node_revision_delete()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#gaa9eae65e6d9f1996cb27a55ba25b56e9">field_attach_delete_revision()</a></li>
</ul>
</li>
<li>Preparing a node for editing (calling <a class="el" href="group__forms.html#ga267299500e205db099ee4e8396769d3f">node_form()</a> - note that if it is an existing node, it will already be loaded; see the Loading section above):<ul>
<li><a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#ga52618ef4643a60878dd5a76ff9bbff30">hook_form()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gac5bd0213dae78f7c1b3235f3acdde2c6">field_attach_form()</a></li>
</ul>
</li>
<li>Validating a node during editing form submit (calling <a class="el" href="node_8pages_8inc.html#aedf9f810594bc4c402a92cb197930bd9">node_form_validate()</a>):<ul>
<li><a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#ga8c9a9775772774cefae4f6b9959d477e">field_attach_form_validate()</a></li>
</ul>
</li>
<li>Searching (calling <a class="el" href="node_8module.html#ad7047dcdd1c1934351adb73de080c640">node_search_execute()</a>):<ul>
<li><a class="el" href="group__node__api__hooks.html#gaf7a28ce3230dc96833ea5338fd26f43c">hook_ranking()</a> (all)</li>
<li><a class="el" href="classQuery.html">Query</a> is executed to find matching nodes</li>
<li>Resulting node is loaded (see Loading section above)</li>
<li>Resulting node is prepared for viewing (see Viewing a single node above)</li>
<li><a class="el" href="comment_8module.html#a8810ffc5ce0ed7c78b997fe4e712913d">comment_node_update_index()</a> is called.</li>
<li><a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result()</a> (all)</li>
</ul>
</li>
<li>Search indexing (calling <a class="el" href="node_8module.html#a4310054ba3c28aad3c32f497898fb744">node_update_index()</a>):<ul>
<li>Node is loaded (see Loading section above)</li>
<li>Node is prepared for viewing (see Viewing a single node above)</li>
<li><a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index()</a> (all) </li>
</ul>
</li>
</ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga8588d8a814e8aef059d9e0f842904b35"></a><!-- doxytag: member="node.api.php::hook_delete" ref="ga8588d8a814e8aef059d9e0f842904b35" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to node deletion.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> to respond to all node deletions).</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#ab7b4bed8dc18cfa2d8e1839b0429effa">node_delete_multiple()</a> after the node has been removed from the node table in the database, before <a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> is invoked, and before <a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a> is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga52618ef4643a60878dd5a76ff9bbff30"></a><!-- doxytag: member="node.api.php::hook_form" ref="ga52618ef4643a60878dd5a76ff9bbff30" args="($node, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_form </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Display a node editing form.</p>
<p>This hook, implemented by node modules, is called to retrieve the form that is displayed to create or edit a node. This form is displayed at path node/add/[node type] or node/[node ID]/edit.</p>
<p>The submit and preview buttons, administrative and display controls, and sections added by other modules (such as path settings, menu settings, comment settings, and fields managed by the Field UI module) are displayed automatically by the node module. This hook just needs to return the node title and form editing fields specific to the node type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node being added or edited. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form_state</em>&nbsp;</td><td>The form state array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array containing the title and any custom form elements to be displayed in the node editing form. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c6a28d33e07d3506e1eb99718ef4e39"></a><!-- doxytag: member="node.api.php::hook_insert" ref="ga3c6a28d33e07d3506e1eb99718ef4e39" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_insert </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to creation of a new node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> to act on all node insertions).</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> after the node is inserted into the node table in the database, before <a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a> is called, and before <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> is invoked.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga49065b040d7fb3e02889eda6361dac34"></a><!-- doxytag: member="node.api.php::hook_load" ref="ga49065b040d7fb3e02889eda6361dac34" args="($nodes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_load </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>nodes</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on nodes being loaded from the database.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> to respond to all node loads).</p>
<p>This hook is invoked during node loading, which is handled by <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a>, via classes <a class="el" href="classNodeController.html">NodeController</a> and <a class="el" href="classDrupalDefaultEntityController.html">DrupalDefaultEntityController</a>. After the node information is read from the database or the entity cache, <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> is invoked on the node's content type module, then field_attach_node_revision() or <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a> is called, then <a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> is invoked on all implementing modules, and finally <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> is invoked on all implementing modules.</p>
<p>This hook should only be used to add information that is not in the node or node revisions table, not to replace information that is in these tables (which could interfere with the entity cache). For performance reasons, information for all available nodes should be loaded in a single query where possible.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$nodes</em>&nbsp;</td><td>An array of the nodes being loaded, keyed by nid.</td></tr>
  </table>
  </dd>
</dl>
<p>For a detailed usage example, see node_example.module. </p>

</div>
</div>
<a class="anchor" id="ga66ea0473a9950dc961802e801e5042e9"></a><!-- doxytag: member="node.api.php::hook_node_delete" ref="ga66ea0473a9950dc961802e801e5042e9" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to node deletion.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#ab7b4bed8dc18cfa2d8e1839b0429effa">node_delete_multiple()</a> after the type-specific <a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete()</a> has been invoked, but before hook_entity_delete and <a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a> are called, and before the node is removed from the node table in the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3b6ad51d7815d1cdd093b0e0f350cbd0"></a><!-- doxytag: member="node.api.php::hook_node_info" ref="ga3b6ad51d7815d1cdd093b0e0f350cbd0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_info </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define module-provided node types.</p>
<p>This hook allows a module to define one or more of its own node types. For example, the blog module uses it to define a blog node-type named "Blog
 entry." The name and attributes of each desired node type are specified in an array returned by the hook.</p>
<p>Only module-provided node types should be defined through this hook. User- provided (or 'custom') node types should be defined only in the 'node_type' database table, and should be maintained by using the <a class="el" href="node_8module.html#a9a5c06f9903cea586bd44a7d6e9e086c">node_type_save()</a> and <a class="el" href="node_8module.html#a7fe2d244b6635513800a027053144425">node_type_delete()</a> functions.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of information defining the module's node types. The array contains a sub-array for each node type, with the machine-readable type name as the key. Each sub-array has up to 10 attributes. Possible attributes:<ul>
<li>name: (required) The human-readable name of the node type.</li>
<li>base: (required) The base string used to construct callbacks corresponding to this node type (for example, if base is defined as example_foo, then example_foo_insert will be called when inserting a node of that type). This string is usually the name of the module, but not always.</li>
<li>description: (required) A brief description of the node type.</li>
<li>help: (optional) Help information shown to the user when creating a node of this type.</li>
<li>has_title: (optional) A Boolean indicating whether or not this node type has a title field.</li>
<li>title_label: (optional) The label for the title field of this content type.</li>
<li>locked: (optional) A Boolean indicating whether the administrator can change the machine name of this type. FALSE = changeable (not locked), TRUE = unchangeable (locked).</li>
</ul>
</dd></dl>
<p>The machine name of a node type should contain only letters, numbers, and underscores. Underscores will be converted into hyphens for the purpose of constructing URLs.</p>
<p>All attributes of a node type that are defined through this hook (except for 'locked') can be edited by a site administrator. This includes the machine-readable name of a node type, if 'locked' is set to FALSE. </p>

</div>
</div>
<a class="anchor" id="ga8b40dc62e46e5055c205d2a723dc3548"></a><!-- doxytag: member="node.api.php::hook_node_insert" ref="ga8b40dc62e46e5055c205d2a723dc3548" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_insert </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to creation of a new node.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> after the database query that will insert the node into the node table is scheduled for execution, after the type-specific <a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> is invoked, and after <a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a> is called.</p>
<p>Note that when this hook is invoked, the changes have not yet been written to the database, because a database transaction is still in progress. The transaction is not finalized until the save operation is entirely completed and <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> goes out of scope. You should not rely on data in the database at this time as it is not updated yet. You should also note that any write/update database queries executed from this hook are also not committed immediately. Check <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> and <a class="el" href="group__database.html#gabdd0e69f5b2c63f8ad9e76f0fdf552be">db_transaction()</a> for more info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad48bb14b68ed38526029d1f7ac2d2de4"></a><!-- doxytag: member="node.api.php::hook_node_load" ref="gad48bb14b68ed38526029d1f7ac2d2de4" args="($nodes, $types)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_load </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>types</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on arbitrary nodes being loaded from the database.</p>
<p>This hook should be used to add information that is not in the node or node revisions table, not to replace information that is in these tables (which could interfere with the entity cache). For performance reasons, information for all available nodes should be loaded in a single query where possible.</p>
<p>This hook is invoked during node loading, which is handled by <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a>, via classes <a class="el" href="classNodeController.html">NodeController</a> and <a class="el" href="classDrupalDefaultEntityController.html">DrupalDefaultEntityController</a>. After the node information is read from the database or the entity cache, <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> is invoked on the node's content type module, then <a class="el" href="group__field__attach.html#gac79dd0f29910835c653b068233fa429b">field_attach_load_revision()</a> or <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a> is called, then <a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> is invoked on all implementing modules, and finally <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> is invoked on all implementing modules.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$nodes</em>&nbsp;</td><td>An array of the nodes being loaded, keyed by nid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$types</em>&nbsp;</td><td>An array containing the node types present in $nodes. Allows for an early return for modules that only support certain node types. However, if your module defines a content type, you can use <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> to respond to loading of just that content type.</td></tr>
  </table>
  </dd>
</dl>
<p>For a detailed usage example, see nodeapi_example.module. </p>

</div>
</div>
<a class="anchor" id="ga4bbe7320bd52fc6183920c8be2d9d4f6"></a><!-- doxytag: member="node.api.php::hook_node_prepare" ref="ga4bbe7320bd52fc6183920c8be2d9d4f6" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_prepare </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node object about to be shown on the add/edit form.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#ac12e464390fef44e55ddc2e0a35e9fe2">node_object_prepare()</a> after the type-specific <a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare()</a> is invoked.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is about to be shown on the add/edit form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab339b1a1ce0e235d4a9c5a05e410dcd6"></a><!-- doxytag: member="node.api.php::hook_node_presave" ref="gab339b1a1ce0e235d4a9c5a05e410dcd6" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_presave </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being inserted or updated.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> before the node is saved to the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being inserted or updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad7e8c6941181366016058771ae841bc9"></a><!-- doxytag: member="node.api.php::hook_node_revision_delete" ref="gad7e8c6941181366016058771ae841bc9" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_revision_delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to deletion of a node revision.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a0f00bdfa980e632ef1346027b9064b37">node_revision_delete()</a> after the revision has been removed from the node_revision table, and before <a class="el" href="group__field__attach.html#gaa9eae65e6d9f1996cb27a55ba25b56e9">field_attach_delete_revision()</a> is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node revision (node object) that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8644320a0e04e3a503c99626d4223725"></a><!-- doxytag: member="node.api.php::hook_node_search_result" ref="ga8644320a0e04e3a503c99626d4223725" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_search_result </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being displayed as a search result.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#ad7047dcdd1c1934351adb73de080c640">node_search_execute()</a>, after <a class="el" href="node_8module.html#a492ddfc12843e71242bb484a44e51a19">node_load()</a> and <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> have been called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node being displayed in a search result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Extra information to be displayed with search result. This information should be presented as an associative array. It will be concatenated with the post information (last updated, author) in the default search result theming.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="search_8pages_8inc.html#a45d5ee9444aba311056f3949e503b426">template_preprocess_search_result()</a> </dd>
<dd>
<a class="el" href="search-result_8tpl_8php.html">search-result.tpl.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga1b479b731ecb3f9eec0c92e3e1a8e01d"></a><!-- doxytag: member="node.api.php::hook_node_submit" ref="ga1b479b731ecb3f9eec0c92e3e1a8e01d" args="($node, $form, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_submit </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node after validated form values have been copied to it.</p>
<p>This hook is invoked when a node form is submitted with either the "Save" or "Preview" button, after form values have been copied to the form state's node object, but before the node is saved or previewed. It is a chance for modules to adjust the node's properties from what they are simply after a copy from $form_state['values']. This hook is intended for adjusting non-field-related properties. See <a class="el" href="group__field__attach.html#ga368ea58ca800b1e1f69f4b88e82f9ae0">hook_field_attach_submit()</a> for customizing field-related properties.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node object being updated in response to a form submission. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form</em>&nbsp;</td><td>The form being used to edit the node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form_state</em>&nbsp;</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac66c767cc922fcbfdaf17252e5d87d9d"></a><!-- doxytag: member="node.api.php::hook_node_update" ref="gac66c767cc922fcbfdaf17252e5d87d9d" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to updates to a node.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> after the database query that will update node in the node table is scheduled for execution, after the type-specific <a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update()</a> is invoked, and after <a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a> is called.</p>
<p>Note that when this hook is invoked, the changes have not yet been written to the database, because a database transaction is still in progress. The transaction is not finalized until the save operation is entirely completed and <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> goes out of scope. You should not rely on data in the database at this time as it is not updated yet. You should also note that any write/update database queries executed from this hook are also not committed immediately. Check <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> and <a class="el" href="group__database.html#gabdd0e69f5b2c63f8ad9e76f0fdf552be">db_transaction()</a> for more info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac8420f204c69a4dc641f4d809a870b05"></a><!-- doxytag: member="node.api.php::hook_node_update_index" ref="gac8420f204c69a4dc641f4d809a870b05" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_update_index </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being indexed for searching.</p>
<p>This hook is invoked during search indexing, after <a class="el" href="node_8module.html#a492ddfc12843e71242bb484a44e51a19">node_load()</a>, and after the result of <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> is added as $node-&gt;rendered to the node object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node being indexed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string Additional node information to be indexed. </dd></dl>

</div>
</div>
<a class="anchor" id="gad26227eaf0dd513134767a11be40ab1d"></a><!-- doxytag: member="node.api.php::hook_node_validate" ref="gad26227eaf0dd513134767a11be40ab1d" args="($node, $form, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_validate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform node validation before a node is created or updated.</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a9f5f6b14ffa70a478e11e60b1fe9d254">node_validate()</a>, after a user has has finished editing the node and is previewing or submitting it. It is invoked at the end of all the standard validation steps, and after the type-specific <a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate()</a> is invoked.</p>
<p>To indicate a validation error, use <a class="el" href="group__form__api.html#ga6f4ecbec42e905390e521b393417f97f">form_set_error()</a>.</p>
<p>Note: Changes made to the $node object within your hook implementation will have no effect. The preferred method to change a node's content is to use <a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> instead. If it is really necessary to change the node at the validate stage, you can use <a class="el" href="group__form__api.html#ga2a377a1fcccea79d06d1a735dea433f3">form_set_value()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node being validated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form</em>&nbsp;</td><td>The form being used to edit the node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form_state</em>&nbsp;</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga475290ee8e81a2373ea17c512cc3f9a9"></a><!-- doxytag: member="node.api.php::hook_node_view" ref="ga475290ee8e81a2373ea17c512cc3f9a9" args="($node, $view_mode, $langcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_view </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>view_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>langcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node that is being assembled before rendering.</p>
<p>The module may add elements to $node-&gt;content prior to rendering. This hook will be called after <a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a>. The structure of $node-&gt;content is a renderable array as expected by <a class="el" href="common_8inc.html#a05798b44e8d6c496d4bee5cc32fa7851">drupal_render()</a>.</p>
<p>When $view_mode is 'rss', modules can also add extra RSS elements and namespaces to $node-&gt;rss_elements and $node-&gt;rss_namespaces respectively for the RSS item generated for this node. For details on how this is used, see <a class="el" href="node_8module.html#acad30bd6d2afbf584f622957c8f4718f">node_feed()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="blog_8module.html#aef07831d7585949a6c1fffae85571598">blog_node_view()</a> </dd>
<dd>
<a class="el" href="forum_8module.html#a76349348d79c1557db47ffe253587ffd">forum_node_view()</a> </dd>
<dd>
<a class="el" href="comment_8module.html#af67cef07b57f84e54b8b26c38fe0fda0">comment_node_view()</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being assembled for rendering. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$view_mode</em>&nbsp;</td><td>The $view_mode parameter from <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$langcode</em>&nbsp;</td><td>The language code used for rendering.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gad5ece824736be57bf0020af900398b94"></a><!-- doxytag: member="node.api.php::hook_node_view_alter" ref="gad5ece824736be57bf0020af900398b94" args="(&amp;$build)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_node_view_alter </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>build</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alter the results of <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a>.</p>
<p>This hook is called after the content has been assembled in a structured array and may be used for doing processing which requires that the complete node content structure has been built.</p>
<p>If the module wishes to act on the rendered HTML of the node rather than the structured content array, it may use this hook to add a post_render callback. Alternatively, it could also implement hook_preprocess_node(). See <a class="el" href="common_8inc.html#a05798b44e8d6c496d4bee5cc32fa7851">drupal_render()</a> and <a class="el" href="includes_2theme_8inc.html#a7c25609a935874541a19657affd30fff">theme()</a> documentation respectively for details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$build</em>&nbsp;</td><td>A renderable array representing the node content.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> </dd>
<dd>
<a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2dff6dd92802df6b776a4eeb0b1a737c"></a><!-- doxytag: member="node.api.php::hook_prepare" ref="ga2dff6dd92802df6b776a4eeb0b1a737c" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_prepare </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node object about to be shown on the add/edit form.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> to act on all node preparations).</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#ac12e464390fef44e55ddc2e0a35e9fe2">node_object_prepare()</a> before the general <a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> is invoked.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is about to be shown on the add/edit form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf7a28ce3230dc96833ea5338fd26f43c"></a><!-- doxytag: member="node.api.php::hook_ranking" ref="gaf7a28ce3230dc96833ea5338fd26f43c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_ranking </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Provide additional methods of scoring for core search results for nodes.</p>
<p>A node's search score is used to rank it among other nodes matched by the search, with the highest-ranked nodes appearing first in the search listing.</p>
<p>For example, a module allowing users to vote on content could expose an option to allow search results' rankings to be influenced by the average voting score of a node.</p>
<p>All scoring mechanisms are provided as options to site administrators, and may be tweaked based on individual sites or disabled altogether if they do not make sense. Individual scoring mechanisms, if enabled, are assigned a weight from 1 to 10. The weight represents the factor of magnification of the ranking mechanism, with higher-weighted ranking mechanisms having more influence. In order for the weight system to work, each scoring mechanism must return a value between 0 and 1 for every node. That value is then multiplied by the administrator-assigned weight for the ranking mechanism, and then the weighted scores from all ranking mechanisms are added, which brings about the same result as a weighted average.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An associative array of ranking data. The keys should be strings, corresponding to the internal name of the ranking mechanism, such as 'recent', or 'comments'. The values should be arrays themselves, with the following keys available:<ul>
<li>title: (required) The human readable name of the ranking mechanism.</li>
<li>join: (optional) The part of a query string to join to any additional necessary table. This is not necessary if the table required is already joined to by the base query, such as for the {node} table. Other tables should use the full table name as an alias to avoid naming collisions.</li>
<li>score: (required) The part of a query string to calculate the score for the ranking mechanism based on values in the database. This does not need to be wrapped in parentheses, as it will be done automatically; it also does not need to take the weighted system into account, as it will be done automatically. It does, however, need to calculate a decimal between 0 and 1; be careful not to cast the entire score to an integer by inadvertently introducing a variable argument.</li>
<li>arguments: (optional) If any arguments are required for the score, they can be specified in an array here. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaf9c98e3839e9405df42b50c8cdfa9dca"></a><!-- doxytag: member="node.api.php::hook_update" ref="gaf9c98e3839e9405df42b50c8cdfa9dca" args="($node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to updates to a node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> to act on all node updates).</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a26add7591be64b30a18232927ef14faf">node_save()</a> after the node is updated in the node table in the database, before <a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a> is called, and before <a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> is invoked.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node that is being updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacaf7cff104c642c28f76ce7ec5f33f40"></a><!-- doxytag: member="node.api.php::hook_validate" ref="gacaf7cff104c642c28f76ce7ec5f33f40" args="($node, $form, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_validate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform node validation before a node is created or updated.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> to act on all node validations).</p>
<p>This hook is invoked from <a class="el" href="node_8module.html#a9f5f6b14ffa70a478e11e60b1fe9d254">node_validate()</a>, after a user has finished editing the node and is previewing or submitting it. It is invoked at the end of all the standard validation steps, and before <a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> is invoked.</p>
<p>To indicate a validation error, use <a class="el" href="group__form__api.html#ga6f4ecbec42e905390e521b393417f97f">form_set_error()</a>.</p>
<p>Note: Changes made to the $node object within your hook implementation will have no effect. The preferred method to change a node's content is to use <a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> instead.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node being validated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form</em>&nbsp;</td><td>The form being used to edit the node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form_state</em>&nbsp;</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab1f229603b5e0f2f9d9e2a3ab53dcbda"></a><!-- doxytag: member="node.api.php::hook_view" ref="gab1f229603b5e0f2f9d9e2a3ab53dcbda" args="($node, $view_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_view </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>view_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Display a node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> to act on all node views).</p>
<p>This hook is invoked during node viewing after the node is fully loaded, so that the node type module can define a custom method for display, or add to the default display.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$node</em>&nbsp;</td><td>The node to be displayed, as returned by <a class="el" href="node_8module.html#a492ddfc12843e71242bb484a44e51a19">node_load()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$view_mode</em>&nbsp;</td><td>View mode, e.g. 'full', 'teaser', ... </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The passed $node parameter should be modified as necessary and returned so it can be properly presented. Nodes are prepared for display by assembling a structured array, formatted as in the Form API, in $node-&gt;content. As with Form API arrays, the weight property can be used to control the relative positions of added elements. After this hook is invoked, <a class="el" href="node_8module.html#ac2c64fdfacc25be79a6ecf406ab62320">node_view()</a> calls <a class="el" href="group__field__attach.html#gaa752a8fd31173fd2308d71eb059e00c7">field_attach_view()</a> to add field views to $node-&gt;content, and then invokes <a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> and <a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a>, so if you want to affect the final <a class="el" href="classview.html">view</a> of the node, you might consider implementing one of these hooks instead. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
