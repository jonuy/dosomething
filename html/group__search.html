<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: Search interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Search interface</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gac49e6fd7370e65efeaf484ec992de1f0">hook_search_access</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gaefc7ab0e4a53a2752371dcccaec41deb">hook_search_reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gafb7f508058afed4fe670974b82b072f2">hook_search_status</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gae7c7a4e3d4ee63b5aab3742b0e12624e">hook_search_admin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga00be3e4a3b64ad73f8ad1304a450cee5">hook_search_execute</a> ($keys=NULL, $conditions=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga3c935c295da9103bc7184f6ec869c533">hook_search_preprocess</a> ($text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gab59b17cb3637c3acccf3c73cd5c1195d">callback_search_conditions</a> ($keys)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga57ab9f6e1c404a8c248293e554373ae6">search_index</a> ($sid, $module, $text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gae12dc9da20e7e19853dfc18f92039d98">search_form</a> ($form, &amp;$form_state, $action= '', $keys= '', $module=NULL, $prompt=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gaf91fe848f7f58fc3d63001198e485e00">search_box_form_submit</a> ($form, &amp;$form_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#ga545a7c7108d985d17d8b8b4054ba66ef">template_preprocess_search_block_form</a> (&amp;$variables)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gadc45d10981f71a4d12879254b14c2c99">search_data</a> ($keys, $module, $conditions=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__search.html#gaa77622185b2d7ea771cf590d76ab3ba4">search_excerpt</a> ($keys, $text)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The Drupal search interface manages a global search mechanism.</p>
<p>Modules may plug into this system to provide searches of different types of data. Most of the system is handled by <a class="el" href="search_8module.html">search.module</a>, so this must be enabled for all of the search features to work.</p>
<p>There are three ways to interact with the search system:</p>
<ul>
<li>Specifically for searching nodes, you can implement <a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index()</a> and <a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result()</a>. However, note that the search system already indexes all visible output of a node; i.e., everything displayed normally by <a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a> and <a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a>. This is usually sufficient. You should only use this mechanism if you want additional, non-visible data to be indexed.</li>
<li>Implement <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>. This will create a search tab for your module on the /search page with a simple keyword search form. You will also need to implement <a class="el" href="group__search.html#ga00be3e4a3b64ad73f8ad1304a450cee5">hook_search_execute()</a> to perform the search.</li>
<li>Implement <a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index()</a>. This allows your module to use Drupal's HTML indexing mechanism for searching full text efficiently.</li>
</ul>
<p>If your module needs to provide a more complicated search form, then you need to implement it yourself without <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>. In that case, you should define it as a local task (tab) under the /search page (e.g. /search/mymodule) so that users can easily find it. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab59b17cb3637c3acccf3c73cd5c1195d"></a><!-- doxytag: member="search.api.php::callback_search_conditions" ref="gab59b17cb3637c3acccf3c73cd5c1195d" args="($keys)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">callback_search_conditions </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of "addtogroup hooks". Provide search query conditions.</p>
<p>Callback for <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>.</p>
<p>This callback is invoked by <a class="el" href="search_8pages_8inc.html#aa4798bb08a1df2c280b943182d53892e">search_view()</a> to get an array of additional search conditions to pass to <a class="el" href="group__search.html#gadc45d10981f71a4d12879254b14c2c99">search_data()</a>. For example, a search module may get additional keywords, filters, or modifiers for the search from the query string.</p>
<p>This example pulls additional search keywords out of the $_REQUEST variable, (i.e. from the query string of the request). The conditions may also be generated internally - for example based on a module's settings.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$keys</em>&nbsp;</td><td>The search keywords string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of additional conditions, such as filters. </dd></dl>

</div>
</div>
<a class="anchor" id="gac49e6fd7370e65efeaf484ec992de1f0"></a><!-- doxytag: member="search.api.php::hook_search_access" ref="gac49e6fd7370e65efeaf484ec992de1f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_access </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define access to a custom search routine.</p>
<p>This hook allows a module to define permissions for a search tab. </p>

</div>
</div>
<a class="anchor" id="gae7c7a4e3d4ee63b5aab3742b0e12624e"></a><!-- doxytag: member="search.api.php::hook_search_admin" ref="gae7c7a4e3d4ee63b5aab3742b0e12624e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_admin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add elements to the search settings form.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Form array for the Search settings page at admin/config/search/settings. </dd></dl>

</div>
</div>
<a class="anchor" id="ga00be3e4a3b64ad73f8ad1304a450cee5"></a><!-- doxytag: member="search.api.php::hook_search_execute" ref="ga00be3e4a3b64ad73f8ad1304a450cee5" args="($keys=NULL, $conditions=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_execute </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>conditions</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Execute a search for a set of key words.</p>
<p>Use database API with the 'PagerDefault' query extension to perform your search.</p>
<p>If your module uses <a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index()</a> and <a class="el" href="group__search.html#ga57ab9f6e1c404a8c248293e554373ae6">search_index()</a> to index its items, use table 'search_index' aliased to 'i' as the main table in your query, with the 'SearchQuery' extension. You can join to your module's table using the 'i.sid' field, which will contain the $sid values you provided to <a class="el" href="group__search.html#ga57ab9f6e1c404a8c248293e554373ae6">search_index()</a>. Add the main keywords to the query by using method searchExpression(). The functions <a class="el" href="search_8module.html#a6d0e1560509bebe41ba4c6a2959ce59c">search_expression_extract()</a> and <a class="el" href="search_8module.html#a90b4fc5f716558dc1bf741c239fe1a0e">search_expression_insert()</a> may also be helpful for adding custom search parameters to the search expression.</p>
<p>See <a class="el" href="node_8module.html#ad7047dcdd1c1934351adb73de080c640">node_search_execute()</a> for an example of a module that uses the search index, and <a class="el" href="user_8module.html#a04e2120f38c081b16387b631602cc47f">user_search_execute()</a> for an example that doesn't use the search index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$keys</em>&nbsp;</td><td>The search keywords as entered by the user. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$conditions</em>&nbsp;</td><td>An optional array of additional conditions, such as filters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of search results. To use the default search result display, each item should have the following keys':<ul>
<li>'link': Required. The URL of the found item.</li>
<li>'type': The type of item (such as the content type).</li>
<li>'title': Required. The name of the item.</li>
<li>'user': The author of the item.</li>
<li>'date': A timestamp when the item was last modified.</li>
<li>'extra': An array of optional extra information items.</li>
<li>'snippet': An excerpt or preview to show with the result (can be generated with <a class="el" href="group__search.html#gaa77622185b2d7ea771cf590d76ab3ba4">search_excerpt()</a>).</li>
<li>'language': Language code for the item (usually two characters). </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga37b761616f2cad4796891008f2b374f3"></a><!-- doxytag: member="search.api.php::hook_search_info" ref="ga37b761616f2cad4796891008f2b374f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_info </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define a custom search type.</p>
<p>This hook allows a module to tell <a class="el" href="search_8module.html">search.module</a> that it wishes to perform searches on content it defines (custom node types, users, or comments for example) when a site search is performed.</p>
<p>In order for the search to do anything, your module must also implement <a class="el" href="group__search.html#ga00be3e4a3b64ad73f8ad1304a450cee5">hook_search_execute()</a>, which is called when someone requests a search on your module's type of content. If you want to have your content indexed in the standard search index, your module should also implement <a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index()</a>. If your search type has settings, you can implement <a class="el" href="group__search.html#gae7c7a4e3d4ee63b5aab3742b0e12624e">hook_search_admin()</a> to add them to the search settings page. You can use <a class="el" href="group__hooks.html#ga8d4a4089551493d55911bd5c4f218264">hook_form_FORM_ID_alter()</a>, with FORM_ID set to 'search_form', to add fields to the search form (see <a class="el" href="node_8module.html#aafba59926e9d0a8e6f81cbb776cba7ef">node_form_search_form_alter()</a> for an example). You can use <a class="el" href="group__search.html#gac49e6fd7370e65efeaf484ec992de1f0">hook_search_access()</a> to limit access to searching, and <a class="el" href="group__hooks.html#ga422b9506b3dfd8ed5aa8bfaea98844b9">hook_search_page()</a> to override how search results are displayed.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array with optional keys:<ul>
<li>title: Title for the tab on the search page for this module. Defaults to the module name if not given.</li>
<li>path: Path component after 'search/' for searching with this module. Defaults to the module name if not given.</li>
<li>conditions_callback: An implementation of <a class="el" href="group__search.html#gab59b17cb3637c3acccf3c73cd5c1195d">callback_search_conditions()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga3c935c295da9103bc7184f6ec869c533"></a><!-- doxytag: member="search.api.php::hook_search_preprocess" ref="ga3c935c295da9103bc7184f6ec869c533" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_preprocess </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Preprocess text for search.</p>
<p>This hook is called to preprocess both the text added to the search index and the keywords users have submitted for searching.</p>
<p>Possible uses:</p>
<ul>
<li>Adding spaces between words of Chinese or Japanese text.</li>
<li>Stemming words down to their root words to allow matches between, for instance, walk, walked, walking, and walks in searching.</li>
<li>Expanding abbreviations and acronymns that occur in text.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The text to preprocess. This is a single piece of plain text extracted from between two HTML tags or from the search query. It will not contain any HTML entities or HTML tags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The text after preprocessing. Note that if your module decides not to alter the text, it should return the original text. Also, after preprocessing, words in the text should be separated by a space. </dd></dl>

</div>
</div>
<a class="anchor" id="gaefc7ab0e4a53a2752371dcccaec41deb"></a><!-- doxytag: member="search.api.php::hook_search_reset" ref="gaefc7ab0e4a53a2752371dcccaec41deb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Take action when the search index is going to be rebuilt.</p>
<p>Modules that use <a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index()</a> should update their indexing bookkeeping so that it starts from scratch the next time <a class="el" href="group__search.html#ga23d6f6642bd53c4f033f10e9c1b12d43">hook_update_index()</a> is called. </p>

</div>
</div>
<a class="anchor" id="gafb7f508058afed4fe670974b82b072f2"></a><!-- doxytag: member="search.api.php::hook_search_status" ref="gafb7f508058afed4fe670974b82b072f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_search_status </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Report the status of indexing.</p>
<p>The core search module only invokes this hook on active modules. Implementing modules do not need to check whether they are active when calculating their return values.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An associative array with the key-value pairs:<ul>
<li>'remaining': The number of items left to index.</li>
<li>'total': The total number of items to index. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga23d6f6642bd53c4f033f10e9c1b12d43"></a><!-- doxytag: member="search.api.php::hook_update_index" ref="ga23d6f6642bd53c4f033f10e9c1b12d43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_update_index </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the search index for this module.</p>
<p>This hook is called every cron run if <a class="el" href="search_8module.html">search.module</a> is enabled, your module has implemented <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>, and your module has been set as an active search module on the Search settings page (admin/config/search/settings). It allows your module to add items to the built-in search index using <a class="el" href="group__search.html#ga57ab9f6e1c404a8c248293e554373ae6">search_index()</a>, or to add them to your module's own indexing mechanism.</p>
<p>When implementing this hook, your module should index content items that were modified or added since the last run. PHP has a time limit for cron, though, so it is advisable to limit how many items you index per run using variable_get('search_cron_limit') (see example below). Also, since the cron run could time out and abort in the middle of your run, you should update your module's internal bookkeeping on when items have last been indexed as you go rather than waiting to the end of indexing. </p>

</div>
</div>
<a class="anchor" id="gaf91fe848f7f58fc3d63001198e485e00"></a><!-- doxytag: member="search.module::search_box_form_submit" ref="gaf91fe848f7f58fc3d63001198e485e00" args="($form, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_box_form_submit </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process a block search form submission. </p>

</div>
</div>
<a class="anchor" id="gadc45d10981f71a4d12879254b14c2c99"></a><!-- doxytag: member="search.module::search_data" ref="gadc45d10981f71a4d12879254b14c2c99" args="($keys, $module, $conditions=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_data </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>conditions</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs a search by calling <a class="el" href="group__search.html#ga00be3e4a3b64ad73f8ad1304a450cee5">hook_search_execute()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$keys</em>&nbsp;</td><td>Keyword query to search on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>Search module to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$conditions</em>&nbsp;</td><td>Optional array of additional search conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Renderable array of search results. No return value if $keys are not supplied or if the given search module is not active. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa77622185b2d7ea771cf590d76ab3ba4"></a><!-- doxytag: member="search.module::search_excerpt" ref="gaa77622185b2d7ea771cf590d76ab3ba4" args="($keys, $text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_excerpt </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns snippets from a piece of text, with certain keywords highlighted. Used for formatting search results.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$keys</em>&nbsp;</td><td>A string containing a search query.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The text to extract fragments from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A string containing HTML for the excerpt. </dd></dl>

</div>
</div>
<a class="anchor" id="gae12dc9da20e7e19853dfc18f92039d98"></a><!-- doxytag: member="search.module::search_form" ref="gae12dc9da20e7e19853dfc18f92039d98" args="($form, &amp;$form_state, $action= '', $keys= '', $module=NULL, $prompt=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_form </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>action</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>prompt</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Builds a search form.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$action</em>&nbsp;</td><td>Form action. Defaults to "search/$path", where $path is the search path associated with the module in its <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>. This will be run through <a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys</em>&nbsp;</td><td>The search string entered by the user, containing keywords for the search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The search module to render the form for: a module that implements <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>. If not supplied, the default search module is used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$prompt</em>&nbsp;</td><td>Label for the keywords field. Defaults to t('Enter your keywords') if NULL. Supply '' to omit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Form API array for the search form. </dd></dl>

</div>
</div>
<a class="anchor" id="ga57ab9f6e1c404a8c248293e554373ae6"></a><!-- doxytag: member="search.module::search_index" ref="ga57ab9f6e1c404a8c248293e554373ae6" args="($sid, $module, $text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_index </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the full-text search index for a particular item.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sid</em>&nbsp;</td><td>An ID number identifying this particular item (e.g., node ID). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The machine-readable name of the module that this item comes from (a module that implements <a class="el" href="group__search.html#ga37b761616f2cad4796891008f2b374f3">hook_search_info()</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The content of this item. Must be a piece of HTML or plain text. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga545a7c7108d985d17d8b8b4054ba66ef"></a><!-- doxytag: member="search.module::template_preprocess_search_block_form" ref="ga545a7c7108d985d17d8b8b4054ba66ef" args="(&amp;$variables)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">template_preprocess_search_block_form </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>variables</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process variables for <a class="el" href="search-block-form_8tpl_8php.html">search-block-form.tpl.php</a>.</p>
<p>The $variables array contains the following arguments:</p>
<ul>
<li>$form</li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="search-block-form_8tpl_8php.html">search-block-form.tpl.php</a> </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
