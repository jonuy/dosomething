\hypertarget{pager_8inc}{
\section{html/includes/pager.inc File Reference}
\label{pager_8inc}\index{html/includes/pager.inc@{html/includes/pager.inc}}
}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classPagerDefault}{PagerDefault}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pager_8inc_a7c4b7f1b30cc884b4823937ac86c71d5}{pager\_\-find\_\-page} (\$element=0)
\item 
\hyperlink{pager_8inc_a8e8fe141a61ed070df4145bee4ec5571}{pager\_\-default\_\-initialize} (\$total, \$limit, \$element=0)
\item 
\hyperlink{pager_8inc_a72b73df2a968faea00b27cdae0c8ee87}{pager\_\-get\_\-query\_\-parameters} ()
\item 
\hyperlink{group__themeable_ga3bfc8e62230af3fb60b061ee67c6d045}{theme\_\-pager} (\$variables)
\item 
\hyperlink{group__themeable_gaffa784c4dec5d4263179d003782aeb4d}{theme\_\-pager\_\-first} (\$variables)
\item 
\hyperlink{group__themeable_gae703c543e6dbae14df5da1451d6eaf03}{theme\_\-pager\_\-previous} (\$variables)
\item 
\hyperlink{group__themeable_ga36f1c652a53b2d4df284cdae21dc87a0}{theme\_\-pager\_\-next} (\$variables)
\item 
\hyperlink{group__themeable_ga906e18f1c174adbec2076cc886f8a102}{theme\_\-pager\_\-last} (\$variables)
\item 
\hyperlink{group__themeable_ga1f17f9bb29c5c0d1b58ff4cba8e2499a}{theme\_\-pager\_\-link} (\$variables)
\item 
\hyperlink{pager_8inc_a0f82d7cb1702f6d160285903378a9919}{pager\_\-load\_\-array} (\$value, \$element, \$old\_\-array)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions to aid in presenting database results as a set of pages. 

\subsection{Function Documentation}
\hypertarget{pager_8inc_a8e8fe141a61ed070df4145bee4ec5571}{
\index{pager.inc@{pager.inc}!pager\_\-default\_\-initialize@{pager\_\-default\_\-initialize}}
\index{pager\_\-default\_\-initialize@{pager\_\-default\_\-initialize}!pager.inc@{pager.inc}}
\subsubsection[{pager\_\-default\_\-initialize}]{\setlength{\rightskip}{0pt plus 5cm}pager\_\-default\_\-initialize (\$ {\em total}, \/  \$ {\em limit}, \/  \$ {\em element} = {\ttfamily 0})}}
\label{pager_8inc_a8e8fe141a61ed070df4145bee4ec5571}
Initializes a pager for theme('pager').

This function sets up the necessary global variables so that future calls to theme('pager') will render a pager that correctly corresponds to the items being displayed.

If the items being displayed result from a database query performed using Drupal's database API, and if you have control over the construction of the database query, you do not need to call this function directly; instead, you can simply extend the query object with the 'PagerDefault' extender before executing it. For example: 
\begin{DoxyCode}
   $query = db_select('some_table')->extend('PagerDefault');
\end{DoxyCode}


However, if you are using a different method for generating the items to be paged through, then you should call this function in preparation.

The following example shows how this function can be used in a page callback that invokes an external datastore with an SQL-\/like syntax: 
\begin{DoxyCode}
   // First find the total number of items and initialize the pager.
   $where = "status = 1";
   $total = mymodule_select("SELECT COUNT(*) FROM data " . $where)->result();
   $num_per_page = variable_get('mymodule_num_per_page', 10);
   $page = pager_default_initialize($total, $num_per_page);

   // Next, retrieve and display the items for the current page.
   $offset = $num_per_page * $page;
   $result = mymodule_select("SELECT * FROM data " . $where . " LIMIT %d, %d", $o
      ffset, $num_per_page)->fetchAll();
   $output = theme('mymodule_results', array('result' => $result));

   // Finally, display the pager controls, and return.
   $output .= theme('pager');
   return $output;
\end{DoxyCode}


A second example involves a page callback that invokes an external search service where the total number of matching results is provided as part of the returned set (so that we do not need a separate query in order to obtain this information). Here, we call \hyperlink{pager_8inc_a7c4b7f1b30cc884b4823937ac86c71d5}{pager\_\-find\_\-page()} to calculate the desired offset before the search is invoked: 
\begin{DoxyCode}
   // Perform the query, using the requested offset from pager_find_page().
   // This comes from a URL parameter, so here we are assuming that the URL
   // parameter corresponds to an actual page of results that will exist
   // within the set.
   $page = pager_find_page();
   $num_per_page = variable_get('mymodule_num_per_page', 10);
   $offset = $num_per_page * $page;
   $result = mymodule_remote_search($keywords, $offset, $num_per_page);

   // Now that we have the total number of results, initialize the pager.
   pager_default_initialize($result->total, $num_per_page);

   // Display the search results.
   $output = theme('search_results', array('results' => $result->data, 'type' => 
      'remote'));

   // Finally, display the pager controls, and return.
   $output .= theme('pager');
   return $output;
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
\item[{\em \$total}]The total number of items to be paged. \item[{\em \$limit}]The number of items the calling code will display per page. \item[{\em \$element}]An optional integer to distinguish between multiple pagers on one page.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of the current page, within the pager represented by \$element. This is determined from the URL query parameter \$\_\-GET\mbox{[}'page'\mbox{]}, or 0 by default. However, if a page that does not correspond to the actual range of the result set was requested, this function will return the closest page actually within the result set. 
\end{DoxyReturn}
\hypertarget{pager_8inc_a7c4b7f1b30cc884b4823937ac86c71d5}{
\index{pager.inc@{pager.inc}!pager\_\-find\_\-page@{pager\_\-find\_\-page}}
\index{pager\_\-find\_\-page@{pager\_\-find\_\-page}!pager.inc@{pager.inc}}
\subsubsection[{pager\_\-find\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}pager\_\-find\_\-page (\$ {\em element} = {\ttfamily 0})}}
\label{pager_8inc_a7c4b7f1b30cc884b4823937ac86c71d5}
Returns the current page being requested for display within a pager.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An optional integer to distinguish between multiple pagers on one page.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of the current requested page, within the pager represented by \$element. This is determined from the URL query parameter \$\_\-GET\mbox{[}'page'\mbox{]}, or 0 by default. Note that this number may differ from the actual page being displayed. For example, if a search for \char`\"{}example text\char`\"{} brings up three pages of results, but a users visits search/node/example+text?page=10, this function will return 10, even though the default pager implementation adjusts for this and still displays the third page of search results at that URL.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{pager_8inc_a8e8fe141a61ed070df4145bee4ec5571}{pager\_\-default\_\-initialize()} 
\end{DoxySeeAlso}
\hypertarget{pager_8inc_a72b73df2a968faea00b27cdae0c8ee87}{
\index{pager.inc@{pager.inc}!pager\_\-get\_\-query\_\-parameters@{pager\_\-get\_\-query\_\-parameters}}
\index{pager\_\-get\_\-query\_\-parameters@{pager\_\-get\_\-query\_\-parameters}!pager.inc@{pager.inc}}
\subsubsection[{pager\_\-get\_\-query\_\-parameters}]{\setlength{\rightskip}{0pt plus 5cm}pager\_\-get\_\-query\_\-parameters ()}}
\label{pager_8inc_a72b73df2a968faea00b27cdae0c8ee87}
Compose a URL query parameter array for pager links.

\begin{DoxyReturn}{Returns}
A URL query parameter array that consists of all components of the current page request except for those pertaining to paging. 
\end{DoxyReturn}
\hypertarget{pager_8inc_a0f82d7cb1702f6d160285903378a9919}{
\index{pager.inc@{pager.inc}!pager\_\-load\_\-array@{pager\_\-load\_\-array}}
\index{pager\_\-load\_\-array@{pager\_\-load\_\-array}!pager.inc@{pager.inc}}
\subsubsection[{pager\_\-load\_\-array}]{\setlength{\rightskip}{0pt plus 5cm}pager\_\-load\_\-array (\$ {\em value}, \/  \$ {\em element}, \/  \$ {\em old\_\-array})}}
\label{pager_8inc_a0f82d7cb1702f6d160285903378a9919}
End of \char`\"{}Pager pieces\char`\"{}. Helper function

Copies \$old\_\-array to \$new\_\-array and sets \$new\_\-array\mbox{[}\$element\mbox{]} = \$value Fills in \$new\_\-array\mbox{[}0 .. \$element -\/ 1\mbox{]} = 0 