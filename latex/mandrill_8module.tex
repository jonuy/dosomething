\hypertarget{mandrill_8module}{
\section{html/profiles/dosomething/modules/contrib/mandrill/mandrill.module File Reference}
\label{mandrill_8module}\index{html/profiles/dosomething/modules/contrib/mandrill/mandrill.module@{html/profiles/dosomething/modules/contrib/mandrill/mandrill.module}}
}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries MANDRILL\_\-QUEUE} 
\item 
enum {\bfseries MANDRILL\_\-EMAIL\_\-REGEX} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{mandrill_8module_a3352d7dded081944f440fae1bebfe334}{mandrill\_\-help} (\$path, \$arg)
\item 
\hyperlink{mandrill_8module_ab717377383339b55b058af1f4bb87fef}{mandrill\_\-menu} ()
\item 
\hyperlink{mandrill_8module_ada3040c948095cdcd2386200335168e7}{mandrill\_\-test\_\-access} ()
\item 
\hyperlink{mandrill_8module_aef9ed053e9f12225ca85eab6d7f93647}{mandrill\_\-permission} ()
\item 
\hyperlink{mandrill_8module_aef3727ae488149f312f6951a77bbf7a9}{mandrill\_\-cron\_\-queue\_\-info} ()
\item 
\hyperlink{mandrill_8module_adc065b54dd9fd629c7eed56053c09cbd}{mandrill\_\-queue\_\-worker\_\-mailsend} (\$data)
\item 
\hyperlink{mandrill_8module_a671b5ea2005ac860f0f0107655b40553}{mandrill\_\-mail} (\$key, \&\$message, \$params)
\item 
\hyperlink{mandrill_8module_a3491d792be9e5ad28ca92986f432f23e}{mandrill\_\-mailsend} (\$message, \$function, \$args=array())
\item 
\hyperlink{mandrill_8module_a654d06cf1990571093c1d45e64267ada}{mandrill\_\-sender\_\-plain} (\$message)
\item 
\hyperlink{mandrill_8module_a26f8a56e226e60202c0070adb37aec01}{mandrill\_\-get\_\-api\_\-object} (\$reset=FALSE)
\item 
\hyperlink{mandrill_8module_a7d8c1a5b8a942d9ba32a286c0d8c337d}{mandrill\_\-get\_\-module\_\-key\_\-names} ()
\item 
\hyperlink{mandrill_8module_a853d6bb3d5652daffe6a14a86c76bac6}{mandrill\_\-get\_\-templates} ()
\item 
\hyperlink{mandrill_8module_ac9823b256c5cfab79f065b345f9aaaa9}{mandrill\_\-mail\_\-key\_\-blacklist} ()
\item 
\hyperlink{mandrill_8module_ac4fe15812a9e519069233d0493339caf}{mandrill\_\-get\_\-to} (\$to)
\item 
\hyperlink{mandrill_8module_a087c8f74e44d40dcb13cbc3072b1cd93}{mandrill\_\-process\_\-async} ()
\item 
\hyperlink{mandrill_8module_afe985bcfaeb96000c36902ece6df9f71}{mandrill\_\-from} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Enables Drupal to send email directly through MailChimp STS.

Overriding mail handling in Drupal to make MailChimp STS the default transport layer, requires to change the mail\_\-system variable's default value array('default-\/system' =$>$ 'DefaultMailSystem'). This module uses array('default-\/system' =$>$ 'MailChimpMandrillMailSystem'). 

\subsection{Function Documentation}
\hypertarget{mandrill_8module_aef3727ae488149f312f6951a77bbf7a9}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-cron\_\-queue\_\-info@{mandrill\_\-cron\_\-queue\_\-info}}
\index{mandrill\_\-cron\_\-queue\_\-info@{mandrill\_\-cron\_\-queue\_\-info}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-cron\_\-queue\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-cron\_\-queue\_\-info ()}}
\label{mandrill_8module_aef3727ae488149f312f6951a77bbf7a9}
Implements hook\_\-cron\_\-queue\_\-info(). \hypertarget{mandrill_8module_afe985bcfaeb96000c36902ece6df9f71}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-from@{mandrill\_\-from}}
\index{mandrill\_\-from@{mandrill\_\-from}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-from}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-from ()}}
\label{mandrill_8module_afe985bcfaeb96000c36902ece6df9f71}
Returns an array containing the from information for a \hyperlink{classMandrill}{Mandrill} message.

\begin{DoxyReturn}{Returns}
array array( 'email' =$>$ 'admin.com', 'name' =$>$ 'My Site', ) 
\end{DoxyReturn}
\hypertarget{mandrill_8module_a26f8a56e226e60202c0070adb37aec01}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-get\_\-api\_\-object@{mandrill\_\-get\_\-api\_\-object}}
\index{mandrill\_\-get\_\-api\_\-object@{mandrill\_\-get\_\-api\_\-object}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-get\_\-api\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-get\_\-api\_\-object (\$ {\em reset} = {\ttfamily FALSE})}}
\label{mandrill_8module_a26f8a56e226e60202c0070adb37aec01}
Return \hyperlink{classMandrill}{Mandrill} API object for communication with the mailchimp server.


\begin{DoxyParams}{Parameters}
\item[{\em bool}]\$reset Pass in TRUE to reset the statically cached object.\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classMandrillException}{MandrillException}}]\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
Mandrill$|$bool \hyperlink{classMandrill}{Mandrill} Object upon success FALSE if variable\_\-get('mandrill\_\-api\_\-key') is unset 
\end{DoxyReturn}
\hypertarget{mandrill_8module_a7d8c1a5b8a942d9ba32a286c0d8c337d}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-get\_\-module\_\-key\_\-names@{mandrill\_\-get\_\-module\_\-key\_\-names}}
\index{mandrill\_\-get\_\-module\_\-key\_\-names@{mandrill\_\-get\_\-module\_\-key\_\-names}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-get\_\-module\_\-key\_\-names}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-get\_\-module\_\-key\_\-names ()}}
\label{mandrill_8module_a7d8c1a5b8a942d9ba32a286c0d8c337d}
Display the names of the modules that are using Mailsystem.

This is consistent with with Mailsystem's display. In the future, if Mailsystem were to provide an API for their labeling, that should be used.

\begin{DoxyReturn}{Returns}
array Array of all module names indexing to their \char`\"{}display\char`\"{} names, and some special items for non-\/module values like null, default-\/system, and some clarification talked onto the end of the \hyperlink{classMandrill}{Mandrill} module's name. 
\end{DoxyReturn}
\hypertarget{mandrill_8module_a853d6bb3d5652daffe6a14a86c76bac6}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-get\_\-templates@{mandrill\_\-get\_\-templates}}
\index{mandrill\_\-get\_\-templates@{mandrill\_\-get\_\-templates}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-get\_\-templates}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-get\_\-templates ()}}
\label{mandrill_8module_a853d6bb3d5652daffe6a14a86c76bac6}
Get a list of mandrill template objects.

\begin{DoxyReturn}{Returns}
array An of available templates with complete data or NULL if none are available. 
\end{DoxyReturn}
\hypertarget{mandrill_8module_ac4fe15812a9e519069233d0493339caf}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-get\_\-to@{mandrill\_\-get\_\-to}}
\index{mandrill\_\-get\_\-to@{mandrill\_\-get\_\-to}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-get\_\-to}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-get\_\-to (\$ {\em to})}}
\label{mandrill_8module_ac4fe15812a9e519069233d0493339caf}
Helper to generate an array of recipients.


\begin{DoxyParams}{Parameters}
\item[{\em mixed}]\$to a comma delimited list of email addresses in 1 of 2 forms: \href{mailto:user@domain.com}{\tt user@domain.com} any number of names $<$\href{mailto:user@domain.com}{\tt user@domain.com}$>$\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array array of email addresses 
\end{DoxyReturn}
\hypertarget{mandrill_8module_a3352d7dded081944f440fae1bebfe334}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-help@{mandrill\_\-help}}
\index{mandrill\_\-help@{mandrill\_\-help}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-help}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-help (\$ {\em path}, \/  \$ {\em arg})}}
\label{mandrill_8module_a3352d7dded081944f440fae1bebfe334}
Implements hook\_\-help(). \hypertarget{mandrill_8module_a671b5ea2005ac860f0f0107655b40553}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-mail@{mandrill\_\-mail}}
\index{mandrill\_\-mail@{mandrill\_\-mail}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-mail}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-mail (\$ {\em key}, \/  \&\$ {\em message}, \/  \$ {\em params})}}
\label{mandrill_8module_a671b5ea2005ac860f0f0107655b40553}
Implements hook\_\-mail(). \hypertarget{mandrill_8module_ac9823b256c5cfab79f065b345f9aaaa9}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-mail\_\-key\_\-blacklist@{mandrill\_\-mail\_\-key\_\-blacklist}}
\index{mandrill\_\-mail\_\-key\_\-blacklist@{mandrill\_\-mail\_\-key\_\-blacklist}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-mail\_\-key\_\-blacklist}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-mail\_\-key\_\-blacklist ()}}
\label{mandrill_8module_ac9823b256c5cfab79f065b345f9aaaa9}
Helper to return a comma delimited list of mail keys to not log content for.

\begin{DoxyReturn}{Returns}
string a comma delimited list of mail keys 
\end{DoxyReturn}
\hypertarget{mandrill_8module_a3491d792be9e5ad28ca92986f432f23e}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-mailsend@{mandrill\_\-mailsend}}
\index{mandrill\_\-mailsend@{mandrill\_\-mailsend}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-mailsend}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-mailsend (\$ {\em message}, \/  \$ {\em function}, \/  \$ {\em args} = {\ttfamily array()})}}
\label{mandrill_8module_a3491d792be9e5ad28ca92986f432f23e}
Abstracts sending of messages, allowing queueing option.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$message A message array formatted for Mandrill's sending API, plus 2 additional indexes for the send\_\-function and an array of \$args, if needed by the send function.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool TRUE if no exception thrown 
\end{DoxyReturn}
\hypertarget{mandrill_8module_ab717377383339b55b058af1f4bb87fef}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-menu@{mandrill\_\-menu}}
\index{mandrill\_\-menu@{mandrill\_\-menu}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-menu}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-menu ()}}
\label{mandrill_8module_ab717377383339b55b058af1f4bb87fef}
Implements hook\_\-menu(). \hypertarget{mandrill_8module_aef9ed053e9f12225ca85eab6d7f93647}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-permission@{mandrill\_\-permission}}
\index{mandrill\_\-permission@{mandrill\_\-permission}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-permission}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-permission ()}}
\label{mandrill_8module_aef9ed053e9f12225ca85eab6d7f93647}
Implements hook\_\-permission(). \hypertarget{mandrill_8module_a087c8f74e44d40dcb13cbc3072b1cd93}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-process\_\-async@{mandrill\_\-process\_\-async}}
\index{mandrill\_\-process\_\-async@{mandrill\_\-process\_\-async}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-process\_\-async}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-process\_\-async ()}}
\label{mandrill_8module_a087c8f74e44d40dcb13cbc3072b1cd93}
Determine if mail should be processed asynchronously.

\begin{DoxyReturn}{Returns}
bool True if asyncronous processing is enabled 
\end{DoxyReturn}
\hypertarget{mandrill_8module_adc065b54dd9fd629c7eed56053c09cbd}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-queue\_\-worker\_\-mailsend@{mandrill\_\-queue\_\-worker\_\-mailsend}}
\index{mandrill\_\-queue\_\-worker\_\-mailsend@{mandrill\_\-queue\_\-worker\_\-mailsend}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-queue\_\-worker\_\-mailsend}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-queue\_\-worker\_\-mailsend (\$ {\em data})}}
\label{mandrill_8module_adc065b54dd9fd629c7eed56053c09cbd}
Sends a queued email. \begin{DoxySeeAlso}{See also}
\hyperlink{mandrill_8module_aef3727ae488149f312f6951a77bbf7a9}{mandrill\_\-cron\_\-queue\_\-info()} 
\end{DoxySeeAlso}
\hypertarget{mandrill_8module_a654d06cf1990571093c1d45e64267ada}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-sender\_\-plain@{mandrill\_\-sender\_\-plain}}
\index{mandrill\_\-sender\_\-plain@{mandrill\_\-sender\_\-plain}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-sender\_\-plain}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-sender\_\-plain (\$ {\em message})}}
\label{mandrill_8module_a654d06cf1990571093c1d45e64267ada}
The actual function that calls the API send message.

This is the default function used by \hyperlink{mandrill_8module_a3491d792be9e5ad28ca92986f432f23e}{mandrill\_\-mailsend()}.

\$message Associative array containing message data.

\begin{DoxyReturn}{Returns}
array Results of sending the message. 
\end{DoxyReturn}
\hypertarget{mandrill_8module_ada3040c948095cdcd2386200335168e7}{
\index{mandrill.module@{mandrill.module}!mandrill\_\-test\_\-access@{mandrill\_\-test\_\-access}}
\index{mandrill\_\-test\_\-access@{mandrill\_\-test\_\-access}!mandrill.module@{mandrill.module}}
\subsubsection[{mandrill\_\-test\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}mandrill\_\-test\_\-access ()}}
\label{mandrill_8module_ada3040c948095cdcd2386200335168e7}
Access callback for sending test email.

\begin{DoxyReturn}{Returns}
bool True if current user has access to send test messages 
\end{DoxyReturn}
