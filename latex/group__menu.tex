\hypertarget{group__menu}{
\section{Menu system}
\label{group__menu}\index{Menu system@{Menu system}}
}
\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__menu__flags}{Menu flags}
\item 
\hyperlink{group__menu__item__types}{Menu item types}
\item 
\hyperlink{group__menu__context__types}{Menu context types}
\item 
\hyperlink{group__menu__status__codes}{Menu status codes}
\item 
\hyperlink{group__menu__tree__parameters}{Menu tree parameters}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__menu_ga4bc08b83d5906e9acd6f8102993af852}{MENU\_\-PREFERRED\_\-LINK} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__menu_ga24ddfa75da5f03482a2df2c9c8d1f711}{menu\_\-get\_\-ancestors} (\$parts)
\item 
\hyperlink{group__menu_ga3f9fe4d53dc9d9c3724f956f1465b5be}{menu\_\-unserialize} (\$data, \$map)
\item 
\hyperlink{group__menu_ga731543157fbe59176d20af2282df5f75}{menu\_\-set\_\-item} (\$path, \$router\_\-item)
\item 
\hyperlink{group__menu_ga855b1ca6ef9e44eb6107a2b9d0f581df}{menu\_\-get\_\-item} (\$path=NULL, \$router\_\-item=NULL)
\item 
\hyperlink{group__menu_gae33bae24fcac6126aa272d1c437f947c}{menu\_\-execute\_\-active\_\-handler} (\$path=NULL, \$deliver=TRUE)
\item 
\hyperlink{group__menu_ga8aeba67f5ade33d997f9869ce3e41fa6}{\_\-menu\_\-load\_\-objects} (\&\$item, \&\$map)
\item 
\hyperlink{group__menu_ga255e3052e7679155b37b82d9bcbe19c9}{\_\-menu\_\-check\_\-access} (\&\$item, \$map)
\item 
\hyperlink{group__menu_ga3b0c0f37db66372ac4e90afa35b191e9}{\_\-menu\_\-item\_\-localize} (\&\$item, \$map, \$link\_\-translate=FALSE)
\item 
\hyperlink{group__menu_ga0e8535f35bcd1a03e71120a2d6ecc099}{\_\-menu\_\-translate} (\&\$router\_\-item, \$map, \$to\_\-arg=FALSE)
\item 
\hyperlink{group__menu_gaac930b7a3cacbf70430c8dc3aa884198}{\_\-menu\_\-link\_\-map\_\-translate} (\&\$map, \$to\_\-arg\_\-functions)
\item 
\hyperlink{group__menu_gaad6215c5bf31dffe08a2b75e66345d10}{menu\_\-tail\_\-to\_\-arg} (\$arg, \$map, \$index)
\item 
\hyperlink{group__menu_ga6ed894e4c0813549a74b46c5a62e1c25}{menu\_\-tail\_\-load} (\$arg, \&\$map, \$index)
\item 
\hyperlink{group__menu_ga75bf09f752589011fc9256b041cf7cc0}{\_\-menu\_\-link\_\-translate} (\&\$item, \$translate=FALSE)
\item 
\hyperlink{group__menu_ga8b1c8825ae7b6ae31b50cadaa1f7c920}{menu\_\-get\_\-object} (\$type= 'node', \$position=1, \$path=NULL)
\item 
\hyperlink{group__menu_ga91022785ee027528b5cee2faff31f62f}{menu\_\-tree} (\$menu\_\-name)
\item 
\hyperlink{group__menu_ga2ef0691992a9df71eb3455ba774053e7}{menu\_\-tree\_\-output} (\$tree)
\item 
\hyperlink{group__menu_ga4f06528e6ed613b6a885e051035b322a}{menu\_\-tree\_\-all\_\-data} (\$menu\_\-name, \$link=NULL, \$max\_\-depth=NULL)
\item 
\hyperlink{group__menu_gacbb655f92275e3c823637edbd9441cdd}{menu\_\-tree\_\-set\_\-path} (\$menu\_\-name, \$path=NULL)
\item 
\hyperlink{group__menu_ga719b18e6d93314528b8726b333f300c0}{menu\_\-tree\_\-get\_\-path} (\$menu\_\-name)
\item 
\hyperlink{group__menu_ga58b0372b3340be5d070d4ca8bf5a7af8}{menu\_\-tree\_\-page\_\-data} (\$menu\_\-name, \$max\_\-depth=NULL, \$only\_\-active\_\-trail=FALSE)
\item 
\hyperlink{group__menu_gabd17638ed8a36d5412244fd7c2456eb7}{menu\_\-build\_\-tree} (\$menu\_\-name, array \$parameters=array())
\item 
\hyperlink{group__menu_ga036009a003a68a01a420737d9c1b30c0}{\_\-menu\_\-build\_\-tree} (\$menu\_\-name, array \$parameters=array())
\item 
\hyperlink{group__menu_ga0c9a63fbbdf8496828f1f80d37459475}{menu\_\-tree\_\-collect\_\-node\_\-links} (\&\$tree, \&\$node\_\-links)
\item 
\hyperlink{group__menu_ga6374db210d96026fb70431def083a7a5}{menu\_\-tree\_\-check\_\-access} (\&\$tree, \$node\_\-links=array())
\item 
\hyperlink{group__menu_gad59ba7ae64f452408201f82f8cb7dc25}{\_\-menu\_\-tree\_\-check\_\-access} (\&\$tree)
\item 
\hyperlink{group__menu_ga80a5defa3498d4e60321af746c1104c3}{menu\_\-tree\_\-data} (array \$links, array \$parents=array(), \$depth=1)
\item 
\hyperlink{group__menu_gaf179327ae18d3a8ace0453b528707e3e}{\_\-menu\_\-tree\_\-data} (\&\$links, \$parents, \$depth)
\item 
\hyperlink{group__menu_ga3b3b2907371200b81f18bfaed7538855}{template\_\-preprocess\_\-menu\_\-tree} (\&\$variables)
\item 
\hyperlink{group__menu_ga00dce79e81030a75c94c7a279794b253}{drupal\_\-help\_\-arg} (\$arg=array())
\item 
\hyperlink{group__menu_ga21c6572391132f4e1f5b3fd108220bf4}{menu\_\-get\_\-active\_\-help} ()
\item 
\hyperlink{group__menu_gaf00aa2604e9ad7c0ff0faa6cbc301da8}{menu\_\-get\_\-custom\_\-theme} (\$initialize=FALSE)
\item 
\hyperlink{group__menu_ga2545be84d84b98f84857bea11f7961fb}{menu\_\-set\_\-custom\_\-theme} ()
\item 
\hyperlink{group__menu_gad15183a10857a4a4ad0504ec830443d3}{menu\_\-get\_\-names} ()
\item 
\hyperlink{group__menu_ga28e765ff428a3f18978af564ee0147d6}{menu\_\-list\_\-system\_\-menus} ()
\item 
\hyperlink{group__menu_ga47957cf684d4a76b6e8a5eac09d2db94}{menu\_\-main\_\-menu} ()
\item 
\hyperlink{group__menu_gaf4a8dad6070035a498c598c5fe9ca255}{menu\_\-secondary\_\-menu} ()
\item 
\hyperlink{group__menu_gab4cdacc813ae9e06271aa4aa2d9495a7}{menu\_\-navigation\_\-links} (\$menu\_\-name, \$level=0)
\item 
\hyperlink{group__menu_gadb8bb3644e114166950142280085cf3e}{menu\_\-local\_\-tasks} (\$level=0)
\item 
\hyperlink{group__menu_gad524d9a3415e24d27c7dbcb333d96cf8}{menu\_\-contextual\_\-links} (\$module, \$parent\_\-path, \$args)
\item 
\hyperlink{group__menu_ga83613b83f90d6a12e2f4170ed0ede9b1}{menu\_\-primary\_\-local\_\-tasks} ()
\item 
\hyperlink{group__menu_gabf84c295da2c986cd8ad305935e31ffb}{menu\_\-secondary\_\-local\_\-tasks} ()
\item 
\hyperlink{group__menu_ga150a37ede061833b2b9fde658d005426}{menu\_\-local\_\-actions} ()
\item 
\hyperlink{group__menu_gacf647362fc7151bbaa1dbe5568a0b6b5}{menu\_\-tab\_\-root\_\-path} ()
\item 
\hyperlink{group__menu_ga9fe648c89a4e94e63c7a88076ed12a94}{menu\_\-local\_\-tabs} ()
\item 
\hyperlink{group__menu_gadf802fedf19e7b29e3970e936bae9bc0}{menu\_\-set\_\-active\_\-menu\_\-names} (\$menu\_\-names=NULL)
\item 
\hyperlink{group__menu_ga421798c040a98ec1b5d583e7a7a5e65b}{menu\_\-get\_\-active\_\-menu\_\-names} ()
\item 
\hyperlink{group__menu_gacdd22102c2ba6545645ae34be563d1d4}{menu\_\-set\_\-active\_\-item} (\$path)
\item 
\hyperlink{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail} (\$new\_\-trail=NULL)
\item 
\hyperlink{group__menu_gad5fbd7dfd77f1496d636d130a3ff591d}{menu\_\-link\_\-get\_\-preferred} (\$path=NULL, \$selected\_\-menu=NULL)
\item 
\hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail} ()
\item 
\hyperlink{group__menu_ga009731c4b3e736ebb620ba90e7f04207}{menu\_\-get\_\-active\_\-breadcrumb} ()
\item 
\hyperlink{group__menu_gaf0a358447097959e53ad1a20b8d811ed}{menu\_\-get\_\-active\_\-title} ()
\item 
\hyperlink{group__menu_gac2b338fa3a449c826661aade7a7d486e}{menu\_\-link\_\-load} (\$mlid)
\item 
\hyperlink{group__menu_ga032d6b78c7deab10685ebfa6f32ad7eb}{menu\_\-cache\_\-clear} (\$menu\_\-name= 'navigation')
\item 
\hyperlink{group__menu_ga0a10fa44ca152a12091747e515b6a655}{menu\_\-cache\_\-clear\_\-all} ()
\item 
\hyperlink{group__menu_ga1475a636851e8c953db72e5b1ab2c0f0}{menu\_\-reset\_\-static\_\-cache} ()
\item 
\hyperlink{group__menu_gaf36dcb9d5491ef5e7d2cf22c1f5c69f4}{menu\_\-rebuild} ()
\item 
\hyperlink{group__menu_ga1f6713b93173302fb29d7bc9578b7530}{menu\_\-router\_\-build} ()
\item 
\hyperlink{group__menu_ga02af3d3800722e9ff5be36485b655905}{\_\-menu\_\-router\_\-cache} (\$new\_\-menu=NULL)
\item 
\hyperlink{group__menu_ga7140ecddb2c59ae8acc74968eb339e67}{menu\_\-get\_\-router} ()
\item 
\hyperlink{group__menu_gadf1f694a2079dcdd6526150eb195915b}{\_\-menu\_\-link\_\-build} (\$item)
\item 
\hyperlink{group__menu_ga69fdf86c20d033bc7ba46a14937e20ea}{\_\-menu\_\-navigation\_\-links\_\-rebuild} (\$menu)
\item 
\hyperlink{group__menu_ga327aef442c1c6c4b2a7d14742f37af2a}{menu\_\-links\_\-clone} (\$links, \$menu\_\-name=NULL)
\item 
\hyperlink{group__menu_gac82038848d5c321b972769ff821d4aa1}{menu\_\-load\_\-links} (\$menu\_\-name)
\item 
\hyperlink{group__menu_gade553e3a51918b9290425df7f775aa14}{menu\_\-delete\_\-links} (\$menu\_\-name)
\item 
\hyperlink{group__menu_gacb2dddc8ca84476f38a90f4487156b12}{menu\_\-link\_\-delete} (\$mlid, \$path=NULL)
\item 
\hyperlink{group__menu_gaf60be5755b46e635c04963e61cdc809a}{\_\-menu\_\-delete\_\-item} (\$item, \$force=FALSE)
\item 
\hyperlink{group__menu_ga133b177fee00b678a19afba18fb81ebc}{menu\_\-link\_\-save} (\&\$item, \$existing\_\-item=array(), \$parent\_\-candidates=array())
\item 
\hyperlink{group__menu_ga4a310e057a335748d2d3c4bd9cb02a15}{\_\-menu\_\-link\_\-find\_\-parent} (\$menu\_\-link, \$parent\_\-candidates=array())
\item 
\hyperlink{group__menu_ga6b3bf9ba8f43f983382911beb62ffba0}{\_\-menu\_\-clear\_\-page\_\-cache} ()
\item 
\hyperlink{group__menu_ga08212e3890c64045fcf6b44032b343a0}{\_\-menu\_\-set\_\-expanded\_\-menus} ()
\item 
\hyperlink{group__menu_ga0842f6b9cf84f5e5ff159159063a78dd}{\_\-menu\_\-find\_\-router\_\-path} (\$link\_\-path)
\item 
\hyperlink{group__menu_gae3248649fb437dedad940df74fb129dc}{menu\_\-link\_\-maintain} (\$module, \$op, \$link\_\-path, \$link\_\-title)
\item 
\hyperlink{group__menu_ga75c0660b49841423d8d3c8908e9023fc}{menu\_\-link\_\-children\_\-relative\_\-depth} (\$item)
\item 
\hyperlink{group__menu_gaeb7542558d6fab7c79b96c1188ee6d67}{\_\-menu\_\-link\_\-move\_\-children} (\$item, \$existing\_\-item)
\item 
\hyperlink{group__menu_ga9df6c2183ab9ee0e934eec54a67761d8}{\_\-menu\_\-update\_\-parental\_\-status} (\$item, \$exclude=FALSE)
\item 
\hyperlink{group__menu_ga67ab71fff6e17ce3c32752c3bfa00d96}{\_\-menu\_\-link\_\-parents\_\-set} (\&\$item, \$parent)
\item 
\hyperlink{group__menu_ga662b13ca71a8b780c9a3b372b25492c3}{\_\-menu\_\-router\_\-build} (\$callbacks)
\item 
\hyperlink{group__menu_gaa7e7e12f5c89718ac147c0e166458135}{\_\-menu\_\-router\_\-save} (\$menu, \$masks)
\item 
\hyperlink{group__menu_ga1bfe1a44b1867b0c02a241b6cc43e50c}{\_\-menu\_\-site\_\-is\_\-offline} (\$check\_\-only=FALSE)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Define the navigation menus, and route page requests to code based on URLs.

The Drupal menu system drives both the navigation system from a user perspective and the callback system that Drupal uses to respond to URLs passed from the browser. For this reason, a good understanding of the menu system is fundamental to the creation of complex modules. As a note, this is related to, but separate from \hyperlink{menu_8module}{menu.module}, which allows menus (which in this context are hierarchical lists of links) to be customized from the Drupal administrative interface.

Drupal's menu system follows a simple hierarchy defined by paths. Implementations of \hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()} define menu items and assign them to paths (which should be unique). The menu system aggregates these items and determines the menu hierarchy from the paths. For example, if the paths defined were a, a/b, e, a/b/c/d, f/g, and a/b/h, the menu system would form the structure:
\begin{DoxyItemize}
\item a
\begin{DoxyItemize}
\item a/b
\begin{DoxyItemize}
\item a/b/c/d
\item a/b/h
\end{DoxyItemize}
\end{DoxyItemize}
\item e
\item f/g Note that the number of elements in the path does not necessarily determine the depth of the menu item in the tree.
\end{DoxyItemize}

When responding to a page request, the menu system looks to see if the path requested by the browser is registered as a menu item with a callback. If not, the system searches up the menu tree for the most complete match with a callback it can find. If the path a/b/i is requested in the tree above, the callback for a/b would be used.

The found callback function is called with any arguments specified in the \char`\"{}page arguments\char`\"{} attribute of its menu item. The attribute must be an array. After these arguments, any remaining components of the path are appended as further arguments. In this way, the callback for a/b above could respond to a request for a/b/i differently than a request for a/b/j.

For an illustration of this process, see page\_\-example.module.

Access to the callback functions is also protected by the menu system. The \char`\"{}access callback\char`\"{} with an optional \char`\"{}access arguments\char`\"{} of each menu item is called before the page callback proceeds. If this returns TRUE, then access is granted; if FALSE, then access is denied. Default local task menu items (see next paragraph) may omit this attribute to use the value provided by the parent item.

In the default Drupal interface, you will notice many links rendered as tabs. These are known in the menu system as \char`\"{}local tasks\char`\"{}, and they are rendered as tabs by default, though other presentations are possible. Local tasks function just as other menu items in most respects. It is convention that the names of these tasks should be short verbs if possible. In addition, a \char`\"{}default\char`\"{} local task should be provided for each set. When visiting a local task's parent menu item, the default local task will be rendered as if it is selected; this provides for a normal tab user experience. This default task is special in that it links not to its provided path, but to its parent item's path instead. The default task's path is only used to place it appropriately in the menu hierarchy.

Everything described so far is stored in the menu\_\-router table. The menu\_\-links table holds the visible menu links. By default these are derived from the same hook\_\-menu definitions, however you are free to add more with \hyperlink{group__menu_ga133b177fee00b678a19afba18fb81ebc}{menu\_\-link\_\-save()}. 

\subsection{Enumeration Type Documentation}
\hypertarget{group__menu_ga4bc08b83d5906e9acd6f8102993af852}{
\index{menu@{menu}!MENU\_\-PREFERRED\_\-LINK@{MENU\_\-PREFERRED\_\-LINK}}
\index{MENU\_\-PREFERRED\_\-LINK@{MENU\_\-PREFERRED\_\-LINK}!menu@{menu}}
\subsubsection[{MENU\_\-PREFERRED\_\-LINK}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-PREFERRED\_\-LINK}}}
\label{group__menu_ga4bc08b83d5906e9acd6f8102993af852}
End of \char`\"{}Menu tree parameters\char`\"{}. Reserved key to identify the most specific menu link for a given path.

The value of this constant is a hash of the constant name. We use the hash so that the reserved key is over 32 characters in length and will not collide with allowed menu names: 
\begin{DoxyCode}
 sha1('MENU_PREFERRED_LINK') = 1cf698d64d1aa4b83907cf6ed55db3a7f8e92c91
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_gad5fbd7dfd77f1496d636d130a3ff591d}{menu\_\-link\_\-get\_\-preferred()} 
\end{DoxySeeAlso}


\subsection{Function Documentation}
\hypertarget{group__menu_ga036009a003a68a01a420737d9c1b30c0}{
\index{menu@{menu}!\_\-menu\_\-build\_\-tree@{\_\-menu\_\-build\_\-tree}}
\index{\_\-menu\_\-build\_\-tree@{\_\-menu\_\-build\_\-tree}!menu@{menu}}
\subsubsection[{\_\-menu\_\-build\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-build\_\-tree (\$ {\em menu\_\-name}, \/  array \$ {\em parameters} = {\ttfamily array()})}}
\label{group__menu_ga036009a003a68a01a420737d9c1b30c0}
Builds a menu tree.

This function may be used build the data for a menu tree only, for example to further massage the data manually before further processing happens. \hyperlink{group__menu_ga6374db210d96026fb70431def083a7a5}{menu\_\-tree\_\-check\_\-access()} needs to be invoked afterwards.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_gabd17638ed8a36d5412244fd7c2456eb7}{menu\_\-build\_\-tree()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_ga255e3052e7679155b37b82d9bcbe19c9}{
\index{menu@{menu}!\_\-menu\_\-check\_\-access@{\_\-menu\_\-check\_\-access}}
\index{\_\-menu\_\-check\_\-access@{\_\-menu\_\-check\_\-access}!menu@{menu}}
\subsubsection[{\_\-menu\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-check\_\-access (\&\$ {\em item}, \/  \$ {\em map})}}
\label{group__menu_ga255e3052e7679155b37b82d9bcbe19c9}
Checks access to a menu item using the access callback.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]A menu router or menu link item \item[{\em \$map}]An array of path arguments; for example, array('node', '5').\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise. 
\end{DoxyReturn}
\hypertarget{group__menu_ga6b3bf9ba8f43f983382911beb62ffba0}{
\index{menu@{menu}!\_\-menu\_\-clear\_\-page\_\-cache@{\_\-menu\_\-clear\_\-page\_\-cache}}
\index{\_\-menu\_\-clear\_\-page\_\-cache@{\_\-menu\_\-clear\_\-page\_\-cache}!menu@{menu}}
\subsubsection[{\_\-menu\_\-clear\_\-page\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-clear\_\-page\_\-cache ()}}
\label{group__menu_ga6b3bf9ba8f43f983382911beb62ffba0}
Clears the page and block caches at most twice per page load. \hypertarget{group__menu_gaf60be5755b46e635c04963e61cdc809a}{
\index{menu@{menu}!\_\-menu\_\-delete\_\-item@{\_\-menu\_\-delete\_\-item}}
\index{\_\-menu\_\-delete\_\-item@{\_\-menu\_\-delete\_\-item}!menu@{menu}}
\subsubsection[{\_\-menu\_\-delete\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-delete\_\-item (\$ {\em item}, \/  \$ {\em force} = {\ttfamily FALSE})}}
\label{group__menu_gaf60be5755b46e635c04963e61cdc809a}
Deletes a single menu link.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]Item to be deleted. \item[{\em \$force}]Forces deletion. Internal use only, setting to TRUE is discouraged.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_gacb2dddc8ca84476f38a90f4487156b12}{menu\_\-link\_\-delete()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_ga0842f6b9cf84f5e5ff159159063a78dd}{
\index{menu@{menu}!\_\-menu\_\-find\_\-router\_\-path@{\_\-menu\_\-find\_\-router\_\-path}}
\index{\_\-menu\_\-find\_\-router\_\-path@{\_\-menu\_\-find\_\-router\_\-path}!menu@{menu}}
\subsubsection[{\_\-menu\_\-find\_\-router\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-find\_\-router\_\-path (\$ {\em link\_\-path})}}
\label{group__menu_ga0842f6b9cf84f5e5ff159159063a78dd}
Finds the router path which will serve this path.


\begin{DoxyParams}{Parameters}
\item[{\em \$link\_\-path}]The path for we are looking up its router path.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A path from \$menu keys or empty if \$link\_\-path points to a nonexisting place. 
\end{DoxyReturn}
\hypertarget{group__menu_ga3b0c0f37db66372ac4e90afa35b191e9}{
\index{menu@{menu}!\_\-menu\_\-item\_\-localize@{\_\-menu\_\-item\_\-localize}}
\index{\_\-menu\_\-item\_\-localize@{\_\-menu\_\-item\_\-localize}!menu@{menu}}
\subsubsection[{\_\-menu\_\-item\_\-localize}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-item\_\-localize (\&\$ {\em item}, \/  \$ {\em map}, \/  \$ {\em link\_\-translate} = {\ttfamily FALSE})}}
\label{group__menu_ga3b0c0f37db66372ac4e90afa35b191e9}
Localizes the router item title using t() or another callback.

Translate the title and description to allow storage of English title strings in the database, yet display of them in the language required by the current user.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]A menu router item or a menu link item. \item[{\em \$map}]The path as an array with objects already replaced. E.g., for path node/123 \$map would be array('node', \$node) where \$node is the node object for node 123. \item[{\em \$link\_\-translate}]TRUE if we are translating a menu link item; FALSE if we are translating a menu router item.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No return value. \$item\mbox{[}'title'\mbox{]} is localized according to \$item\mbox{[}'title\_\-callback'\mbox{]}. If an item's callback is \hyperlink{group__sanitization_ga76fc67a30fd8d75ddd80565e6e65a13d}{check\_\-plain()}, \$item\mbox{[}'options'\mbox{]}\mbox{[}'html'\mbox{]} becomes TRUE. \$item\mbox{[}'description'\mbox{]} is translated using t(). When doing link translation and the \$item\mbox{[}'options'\mbox{]}\mbox{[}'attributes'\mbox{]}\mbox{[}'title'\mbox{]} (link title attribute) matches the description, it is translated as well. 
\end{DoxyReturn}
\hypertarget{group__menu_gadf1f694a2079dcdd6526150eb195915b}{
\index{menu@{menu}!\_\-menu\_\-link\_\-build@{\_\-menu\_\-link\_\-build}}
\index{\_\-menu\_\-link\_\-build@{\_\-menu\_\-link\_\-build}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-build (\$ {\em item})}}
\label{group__menu_gadf1f694a2079dcdd6526150eb195915b}
Builds a link from a router item. \hypertarget{group__menu_ga4a310e057a335748d2d3c4bd9cb02a15}{
\index{menu@{menu}!\_\-menu\_\-link\_\-find\_\-parent@{\_\-menu\_\-link\_\-find\_\-parent}}
\index{\_\-menu\_\-link\_\-find\_\-parent@{\_\-menu\_\-link\_\-find\_\-parent}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-find\_\-parent}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-find\_\-parent (\$ {\em menu\_\-link}, \/  \$ {\em parent\_\-candidates} = {\ttfamily array()})}}
\label{group__menu_ga4a310e057a335748d2d3c4bd9cb02a15}
Finds a possible parent for a given menu link.

Because the parent of a given link might not exist anymore in the database, we apply a set of heuristics to determine a proper parent:


\begin{DoxyItemize}
\item use the passed parent link if specified and existing.
\item else, use the first existing link down the previous link hierarchy
\item else, for system menu links (derived from \hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()}), reparent based on the path hierarchy.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-link}]A menu link. \item[{\em \$parent\_\-candidates}]An array of menu links keyed by mlid.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A menu link structure of the possible parent or FALSE if no valid parent has been found. 
\end{DoxyReturn}
\hypertarget{group__menu_gaac930b7a3cacbf70430c8dc3aa884198}{
\index{menu@{menu}!\_\-menu\_\-link\_\-map\_\-translate@{\_\-menu\_\-link\_\-map\_\-translate}}
\index{\_\-menu\_\-link\_\-map\_\-translate@{\_\-menu\_\-link\_\-map\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-map\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-map\_\-translate (\&\$ {\em map}, \/  \$ {\em to\_\-arg\_\-functions})}}
\label{group__menu_gaac930b7a3cacbf70430c8dc3aa884198}
Translates the path elements in the map using any to\_\-arg helper function.


\begin{DoxyParams}{Parameters}
\item[{\em \$map}]An array of path arguments; for example, array('node', '5'). \item[{\em \$to\_\-arg\_\-functions}]An array of helper functions; for example, array(2 =$>$ 'menu\_\-tail\_\-to\_\-arg').\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_gaeb7542558d6fab7c79b96c1188ee6d67}{
\index{menu@{menu}!\_\-menu\_\-link\_\-move\_\-children@{\_\-menu\_\-link\_\-move\_\-children}}
\index{\_\-menu\_\-link\_\-move\_\-children@{\_\-menu\_\-link\_\-move\_\-children}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-move\_\-children}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-move\_\-children (\$ {\em item}, \/  \$ {\em existing\_\-item})}}
\label{group__menu_gaeb7542558d6fab7c79b96c1188ee6d67}
Updates the children of a menu link that is being moved.

The menu name, parents (p1 -\/ p6), and depth are updated for all children of the link, and the has\_\-children status of the previous parent is updated. \hypertarget{group__menu_ga67ab71fff6e17ce3c32752c3bfa00d96}{
\index{menu@{menu}!\_\-menu\_\-link\_\-parents\_\-set@{\_\-menu\_\-link\_\-parents\_\-set}}
\index{\_\-menu\_\-link\_\-parents\_\-set@{\_\-menu\_\-link\_\-parents\_\-set}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-parents\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-parents\_\-set (\&\$ {\em item}, \/  \$ {\em parent})}}
\label{group__menu_ga67ab71fff6e17ce3c32752c3bfa00d96}
Sets the p1 through p9 values for a menu link being saved. \hypertarget{group__menu_ga75bf09f752589011fc9256b041cf7cc0}{
\index{menu@{menu}!\_\-menu\_\-link\_\-translate@{\_\-menu\_\-link\_\-translate}}
\index{\_\-menu\_\-link\_\-translate@{\_\-menu\_\-link\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-translate (\&\$ {\em item}, \/  \$ {\em translate} = {\ttfamily FALSE})}}
\label{group__menu_ga75bf09f752589011fc9256b041cf7cc0}
Provides menu link access control, translation, and argument handling.

This function is similar to \hyperlink{group__menu_ga0e8535f35bcd1a03e71120a2d6ecc099}{\_\-menu\_\-translate()}, but it also does link-\/specific preparation (such as always calling to\_\-arg() functions).


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]A menu link. \item[{\em \$translate}](optional) Whether to try to translate a link containing dynamic path argument placeholders (\%) based on the menu router item of the current path. Defaults to FALSE. Internally used for breadcrumbs.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the map of path arguments with objects loaded as defined in the \$item\mbox{[}'load\_\-functions'\mbox{]}. \$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise. \$item\mbox{[}'href'\mbox{]} is generated from link\_\-path, possibly by to\_\-arg functions. \$item\mbox{[}'title'\mbox{]} is generated from link\_\-title, and may be localized. \$item\mbox{[}'options'\mbox{]} is unserialized; it is also changed within the call here to \$item\mbox{[}'localized\_\-options'\mbox{]} by \hyperlink{group__menu_ga3b0c0f37db66372ac4e90afa35b191e9}{\_\-menu\_\-item\_\-localize()}. 
\end{DoxyReturn}
\hypertarget{group__menu_ga8aeba67f5ade33d997f9869ce3e41fa6}{
\index{menu@{menu}!\_\-menu\_\-load\_\-objects@{\_\-menu\_\-load\_\-objects}}
\index{\_\-menu\_\-load\_\-objects@{\_\-menu\_\-load\_\-objects}!menu@{menu}}
\subsubsection[{\_\-menu\_\-load\_\-objects}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-load\_\-objects (\&\$ {\em item}, \/  \&\$ {\em map})}}
\label{group__menu_ga8aeba67f5ade33d997f9869ce3e41fa6}
Loads objects into the map as defined in the \$item\mbox{[}'load\_\-functions'\mbox{]}.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]A menu router or menu link item \item[{\em \$map}]An array of path arguments; for example, array('node', '5').\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE for success, FALSE if an object cannot be loaded. Names of object loading functions are placed in \$item\mbox{[}'load\_\-functions'\mbox{]}. Loaded objects are placed in \$map\mbox{[}\mbox{]}; keys are the same as keys in the \$item\mbox{[}'load\_\-functions'\mbox{]} array. \$item\mbox{[}'access'\mbox{]} is set to FALSE if an object cannot be loaded. 
\end{DoxyReturn}
\hypertarget{group__menu_ga69fdf86c20d033bc7ba46a14937e20ea}{
\index{menu@{menu}!\_\-menu\_\-navigation\_\-links\_\-rebuild@{\_\-menu\_\-navigation\_\-links\_\-rebuild}}
\index{\_\-menu\_\-navigation\_\-links\_\-rebuild@{\_\-menu\_\-navigation\_\-links\_\-rebuild}!menu@{menu}}
\subsubsection[{\_\-menu\_\-navigation\_\-links\_\-rebuild}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-navigation\_\-links\_\-rebuild (\$ {\em menu})}}
\label{group__menu_ga69fdf86c20d033bc7ba46a14937e20ea}
Builds menu links for the items in the menu router. \hypertarget{group__menu_ga662b13ca71a8b780c9a3b372b25492c3}{
\index{menu@{menu}!\_\-menu\_\-router\_\-build@{\_\-menu\_\-router\_\-build}}
\index{\_\-menu\_\-router\_\-build@{\_\-menu\_\-router\_\-build}!menu@{menu}}
\subsubsection[{\_\-menu\_\-router\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-router\_\-build (\$ {\em callbacks})}}
\label{group__menu_ga662b13ca71a8b780c9a3b372b25492c3}
Builds the router table based on the data from \hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()}. \hypertarget{group__menu_ga02af3d3800722e9ff5be36485b655905}{
\index{menu@{menu}!\_\-menu\_\-router\_\-cache@{\_\-menu\_\-router\_\-cache}}
\index{\_\-menu\_\-router\_\-cache@{\_\-menu\_\-router\_\-cache}!menu@{menu}}
\subsubsection[{\_\-menu\_\-router\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-router\_\-cache (\$ {\em new\_\-menu} = {\ttfamily NULL})}}
\label{group__menu_ga02af3d3800722e9ff5be36485b655905}
Stores the menu router if we have it in memory. \hypertarget{group__menu_gaa7e7e12f5c89718ac147c0e166458135}{
\index{menu@{menu}!\_\-menu\_\-router\_\-save@{\_\-menu\_\-router\_\-save}}
\index{\_\-menu\_\-router\_\-save@{\_\-menu\_\-router\_\-save}!menu@{menu}}
\subsubsection[{\_\-menu\_\-router\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-router\_\-save (\$ {\em menu}, \/  \$ {\em masks})}}
\label{group__menu_gaa7e7e12f5c89718ac147c0e166458135}
Saves data from \hyperlink{group__menu_ga1f6713b93173302fb29d7bc9578b7530}{menu\_\-router\_\-build()} to the router table. \hypertarget{group__menu_ga08212e3890c64045fcf6b44032b343a0}{
\index{menu@{menu}!\_\-menu\_\-set\_\-expanded\_\-menus@{\_\-menu\_\-set\_\-expanded\_\-menus}}
\index{\_\-menu\_\-set\_\-expanded\_\-menus@{\_\-menu\_\-set\_\-expanded\_\-menus}!menu@{menu}}
\subsubsection[{\_\-menu\_\-set\_\-expanded\_\-menus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-set\_\-expanded\_\-menus ()}}
\label{group__menu_ga08212e3890c64045fcf6b44032b343a0}
Updates a list of menus with expanded items. \hypertarget{group__menu_ga1bfe1a44b1867b0c02a241b6cc43e50c}{
\index{menu@{menu}!\_\-menu\_\-site\_\-is\_\-offline@{\_\-menu\_\-site\_\-is\_\-offline}}
\index{\_\-menu\_\-site\_\-is\_\-offline@{\_\-menu\_\-site\_\-is\_\-offline}!menu@{menu}}
\subsubsection[{\_\-menu\_\-site\_\-is\_\-offline}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-site\_\-is\_\-offline (\$ {\em check\_\-only} = {\ttfamily FALSE})}}
\label{group__menu_ga1bfe1a44b1867b0c02a241b6cc43e50c}
Checks whether the site is in maintenance mode.

This function will log the current user out and redirect to front page if the current user has no 'access site in maintenance mode' permission.


\begin{DoxyParams}{Parameters}
\item[{\em \$check\_\-only}]If this is set to TRUE, the function will perform the access checks and return the site offline status, but not log the user out or display any messages.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
FALSE if the site is not in maintenance mode, the user login page is displayed, or the user has the 'access site in maintenance mode' permission. TRUE for anonymous users not being on the login page when the site is in maintenance mode. 
\end{DoxyReturn}
\hypertarget{group__menu_ga0e8535f35bcd1a03e71120a2d6ecc099}{
\index{menu@{menu}!\_\-menu\_\-translate@{\_\-menu\_\-translate}}
\index{\_\-menu\_\-translate@{\_\-menu\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-translate (\&\$ {\em router\_\-item}, \/  \$ {\em map}, \/  \$ {\em to\_\-arg} = {\ttfamily FALSE})}}
\label{group__menu_ga0e8535f35bcd1a03e71120a2d6ecc099}
Handles dynamic path translation and menu access control.

When a user arrives on a page such as node/5, this function determines what \char`\"{}5\char`\"{} corresponds to, by inspecting the page's menu path definition, node/node. This will call node\_\-load(5) to load the corresponding node object.

It also works in reverse, to allow the display of tabs and menu items which contain these dynamic arguments, translating node/node to node/5.

Translation of menu item titles and descriptions are done here to allow for storage of English strings in the database, and translation to the language required to generate the current page.


\begin{DoxyParams}{Parameters}
\item[{\em \$router\_\-item}]A menu router item \item[{\em \$map}]An array of path arguments; for example, array('node', '5'). \item[{\em \$to\_\-arg}]Execute \$item\mbox{[}'to\_\-arg\_\-functions'\mbox{]} or not. Use only if you want to render a path from the menu table, for example tabs.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the map with objects loaded as defined in the \$item\mbox{[}'load\_\-functions'\mbox{]}. \$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise. \$item\mbox{[}'href'\mbox{]} is set according to the map. If an error occurs during calling the load\_\-functions (like trying to load a non-\/existent node) then this function returns FALSE. 
\end{DoxyReturn}
\hypertarget{group__menu_gad59ba7ae64f452408201f82f8cb7dc25}{
\index{menu@{menu}!\_\-menu\_\-tree\_\-check\_\-access@{\_\-menu\_\-tree\_\-check\_\-access}}
\index{\_\-menu\_\-tree\_\-check\_\-access@{\_\-menu\_\-tree\_\-check\_\-access}!menu@{menu}}
\subsubsection[{\_\-menu\_\-tree\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-tree\_\-check\_\-access (\&\$ {\em tree})}}
\label{group__menu_gad59ba7ae64f452408201f82f8cb7dc25}
Sorts the menu tree and recursively checks access for each item. \hypertarget{group__menu_gaf179327ae18d3a8ace0453b528707e3e}{
\index{menu@{menu}!\_\-menu\_\-tree\_\-data@{\_\-menu\_\-tree\_\-data}}
\index{\_\-menu\_\-tree\_\-data@{\_\-menu\_\-tree\_\-data}!menu@{menu}}
\subsubsection[{\_\-menu\_\-tree\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-tree\_\-data (\&\$ {\em links}, \/  \$ {\em parents}, \/  \$ {\em depth})}}
\label{group__menu_gaf179327ae18d3a8ace0453b528707e3e}
Builds the data representing a menu tree.

The function is a bit complex because the rendering of a link depends on the next menu link. \hypertarget{group__menu_ga9df6c2183ab9ee0e934eec54a67761d8}{
\index{menu@{menu}!\_\-menu\_\-update\_\-parental\_\-status@{\_\-menu\_\-update\_\-parental\_\-status}}
\index{\_\-menu\_\-update\_\-parental\_\-status@{\_\-menu\_\-update\_\-parental\_\-status}!menu@{menu}}
\subsubsection[{\_\-menu\_\-update\_\-parental\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-update\_\-parental\_\-status (\$ {\em item}, \/  \$ {\em exclude} = {\ttfamily FALSE})}}
\label{group__menu_ga9df6c2183ab9ee0e934eec54a67761d8}
Checks and updates the 'has\_\-children' status for the parent of a link. \hypertarget{group__menu_ga00dce79e81030a75c94c7a279794b253}{
\index{menu@{menu}!drupal\_\-help\_\-arg@{drupal\_\-help\_\-arg}}
\index{drupal\_\-help\_\-arg@{drupal\_\-help\_\-arg}!menu@{menu}}
\subsubsection[{drupal\_\-help\_\-arg}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-help\_\-arg (\$ {\em arg} = {\ttfamily array()})}}
\label{group__menu_ga00dce79e81030a75c94c7a279794b253}
Generates elements for the \$arg array in the help hook. \hypertarget{group__menu_gabd17638ed8a36d5412244fd7c2456eb7}{
\index{menu@{menu}!menu\_\-build\_\-tree@{menu\_\-build\_\-tree}}
\index{menu\_\-build\_\-tree@{menu\_\-build\_\-tree}!menu@{menu}}
\subsubsection[{menu\_\-build\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-build\_\-tree (\$ {\em menu\_\-name}, \/  array \$ {\em parameters} = {\ttfamily array()})}}
\label{group__menu_gabd17638ed8a36d5412244fd7c2456eb7}
Builds a menu tree, translates links, and checks access.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the menu. \item[{\em \$parameters}](optional) An associative array of build parameters. Possible keys:
\begin{DoxyItemize}
\item expanded: An array of parent link ids to return only menu links that are children of one of the plids in this list. If empty, the whole menu tree is built, unless 'only\_\-active\_\-trail' is TRUE.
\item active\_\-trail: An array of mlids, representing the coordinates of the currently active menu link.
\item only\_\-active\_\-trail: Whether to only return links that are in the active trail. This option is ignored, if 'expanded' is non-\/empty. Internally used for breadcrumbs.
\item min\_\-depth: The minimum depth of menu links in the resulting tree. Defaults to 1, which is the default to build a whole tree for a menu (excluding menu container itself).
\item max\_\-depth: The maximum depth of menu links in the resulting tree.
\item conditions: An associative array of custom database select query condition key/value pairs; see \hyperlink{group__menu_ga036009a003a68a01a420737d9c1b30c0}{\_\-menu\_\-build\_\-tree()} for the actual query.
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A fully built menu tree. 
\end{DoxyReturn}
\hypertarget{group__menu_ga032d6b78c7deab10685ebfa6f32ad7eb}{
\index{menu@{menu}!menu\_\-cache\_\-clear@{menu\_\-cache\_\-clear}}
\index{menu\_\-cache\_\-clear@{menu\_\-cache\_\-clear}!menu@{menu}}
\subsubsection[{menu\_\-cache\_\-clear}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-cache\_\-clear (\$ {\em menu\_\-name} = {\ttfamily 'navigation'})}}
\label{group__menu_ga032d6b78c7deab10685ebfa6f32ad7eb}
Clears the cached cached data for a single named menu. \hypertarget{group__menu_ga0a10fa44ca152a12091747e515b6a655}{
\index{menu@{menu}!menu\_\-cache\_\-clear\_\-all@{menu\_\-cache\_\-clear\_\-all}}
\index{menu\_\-cache\_\-clear\_\-all@{menu\_\-cache\_\-clear\_\-all}!menu@{menu}}
\subsubsection[{menu\_\-cache\_\-clear\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-cache\_\-clear\_\-all ()}}
\label{group__menu_ga0a10fa44ca152a12091747e515b6a655}
Clears all cached menu data.

This should be called any time broad changes might have been made to the router items or menu links. \hypertarget{group__menu_gad524d9a3415e24d27c7dbcb333d96cf8}{
\index{menu@{menu}!menu\_\-contextual\_\-links@{menu\_\-contextual\_\-links}}
\index{menu\_\-contextual\_\-links@{menu\_\-contextual\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-contextual\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-contextual\_\-links (\$ {\em module}, \/  \$ {\em parent\_\-path}, \/  \$ {\em args})}}
\label{group__menu_gad524d9a3415e24d27c7dbcb333d96cf8}
Retrieves contextual links for a path based on registered local tasks.

This leverages the menu system to retrieve the first layer of registered local tasks for a given system path. All local tasks of the tab type MENU\_\-CONTEXT\_\-INLINE are taken into account.

For example, when considering the following registered local tasks:
\begin{DoxyItemize}
\item node/node/view (default local task) with no 'context' defined
\item node/node/edit with context: MENU\_\-CONTEXT\_\-PAGE $|$ MENU\_\-CONTEXT\_\-INLINE
\item node/node/revisions with context: MENU\_\-CONTEXT\_\-PAGE
\item node/node/report-\/as-\/spam with context: MENU\_\-CONTEXT\_\-INLINE
\end{DoxyItemize}

If the path \char`\"{}node/123\char`\"{} is passed to this function, then it will return the links for 'edit' and 'report-\/as-\/spam'.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]The name of the implementing module. This is used to prefix the key for each contextual link, which is transformed into a CSS class during rendering by \hyperlink{group__themeable_gab75b290dbc9541e2fb0d9e57cbcdda5c}{theme\_\-links()}. For example, if \$module is 'block' and the retrieved local task path argument is 'edit', then the resulting CSS class will be 'block-\/edit'. \item[{\em \$parent\_\-path}]The static menu router path of the object to retrieve local tasks for, for example 'node' or 'admin/structure/block/manage'. \item[{\em \$args}]A list of dynamic path arguments to append to \$parent\_\-path to form the fully-\/qualified menu router path; for example, array(123) for a certain node or array('system', 'navigation') for a certain block.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of menu router items that are local tasks for the passed-\/in path.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
contextual\_\-links\_\-preprocess() 

\hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_gade553e3a51918b9290425df7f775aa14}{
\index{menu@{menu}!menu\_\-delete\_\-links@{menu\_\-delete\_\-links}}
\index{menu\_\-delete\_\-links@{menu\_\-delete\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-delete\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-delete\_\-links (\$ {\em menu\_\-name})}}
\label{group__menu_gade553e3a51918b9290425df7f775aa14}
Deletes all links for a menu.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the menu whose links will be deleted. \end{DoxyParams}
\hypertarget{group__menu_gae33bae24fcac6126aa272d1c437f947c}{
\index{menu@{menu}!menu\_\-execute\_\-active\_\-handler@{menu\_\-execute\_\-active\_\-handler}}
\index{menu\_\-execute\_\-active\_\-handler@{menu\_\-execute\_\-active\_\-handler}!menu@{menu}}
\subsubsection[{menu\_\-execute\_\-active\_\-handler}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-execute\_\-active\_\-handler (\$ {\em path} = {\ttfamily NULL}, \/  \$ {\em deliver} = {\ttfamily TRUE})}}
\label{group__menu_gae33bae24fcac6126aa272d1c437f947c}
Execute the page callback associated with the current path.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]The drupal path whose handler is to be be executed. If set to NULL, then the current path is used. \item[{\em \$deliver}](optional) A boolean to indicate whether the content should be sent to the browser using the appropriate delivery callback (TRUE) or whether to return the result to the caller (FALSE). \end{DoxyParams}
\hypertarget{group__menu_ga009731c4b3e736ebb620ba90e7f04207}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-breadcrumb@{menu\_\-get\_\-active\_\-breadcrumb}}
\index{menu\_\-get\_\-active\_\-breadcrumb@{menu\_\-get\_\-active\_\-breadcrumb}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-breadcrumb}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-breadcrumb ()}}
\label{group__menu_ga009731c4b3e736ebb620ba90e7f04207}
Gets the breadcrumb for the current page, as determined by the active trail.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_ga21c6572391132f4e1f5b3fd108220bf4}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-help@{menu\_\-get\_\-active\_\-help}}
\index{menu\_\-get\_\-active\_\-help@{menu\_\-get\_\-active\_\-help}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-help}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-help ()}}
\label{group__menu_ga21c6572391132f4e1f5b3fd108220bf4}
Returns the help associated with the active menu item. \hypertarget{group__menu_ga421798c040a98ec1b5d583e7a7a5e65b}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-menu\_\-names@{menu\_\-get\_\-active\_\-menu\_\-names}}
\index{menu\_\-get\_\-active\_\-menu\_\-names@{menu\_\-get\_\-active\_\-menu\_\-names}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-menu\_\-names}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-menu\_\-names ()}}
\label{group__menu_ga421798c040a98ec1b5d583e7a7a5e65b}
Gets the active menu for the current page. \hypertarget{group__menu_gaf0a358447097959e53ad1a20b8d811ed}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-title@{menu\_\-get\_\-active\_\-title}}
\index{menu\_\-get\_\-active\_\-title@{menu\_\-get\_\-active\_\-title}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-title}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-title ()}}
\label{group__menu_gaf0a358447097959e53ad1a20b8d811ed}
Gets the title of the current page, as determined by the active trail. \hypertarget{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-trail@{menu\_\-get\_\-active\_\-trail}}
\index{menu\_\-get\_\-active\_\-trail@{menu\_\-get\_\-active\_\-trail}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-trail}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-trail ()}}
\label{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}
Gets the active trail (path to root menu root) of the current page.

If a trail is supplied to \hyperlink{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail()}, that value is returned. If a trail is not supplied to \hyperlink{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail()}, the path to the current page is calculated and returned. The calculated trail is also saved as a static value for use by subsequent calls to \hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail()}.

\begin{DoxyReturn}{Returns}
Path to menu root of the current page, as an array of menu link items, starting with the site's home page. Each link item is an associative array with the following components:
\begin{DoxyItemize}
\item title: Title of the item.
\item href: Drupal path of the item.
\item localized\_\-options: Options for passing into the \hyperlink{common_8inc_ad3b36c06dc46250b8d22b8d0d2e7bd97}{l()} function.
\item type: A menu type constant, such as MENU\_\-DEFAULT\_\-LOCAL\_\-TASK, or 0 to indicate it's not really in the menu (used for the home page item). 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{group__menu_ga24ddfa75da5f03482a2df2c9c8d1f711}{
\index{menu@{menu}!menu\_\-get\_\-ancestors@{menu\_\-get\_\-ancestors}}
\index{menu\_\-get\_\-ancestors@{menu\_\-get\_\-ancestors}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-ancestors}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-ancestors (\$ {\em parts})}}
\label{group__menu_ga24ddfa75da5f03482a2df2c9c8d1f711}
Returns the ancestors (and relevant placeholders) for any given path.

For example, the ancestors of node/12345/edit are:
\begin{DoxyItemize}
\item node/12345/edit
\item node/12345/\%
\item node//edit
\item node//\%
\item node/12345
\item node/\%
\item node
\end{DoxyItemize}

To generate these, we will use binary numbers. Each bit represents a part of the path. If the bit is 1, then it represents the original value while 0 means wildcard. If the path is node/12/edit/foo then the 1011 bitstring represents node//edit/foo where \% means that any argument matches that part. We limit ourselves to using binary numbers that correspond the patterns of wildcards of router items that actually exists. This list of 'masks' is built in \hyperlink{group__menu_gaf36dcb9d5491ef5e7d2cf22c1f5c69f4}{menu\_\-rebuild()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$parts}]An array of path parts; for the above example, array('node', '12345', 'edit').\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array which contains the ancestors and placeholders. Placeholders simply contain as many 's' as the ancestors. 
\end{DoxyReturn}
\hypertarget{group__menu_gaf00aa2604e9ad7c0ff0faa6cbc301da8}{
\index{menu@{menu}!menu\_\-get\_\-custom\_\-theme@{menu\_\-get\_\-custom\_\-theme}}
\index{menu\_\-get\_\-custom\_\-theme@{menu\_\-get\_\-custom\_\-theme}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-custom\_\-theme}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-custom\_\-theme (\$ {\em initialize} = {\ttfamily FALSE})}}
\label{group__menu_gaf00aa2604e9ad7c0ff0faa6cbc301da8}
Gets the custom theme for the current page, if there is one.


\begin{DoxyParams}{Parameters}
\item[{\em \$initialize}]This parameter should only be used internally; it is set to TRUE in order to force the custom theme to be initialized for the current page request.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The machine-\/readable name of the custom theme, if there is one.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_ga2545be84d84b98f84857bea11f7961fb}{menu\_\-set\_\-custom\_\-theme()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_ga855b1ca6ef9e44eb6107a2b9d0f581df}{
\index{menu@{menu}!menu\_\-get\_\-item@{menu\_\-get\_\-item}}
\index{menu\_\-get\_\-item@{menu\_\-get\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-item (\$ {\em path} = {\ttfamily NULL}, \/  \$ {\em router\_\-item} = {\ttfamily NULL})}}
\label{group__menu_ga855b1ca6ef9e44eb6107a2b9d0f581df}
Gets a router item.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]The path; for example, 'node/5'. The function will find the corresponding node/\% item and return that. \item[{\em \$router\_\-item}]Internal use only.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The router item or, if an error occurs in \hyperlink{group__menu_ga0e8535f35bcd1a03e71120a2d6ecc099}{\_\-menu\_\-translate()}, FALSE. A router item is an associative array corresponding to one row in the menu\_\-router table. The value corresponding to the key 'map' holds the loaded objects. The value corresponding to the key 'access' is TRUE if the current user can access this page. The values corresponding to the keys 'title', 'page\_\-arguments', 'access\_\-arguments', and 'theme\_\-arguments' will be filled in based on the database values and the objects loaded. 
\end{DoxyReturn}
\hypertarget{group__menu_gad15183a10857a4a4ad0504ec830443d3}{
\index{menu@{menu}!menu\_\-get\_\-names@{menu\_\-get\_\-names}}
\index{menu\_\-get\_\-names@{menu\_\-get\_\-names}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-names}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-names ()}}
\label{group__menu_gad15183a10857a4a4ad0504ec830443d3}
Build a list of named menus. \hypertarget{group__menu_ga8b1c8825ae7b6ae31b50cadaa1f7c920}{
\index{menu@{menu}!menu\_\-get\_\-object@{menu\_\-get\_\-object}}
\index{menu\_\-get\_\-object@{menu\_\-get\_\-object}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-object (\$ {\em type} = {\ttfamily 'node'}, \/  \$ {\em position} = {\ttfamily 1}, \/  \$ {\em path} = {\ttfamily NULL})}}
\label{group__menu_ga8b1c8825ae7b6ae31b50cadaa1f7c920}
Gets a loaded object from a router item.

\hyperlink{group__menu_ga8b1c8825ae7b6ae31b50cadaa1f7c920}{menu\_\-get\_\-object()} provides access to objects loaded by the current router item. For example, on the page node/node, the router loads the node object, and calling \hyperlink{group__menu_ga8b1c8825ae7b6ae31b50cadaa1f7c920}{menu\_\-get\_\-object()} will return that. Normally, it is necessary to specify the type of object referenced, however node is the default. The following example tests to see whether the node being displayed is of the \char`\"{}story\char`\"{} content type: 
\begin{DoxyCode}
 $node = menu_get_object();
 $story = $node->type == 'story';
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
\item[{\em \$type}]Type of the object. These appear in hook\_\-menu definitions as type. Core provides aggregator\_\-feed, aggregator\_\-category, contact, filter\_\-format, forum\_\-term, menu, menu\_\-link, node, taxonomy\_\-vocabulary, user. See the relevant \{\$type\}\_\-load function for more on each. Defaults to node. \item[{\em \$position}]The position of the object in the path, where the first path segment is 0. For node/node, the position of node is 1, but for comment/reply/node, it's 2. Defaults to 1. \item[{\em \$path}]See \hyperlink{group__menu_ga855b1ca6ef9e44eb6107a2b9d0f581df}{menu\_\-get\_\-item()} for more on this. Defaults to the current path. \end{DoxyParams}
\hypertarget{group__menu_ga7140ecddb2c59ae8acc74968eb339e67}{
\index{menu@{menu}!menu\_\-get\_\-router@{menu\_\-get\_\-router}}
\index{menu\_\-get\_\-router@{menu\_\-get\_\-router}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-router}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-router ()}}
\label{group__menu_ga7140ecddb2c59ae8acc74968eb339e67}
Gets the menu router. \hypertarget{group__menu_ga75c0660b49841423d8d3c8908e9023fc}{
\index{menu@{menu}!menu\_\-link\_\-children\_\-relative\_\-depth@{menu\_\-link\_\-children\_\-relative\_\-depth}}
\index{menu\_\-link\_\-children\_\-relative\_\-depth@{menu\_\-link\_\-children\_\-relative\_\-depth}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-children\_\-relative\_\-depth}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-children\_\-relative\_\-depth (\$ {\em item})}}
\label{group__menu_ga75c0660b49841423d8d3c8908e9023fc}
Finds the depth of an item's children relative to its depth.

For example, if the item has a depth of 2, and the maximum of any child in the menu link tree is 5, the relative depth is 3.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]An array representing a menu link item.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The relative depth, or zero. 
\end{DoxyReturn}
\hypertarget{group__menu_gacb2dddc8ca84476f38a90f4487156b12}{
\index{menu@{menu}!menu\_\-link\_\-delete@{menu\_\-link\_\-delete}}
\index{menu\_\-link\_\-delete@{menu\_\-link\_\-delete}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-delete (\$ {\em mlid}, \/  \$ {\em path} = {\ttfamily NULL})}}
\label{group__menu_gacb2dddc8ca84476f38a90f4487156b12}
Delete one or several menu links.


\begin{DoxyParams}{Parameters}
\item[{\em \$mlid}]A valid menu link mlid or NULL. If NULL, \$path is used. \item[{\em \$path}]The path to the menu items to be deleted. \$mlid must be NULL. \end{DoxyParams}
\hypertarget{group__menu_gad5fbd7dfd77f1496d636d130a3ff591d}{
\index{menu@{menu}!menu\_\-link\_\-get\_\-preferred@{menu\_\-link\_\-get\_\-preferred}}
\index{menu\_\-link\_\-get\_\-preferred@{menu\_\-link\_\-get\_\-preferred}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-get\_\-preferred}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-get\_\-preferred (\$ {\em path} = {\ttfamily NULL}, \/  \$ {\em selected\_\-menu} = {\ttfamily NULL})}}
\label{group__menu_gad5fbd7dfd77f1496d636d130a3ff591d}
Looks up the preferred menu link for a given system path.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]The path; for example, 'node/5'. The function will find the corresponding menu link ('node/5' if it exists, or fallback to 'node/'). \item[{\em \$selected\_\-menu}]The name of a menu used to restrict the search for a preferred menu link. If not specified, all the menus returned by \hyperlink{group__menu_ga421798c040a98ec1b5d583e7a7a5e65b}{menu\_\-get\_\-active\_\-menu\_\-names()} will be used.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A fully translated menu link, or FALSE if no matching menu link was found. The most specific menu link ('node/5' preferred over 'node/') in the most preferred menu (as defined by \hyperlink{group__menu_ga421798c040a98ec1b5d583e7a7a5e65b}{menu\_\-get\_\-active\_\-menu\_\-names()}) is returned. 
\end{DoxyReturn}
\hypertarget{group__menu_gac2b338fa3a449c826661aade7a7d486e}{
\index{menu@{menu}!menu\_\-link\_\-load@{menu\_\-link\_\-load}}
\index{menu\_\-link\_\-load@{menu\_\-link\_\-load}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-load (\$ {\em mlid})}}
\label{group__menu_gac2b338fa3a449c826661aade7a7d486e}
Gets a translated, access-\/checked menu link that is ready for rendering.

This function should never be called from within \hyperlink{node_8module_a492ddfc12843e71242bb484a44e51a19}{node\_\-load()} or any other function used as a menu object load function since an infinite recursion may occur.


\begin{DoxyParams}{Parameters}
\item[{\em \$mlid}]The mlid of the menu item.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A menu link, with \$item\mbox{[}'access'\mbox{]} filled and link translated for rendering. 
\end{DoxyReturn}
\hypertarget{group__menu_gae3248649fb437dedad940df74fb129dc}{
\index{menu@{menu}!menu\_\-link\_\-maintain@{menu\_\-link\_\-maintain}}
\index{menu\_\-link\_\-maintain@{menu\_\-link\_\-maintain}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-maintain}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-maintain (\$ {\em module}, \/  \$ {\em op}, \/  \$ {\em link\_\-path}, \/  \$ {\em link\_\-title})}}
\label{group__menu_gae3248649fb437dedad940df74fb129dc}
Inserts, updates, or deletes an uncustomized menu link related to a module.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]The name of the module. \item[{\em \$op}]Operation to perform: insert, update or delete. \item[{\em \$link\_\-path}]The path this link points to. \item[{\em \$link\_\-title}]Title of the link to insert or new title to update the link to. Unused for delete.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The insert op returns the mlid of the new item. Others op return NULL. 
\end{DoxyReturn}
\hypertarget{group__menu_ga133b177fee00b678a19afba18fb81ebc}{
\index{menu@{menu}!menu\_\-link\_\-save@{menu\_\-link\_\-save}}
\index{menu\_\-link\_\-save@{menu\_\-link\_\-save}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-save (\&\$ {\em item}, \/  \$ {\em existing\_\-item} = {\ttfamily array()}, \/  \$ {\em parent\_\-candidates} = {\ttfamily array()})}}
\label{group__menu_ga133b177fee00b678a19afba18fb81ebc}
Saves a menu link.

After calling this function, rebuild the menu cache using \hyperlink{group__menu_ga0a10fa44ca152a12091747e515b6a655}{menu\_\-cache\_\-clear\_\-all()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]An associative array representing a menu link item, with elements:
\begin{DoxyItemize}
\item link\_\-path: (required) The path of the menu item, which should be normalized first by calling \hyperlink{path_8inc_a59781811cbcdef4c64ccd1d55e1ae9f8}{drupal\_\-get\_\-normal\_\-path()} on it.
\item link\_\-title: (required) Title to appear in menu for the link.
\item menu\_\-name: (optional) The machine name of the menu for the link. Defaults to 'navigation'.
\item weight: (optional) Integer to determine position in menu. Default is 0.
\item expanded: (optional) Boolean that determines if the item is expanded.
\item options: (optional) An array of options, see \hyperlink{common_8inc_ad3b36c06dc46250b8d22b8d0d2e7bd97}{l()} for more.
\item mlid: (optional) Menu link identifier, the primary integer key for each menu link. Can be set to an existing value, or to 0 or NULL to insert a new link.
\item plid: (optional) The mlid of the parent.
\item router\_\-path: (optional) The path of the relevant router item. 
\end{DoxyItemize}\item[{\em \$existing\_\-item}]Optional, the current record from the \{menu\_\-links\} table as an array. \item[{\em \$parent\_\-candidates}]Optional array of menu links keyed by mlid. Used by \hyperlink{group__menu_ga69fdf86c20d033bc7ba46a14937e20ea}{\_\-menu\_\-navigation\_\-links\_\-rebuild()} only.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The mlid of the saved menu link, or FALSE if the menu link could not be saved. 
\end{DoxyReturn}
\hypertarget{group__menu_ga327aef442c1c6c4b2a7d14742f37af2a}{
\index{menu@{menu}!menu\_\-links\_\-clone@{menu\_\-links\_\-clone}}
\index{menu\_\-links\_\-clone@{menu\_\-links\_\-clone}!menu@{menu}}
\subsubsection[{menu\_\-links\_\-clone}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-links\_\-clone (\$ {\em links}, \/  \$ {\em menu\_\-name} = {\ttfamily NULL})}}
\label{group__menu_ga327aef442c1c6c4b2a7d14742f37af2a}
Clones an array of menu links.


\begin{DoxyParams}{Parameters}
\item[{\em \$links}]An array of menu links to clone. \item[{\em \$menu\_\-name}](optional) The name of a menu that the links will be cloned for. If not set, the cloned links will be in the same menu as the original set of links that were passed in.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of menu links with the same properties as the passed-\/in array, but with the link identifiers removed so that a new link will be created when any of them is passed in to \hyperlink{group__menu_ga133b177fee00b678a19afba18fb81ebc}{menu\_\-link\_\-save()}.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__menu_ga133b177fee00b678a19afba18fb81ebc}{menu\_\-link\_\-save()} 
\end{DoxySeeAlso}
\hypertarget{group__menu_ga28e765ff428a3f18978af564ee0147d6}{
\index{menu@{menu}!menu\_\-list\_\-system\_\-menus@{menu\_\-list\_\-system\_\-menus}}
\index{menu\_\-list\_\-system\_\-menus@{menu\_\-list\_\-system\_\-menus}!menu@{menu}}
\subsubsection[{menu\_\-list\_\-system\_\-menus}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-list\_\-system\_\-menus ()}}
\label{group__menu_ga28e765ff428a3f18978af564ee0147d6}
Returns an array containing the names of system-\/defined (default) menus. \hypertarget{group__menu_gac82038848d5c321b972769ff821d4aa1}{
\index{menu@{menu}!menu\_\-load\_\-links@{menu\_\-load\_\-links}}
\index{menu\_\-load\_\-links@{menu\_\-load\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-load\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-load\_\-links (\$ {\em menu\_\-name})}}
\label{group__menu_gac82038848d5c321b972769ff821d4aa1}
Returns an array containing all links for a menu.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the menu whose links should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of menu links. 
\end{DoxyReturn}
\hypertarget{group__menu_ga150a37ede061833b2b9fde658d005426}{
\index{menu@{menu}!menu\_\-local\_\-actions@{menu\_\-local\_\-actions}}
\index{menu\_\-local\_\-actions@{menu\_\-local\_\-actions}!menu@{menu}}
\subsubsection[{menu\_\-local\_\-actions}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-local\_\-actions ()}}
\label{group__menu_ga150a37ede061833b2b9fde658d005426}
Returns the rendered local actions at the current level. \hypertarget{group__menu_ga9fe648c89a4e94e63c7a88076ed12a94}{
\index{menu@{menu}!menu\_\-local\_\-tabs@{menu\_\-local\_\-tabs}}
\index{menu\_\-local\_\-tabs@{menu\_\-local\_\-tabs}!menu@{menu}}
\subsubsection[{menu\_\-local\_\-tabs}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-local\_\-tabs ()}}
\label{group__menu_ga9fe648c89a4e94e63c7a88076ed12a94}
Returns a renderable element for the primary and secondary tabs. \hypertarget{group__menu_gadb8bb3644e114166950142280085cf3e}{
\index{menu@{menu}!menu\_\-local\_\-tasks@{menu\_\-local\_\-tasks}}
\index{menu\_\-local\_\-tasks@{menu\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-local\_\-tasks (\$ {\em level} = {\ttfamily 0})}}
\label{group__menu_gadb8bb3644e114166950142280085cf3e}
Collects the local tasks (tabs), action links, and the root path.


\begin{DoxyParams}{Parameters}
\item[{\em \$level}]The level of tasks you ask for. Primary tasks are 0, secondary are 1.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array containing
\begin{DoxyItemize}
\item tabs: Local tasks for the requested level:
\begin{DoxyItemize}
\item count: The number of local tasks.
\item output: The themed output of local tasks.
\end{DoxyItemize}
\item actions: Action links for the requested level:
\begin{DoxyItemize}
\item count: The number of action links.
\item output: The themed output of action links.
\end{DoxyItemize}
\item root\_\-path: The router path for the current page. If the current page is a default local task, then this corresponds to the parent tab. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{group__menu_ga47957cf684d4a76b6e8a5eac09d2db94}{
\index{menu@{menu}!menu\_\-main\_\-menu@{menu\_\-main\_\-menu}}
\index{menu\_\-main\_\-menu@{menu\_\-main\_\-menu}!menu@{menu}}
\subsubsection[{menu\_\-main\_\-menu}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-main\_\-menu ()}}
\label{group__menu_ga47957cf684d4a76b6e8a5eac09d2db94}
Returns an array of links to be rendered as the Main menu. \hypertarget{group__menu_gab4cdacc813ae9e06271aa4aa2d9495a7}{
\index{menu@{menu}!menu\_\-navigation\_\-links@{menu\_\-navigation\_\-links}}
\index{menu\_\-navigation\_\-links@{menu\_\-navigation\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-navigation\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-navigation\_\-links (\$ {\em menu\_\-name}, \/  \$ {\em level} = {\ttfamily 0})}}
\label{group__menu_gab4cdacc813ae9e06271aa4aa2d9495a7}
Returns an array of links for a navigation menu.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the menu. \item[{\em \$level}]Optional, the depth of the menu to be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of links of the specified menu and level. 
\end{DoxyReturn}
\hypertarget{group__menu_ga83613b83f90d6a12e2f4170ed0ede9b1}{
\index{menu@{menu}!menu\_\-primary\_\-local\_\-tasks@{menu\_\-primary\_\-local\_\-tasks}}
\index{menu\_\-primary\_\-local\_\-tasks@{menu\_\-primary\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-primary\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-primary\_\-local\_\-tasks ()}}
\label{group__menu_ga83613b83f90d6a12e2f4170ed0ede9b1}
Returns the rendered local tasks at the top level. \hypertarget{group__menu_gaf36dcb9d5491ef5e7d2cf22c1f5c69f4}{
\index{menu@{menu}!menu\_\-rebuild@{menu\_\-rebuild}}
\index{menu\_\-rebuild@{menu\_\-rebuild}!menu@{menu}}
\subsubsection[{menu\_\-rebuild}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-rebuild ()}}
\label{group__menu_gaf36dcb9d5491ef5e7d2cf22c1f5c69f4}
Populates the database tables used by various menu functions.

This function will clear and populate the \{menu\_\-router\} table, add entries to \{menu\_\-links\} for new router items, and then remove stale items from \{menu\_\-links\}. If called from \hyperlink{update_8php}{update.php} or \hyperlink{install_8php}{install.php}, it will also schedule a call to itself on the first real page load from \hyperlink{group__menu_gae33bae24fcac6126aa272d1c437f947c}{menu\_\-execute\_\-active\_\-handler()}, because the maintenance page environment is different and leaves stale data in the menu tables.

\begin{DoxyReturn}{Returns}
TRUE if the menu was rebuilt, FALSE if another thread was rebuilding in parallel and the current thread just waited for completion. 
\end{DoxyReturn}
\hypertarget{group__menu_ga1475a636851e8c953db72e5b1ab2c0f0}{
\index{menu@{menu}!menu\_\-reset\_\-static\_\-cache@{menu\_\-reset\_\-static\_\-cache}}
\index{menu\_\-reset\_\-static\_\-cache@{menu\_\-reset\_\-static\_\-cache}!menu@{menu}}
\subsubsection[{menu\_\-reset\_\-static\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-reset\_\-static\_\-cache ()}}
\label{group__menu_ga1475a636851e8c953db72e5b1ab2c0f0}
Resets the menu system static cache. \hypertarget{group__menu_ga1f6713b93173302fb29d7bc9578b7530}{
\index{menu@{menu}!menu\_\-router\_\-build@{menu\_\-router\_\-build}}
\index{menu\_\-router\_\-build@{menu\_\-router\_\-build}!menu@{menu}}
\subsubsection[{menu\_\-router\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-router\_\-build ()}}
\label{group__menu_ga1f6713b93173302fb29d7bc9578b7530}
Collects and alters the menu definitions. \hypertarget{group__menu_gabf84c295da2c986cd8ad305935e31ffb}{
\index{menu@{menu}!menu\_\-secondary\_\-local\_\-tasks@{menu\_\-secondary\_\-local\_\-tasks}}
\index{menu\_\-secondary\_\-local\_\-tasks@{menu\_\-secondary\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-secondary\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-secondary\_\-local\_\-tasks ()}}
\label{group__menu_gabf84c295da2c986cd8ad305935e31ffb}
Returns the rendered local tasks at the second level. \hypertarget{group__menu_gaf4a8dad6070035a498c598c5fe9ca255}{
\index{menu@{menu}!menu\_\-secondary\_\-menu@{menu\_\-secondary\_\-menu}}
\index{menu\_\-secondary\_\-menu@{menu\_\-secondary\_\-menu}!menu@{menu}}
\subsubsection[{menu\_\-secondary\_\-menu}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-secondary\_\-menu ()}}
\label{group__menu_gaf4a8dad6070035a498c598c5fe9ca255}
Returns an array of links to be rendered as the Secondary links. \hypertarget{group__menu_gacdd22102c2ba6545645ae34be563d1d4}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-item@{menu\_\-set\_\-active\_\-item}}
\index{menu\_\-set\_\-active\_\-item@{menu\_\-set\_\-active\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-item (\$ {\em path})}}
\label{group__menu_gacdd22102c2ba6545645ae34be563d1d4}
Sets the active path, which determines which page is loaded.

Note that this may not have the desired effect unless invoked very early in the page load, such as during \hyperlink{group__hooks_ga9ac1dfffdc69471a3d00d67503c71577}{hook\_\-boot()}, or unless you call \hyperlink{group__menu_gae33bae24fcac6126aa272d1c437f947c}{menu\_\-execute\_\-active\_\-handler()} to generate your page output.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]A Drupal path -\/ not a path alias. \end{DoxyParams}
\hypertarget{group__menu_gadf802fedf19e7b29e3970e936bae9bc0}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-menu\_\-names@{menu\_\-set\_\-active\_\-menu\_\-names}}
\index{menu\_\-set\_\-active\_\-menu\_\-names@{menu\_\-set\_\-active\_\-menu\_\-names}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-menu\_\-names}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-menu\_\-names (\$ {\em menu\_\-names} = {\ttfamily NULL})}}
\label{group__menu_gadf802fedf19e7b29e3970e936bae9bc0}
Sets (or gets) the active menu for the current page.

The active menu for the page determines the active trail.

\begin{DoxyReturn}{Returns}
An array of menu machine names, in order of preference. The 'menu\_\-default\_\-active\_\-menus' variable may be used to assert a menu order different from the order of creation, or to prevent a particular menu from being used at all in the active trail. E.g., \$conf\mbox{[}'menu\_\-default\_\-active\_\-menus'\mbox{]} = array('navigation', 'main-\/menu') 
\end{DoxyReturn}
\hypertarget{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-trail@{menu\_\-set\_\-active\_\-trail}}
\index{menu\_\-set\_\-active\_\-trail@{menu\_\-set\_\-active\_\-trail}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-trail}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-trail (\$ {\em new\_\-trail} = {\ttfamily NULL})}}
\label{group__menu_ga9328a9a4f297d8bb095d924e75a8abd7}
Sets the active trail (path to the menu tree root) of the current page.

Any trail set by this function will only be used for functionality that calls \hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail()}. Drupal core only uses trails set here for breadcrumbs and the page title and not for menu trees or page content. Additionally, breadcrumbs set by \hyperlink{common_8inc_a666113d06fa6ea461aff580e5c511eb0}{drupal\_\-set\_\-breadcrumb()} will override any trail set here.

To affect the trail used by menu trees, use \hyperlink{group__menu_gacbb655f92275e3c823637edbd9441cdd}{menu\_\-tree\_\-set\_\-path()}. To affect the page content, use \hyperlink{group__menu_gacdd22102c2ba6545645ae34be563d1d4}{menu\_\-set\_\-active\_\-item()} instead.


\begin{DoxyParams}{Parameters}
\item[{\em \$new\_\-trail}]Menu trail to set; the value is saved in a static variable and can be retrieved by \hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail()}. The format of this array should be the same as the return value of \hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail()}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The active trail. See \hyperlink{group__menu_ga55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail()} for details. 
\end{DoxyReturn}
\hypertarget{group__menu_ga2545be84d84b98f84857bea11f7961fb}{
\index{menu@{menu}!menu\_\-set\_\-custom\_\-theme@{menu\_\-set\_\-custom\_\-theme}}
\index{menu\_\-set\_\-custom\_\-theme@{menu\_\-set\_\-custom\_\-theme}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-custom\_\-theme}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-custom\_\-theme ()}}
\label{group__menu_ga2545be84d84b98f84857bea11f7961fb}
Sets a custom theme for the current page, if there is one. \hypertarget{group__menu_ga731543157fbe59176d20af2282df5f75}{
\index{menu@{menu}!menu\_\-set\_\-item@{menu\_\-set\_\-item}}
\index{menu\_\-set\_\-item@{menu\_\-set\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-item (\$ {\em path}, \/  \$ {\em router\_\-item})}}
\label{group__menu_ga731543157fbe59176d20af2282df5f75}
Replaces the statically cached item for a given path.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]The path. \item[{\em \$router\_\-item}]The router item. Usually a router entry from \hyperlink{group__menu_ga855b1ca6ef9e44eb6107a2b9d0f581df}{menu\_\-get\_\-item()} is either modified or set to a different path. This allows the navigation block, the page title, the breadcrumb, and the page help to be modified in one call. \end{DoxyParams}
\hypertarget{group__menu_gacf647362fc7151bbaa1dbe5568a0b6b5}{
\index{menu@{menu}!menu\_\-tab\_\-root\_\-path@{menu\_\-tab\_\-root\_\-path}}
\index{menu\_\-tab\_\-root\_\-path@{menu\_\-tab\_\-root\_\-path}!menu@{menu}}
\subsubsection[{menu\_\-tab\_\-root\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tab\_\-root\_\-path ()}}
\label{group__menu_gacf647362fc7151bbaa1dbe5568a0b6b5}
Returns the router path, or the path for a default local task's parent. \hypertarget{group__menu_ga6ed894e4c0813549a74b46c5a62e1c25}{
\index{menu@{menu}!menu\_\-tail\_\-load@{menu\_\-tail\_\-load}}
\index{menu\_\-tail\_\-load@{menu\_\-tail\_\-load}!menu@{menu}}
\subsubsection[{menu\_\-tail\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tail\_\-load (\$ {\em arg}, \/  \&\$ {\em map}, \/  \$ {\em index})}}
\label{group__menu_ga6ed894e4c0813549a74b46c5a62e1c25}
Loads the path as one string relative to the current index.

To use this load function, you must specify the load arguments in the router item as: 
\begin{DoxyCode}
 $item['load arguments'] = array('%map', '%index');
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{search_8module_ac0cbdaa688ee15c024867c96b54a4036}{search\_\-menu()}. 
\end{DoxySeeAlso}
\hypertarget{group__menu_gaad6215c5bf31dffe08a2b75e66345d10}{
\index{menu@{menu}!menu\_\-tail\_\-to\_\-arg@{menu\_\-tail\_\-to\_\-arg}}
\index{menu\_\-tail\_\-to\_\-arg@{menu\_\-tail\_\-to\_\-arg}!menu@{menu}}
\subsubsection[{menu\_\-tail\_\-to\_\-arg}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tail\_\-to\_\-arg (\$ {\em arg}, \/  \$ {\em map}, \/  \$ {\em index})}}
\label{group__menu_gaad6215c5bf31dffe08a2b75e66345d10}
Returns a string containing the path relative to the current index. \hypertarget{group__menu_ga91022785ee027528b5cee2faff31f62f}{
\index{menu@{menu}!menu\_\-tree@{menu\_\-tree}}
\index{menu\_\-tree@{menu\_\-tree}!menu@{menu}}
\subsubsection[{menu\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree (\$ {\em menu\_\-name})}}
\label{group__menu_ga91022785ee027528b5cee2faff31f62f}
Renders a menu tree based on the current path.

The tree is expanded based on the current path and dynamic paths are also changed according to the defined to\_\-arg functions (for example the 'My account' link is changed from user/\% to a link with the current user's uid).


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the menu.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A structured array representing the specified menu on the current page, to be rendered by \hyperlink{common_8inc_a05798b44e8d6c496d4bee5cc32fa7851}{drupal\_\-render()}. 
\end{DoxyReturn}
\hypertarget{group__menu_ga4f06528e6ed613b6a885e051035b322a}{
\index{menu@{menu}!menu\_\-tree\_\-all\_\-data@{menu\_\-tree\_\-all\_\-data}}
\index{menu\_\-tree\_\-all\_\-data@{menu\_\-tree\_\-all\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-all\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-all\_\-data (\$ {\em menu\_\-name}, \/  \$ {\em link} = {\ttfamily NULL}, \/  \$ {\em max\_\-depth} = {\ttfamily NULL})}}
\label{group__menu_ga4f06528e6ed613b6a885e051035b322a}
Gets the data structure representing a named menu tree.

Since this can be the full tree including hidden items, the data returned may be used for generating an an admin interface or a select.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The named menu links to return \item[{\em \$link}]A fully loaded menu link, or NULL. If a link is supplied, only the path to root will be included in the returned tree -\/ as if this link represented the current page in a visible menu. \item[{\em \$max\_\-depth}]Optional maximum depth of links to retrieve. Typically useful if only one or two levels of a sub tree are needed in conjunction with a non-\/NULL \$link, in which case \$max\_\-depth should be greater than \$link\mbox{[}'depth'\mbox{]}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An tree of menu links in an array, in the order they should be rendered. 
\end{DoxyReturn}
\hypertarget{group__menu_ga6374db210d96026fb70431def083a7a5}{
\index{menu@{menu}!menu\_\-tree\_\-check\_\-access@{menu\_\-tree\_\-check\_\-access}}
\index{menu\_\-tree\_\-check\_\-access@{menu\_\-tree\_\-check\_\-access}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-check\_\-access (\&\$ {\em tree}, \/  \$ {\em node\_\-links} = {\ttfamily array()})}}
\label{group__menu_ga6374db210d96026fb70431def083a7a5}
Checks access and performs dynamic operations for each link in the tree.


\begin{DoxyParams}{Parameters}
\item[{\em \$tree}]The menu tree you wish to operate on. \item[{\em \$node\_\-links}]A collection of node link references generated from \$tree by \hyperlink{group__menu_ga0c9a63fbbdf8496828f1f80d37459475}{menu\_\-tree\_\-collect\_\-node\_\-links()}. \end{DoxyParams}
\hypertarget{group__menu_ga0c9a63fbbdf8496828f1f80d37459475}{
\index{menu@{menu}!menu\_\-tree\_\-collect\_\-node\_\-links@{menu\_\-tree\_\-collect\_\-node\_\-links}}
\index{menu\_\-tree\_\-collect\_\-node\_\-links@{menu\_\-tree\_\-collect\_\-node\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-collect\_\-node\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-collect\_\-node\_\-links (\&\$ {\em tree}, \/  \&\$ {\em node\_\-links})}}
\label{group__menu_ga0c9a63fbbdf8496828f1f80d37459475}
Collects node links from a given menu tree recursively.


\begin{DoxyParams}{Parameters}
\item[{\em \$tree}]The menu tree you wish to collect node links from. \item[{\em \$node\_\-links}]An array in which to store the collected node links. \end{DoxyParams}
\hypertarget{group__menu_ga80a5defa3498d4e60321af746c1104c3}{
\index{menu@{menu}!menu\_\-tree\_\-data@{menu\_\-tree\_\-data}}
\index{menu\_\-tree\_\-data@{menu\_\-tree\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-data (array \$ {\em links}, \/  array \$ {\em parents} = {\ttfamily array()}, \/  \$ {\em depth} = {\ttfamily 1})}}
\label{group__menu_ga80a5defa3498d4e60321af746c1104c3}
Sorts and returns the built data representing a menu tree.


\begin{DoxyParams}{Parameters}
\item[{\em \$links}]A flat array of menu links that are part of the menu. Each array element is an associative array of information about the menu link, containing the fields from the \{menu\_\-links\} table, and optionally additional information from the \{menu\_\-router\} table, if the menu item appears in both tables. This array must be ordered depth-\/first. See \hyperlink{group__menu_ga036009a003a68a01a420737d9c1b30c0}{\_\-menu\_\-build\_\-tree()} for a sample query. \item[{\em \$parents}]An array of the menu link ID values that are in the path from the current page to the root of the menu tree. \item[{\em \$depth}]The minimum depth to include in the returned menu tree.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of menu links in the form of a tree. Each item in the tree is an associative array containing:
\begin{DoxyItemize}
\item link: The menu link item from \$links, with additional element 'in\_\-active\_\-trail' (TRUE if the link ID was in \$parents).
\item below: An array containing the sub-\/tree of this item, where each element is a tree item array with 'link' and 'below' elements. This array will be empty if the menu item has no items in its sub-\/tree having a depth greater than or equal to \$depth. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{group__menu_ga719b18e6d93314528b8726b333f300c0}{
\index{menu@{menu}!menu\_\-tree\_\-get\_\-path@{menu\_\-tree\_\-get\_\-path}}
\index{menu\_\-tree\_\-get\_\-path@{menu\_\-tree\_\-get\_\-path}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-get\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-get\_\-path (\$ {\em menu\_\-name})}}
\label{group__menu_ga719b18e6d93314528b8726b333f300c0}
Gets the path for determining the active trail of the specified menu tree.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The menu name of the requested tree.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A string containing the path. If no path has been specified with \hyperlink{group__menu_gacbb655f92275e3c823637edbd9441cdd}{menu\_\-tree\_\-set\_\-path()}, NULL is returned. 
\end{DoxyReturn}
\hypertarget{group__menu_ga2ef0691992a9df71eb3455ba774053e7}{
\index{menu@{menu}!menu\_\-tree\_\-output@{menu\_\-tree\_\-output}}
\index{menu\_\-tree\_\-output@{menu\_\-tree\_\-output}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-output (\$ {\em tree})}}
\label{group__menu_ga2ef0691992a9df71eb3455ba774053e7}
Returns a rendered menu tree.

The menu item's LI element is given one of the following classes:
\begin{DoxyItemize}
\item expanded: The menu item is showing its submenu.
\item collapsed: The menu item has a submenu which is not shown.
\item leaf: The menu item has no submenu.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em \$tree}]A data structure representing the tree as returned from menu\_\-tree\_\-data.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A structured array to be rendered by \hyperlink{common_8inc_a05798b44e8d6c496d4bee5cc32fa7851}{drupal\_\-render()}. 
\end{DoxyReturn}
\hypertarget{group__menu_ga58b0372b3340be5d070d4ca8bf5a7af8}{
\index{menu@{menu}!menu\_\-tree\_\-page\_\-data@{menu\_\-tree\_\-page\_\-data}}
\index{menu\_\-tree\_\-page\_\-data@{menu\_\-tree\_\-page\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-page\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-page\_\-data (\$ {\em menu\_\-name}, \/  \$ {\em max\_\-depth} = {\ttfamily NULL}, \/  \$ {\em only\_\-active\_\-trail} = {\ttfamily FALSE})}}
\label{group__menu_ga58b0372b3340be5d070d4ca8bf5a7af8}
Gets the data structure for a named menu tree, based on the current page.

The tree order is maintained by storing each parent in an individual field, see \href{http://drupal.org/node/141866}{\tt http://drupal.org/node/141866} for more.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The named menu links to return. \item[{\em \$max\_\-depth}](optional) The maximum depth of links to retrieve. \item[{\em \$only\_\-active\_\-trail}](optional) Whether to only return the links in the active trail (TRUE) instead of all links on every level of the menu link tree (FALSE). Defaults to FALSE. Internally used for breadcrumbs only.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of menu links, in the order they should be rendered. The array is a list of associative arrays -\/-\/ these have two keys, link and below. link is a menu item, ready for theming as a link. Below represents the submenu below the link if there is one, and it is a subtree that has the same structure described for the top-\/level array. 
\end{DoxyReturn}
\hypertarget{group__menu_gacbb655f92275e3c823637edbd9441cdd}{
\index{menu@{menu}!menu\_\-tree\_\-set\_\-path@{menu\_\-tree\_\-set\_\-path}}
\index{menu\_\-tree\_\-set\_\-path@{menu\_\-tree\_\-set\_\-path}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-set\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-set\_\-path (\$ {\em menu\_\-name}, \/  \$ {\em path} = {\ttfamily NULL})}}
\label{group__menu_gacbb655f92275e3c823637edbd9441cdd}
Sets the path for determining the active trail of the specified menu tree.

This path will also affect the breadcrumbs under some circumstances. Breadcrumbs are built using the preferred link returned by \hyperlink{group__menu_gad5fbd7dfd77f1496d636d130a3ff591d}{menu\_\-link\_\-get\_\-preferred()}. If the preferred link is inside one of the menus specified in calls to \hyperlink{group__menu_gacbb655f92275e3c823637edbd9441cdd}{menu\_\-tree\_\-set\_\-path()}, the preferred link will be overridden by the corresponding path returned by \hyperlink{group__menu_ga719b18e6d93314528b8726b333f300c0}{menu\_\-tree\_\-get\_\-path()}.

Setting this path does not affect the main content; for that use \hyperlink{group__menu_gacdd22102c2ba6545645ae34be563d1d4}{menu\_\-set\_\-active\_\-item()} instead.


\begin{DoxyParams}{Parameters}
\item[{\em \$menu\_\-name}]The name of the affected menu tree. \item[{\em \$path}]The path to use when finding the active trail. \end{DoxyParams}
\hypertarget{group__menu_ga3f9fe4d53dc9d9c3724f956f1465b5be}{
\index{menu@{menu}!menu\_\-unserialize@{menu\_\-unserialize}}
\index{menu\_\-unserialize@{menu\_\-unserialize}!menu@{menu}}
\subsubsection[{menu\_\-unserialize}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-unserialize (\$ {\em data}, \/  \$ {\em map})}}
\label{group__menu_ga3f9fe4d53dc9d9c3724f956f1465b5be}
Unserializes menu data, using a map to replace path elements.

The menu system stores various path-\/related information (such as the 'page arguments' and 'access arguments' components of a menu item) in the database using serialized arrays, where integer values in the arrays represent arguments to be replaced by values from the path. This function first unserializes such menu information arrays, and then does the path replacement.

The path replacement acts on each integer-\/valued element of the unserialized menu data array (\$data) using a map array (\$map, which is typically an array of path arguments) as a list of replacements. For instance, if there is an element of \$data whose value is the number 2, then it is replaced in \$data with \$map\mbox{[}2\mbox{]}; non-\/integer values in \$data are left alone.

As an example, an unserialized \$data array with elements ('node\_\-load', 1) represents instructions for calling the \hyperlink{node_8module_a492ddfc12843e71242bb484a44e51a19}{node\_\-load()} function. Specifically, this instruction says to use the path component at index 1 as the input parameter to \hyperlink{node_8module_a492ddfc12843e71242bb484a44e51a19}{node\_\-load()}. If the path is 'node/123', then \$map will be the array ('node', 123), and the returned array from this function will have elements ('node\_\-load', 123), since \$map\mbox{[}1\mbox{]} is 123. This return value will indicate specifically that node\_\-load(123) is to be called to load the node whose ID is 123 for this menu item.


\begin{DoxyParams}{Parameters}
\item[{\em \$data}]A serialized array of menu data, as read from the database. \item[{\em \$map}]A path argument array, used to replace integer values in \$data; an integer value N in \$data will be replaced by value \$map\mbox{[}N\mbox{]}. Typically, the \$map array is generated from a call to the \hyperlink{bootstrap_8inc_afd40bf1dc5dc1f68fb326a8f6e0b88da}{arg()} function.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The unserialized \$data array, with path arguments replaced. 
\end{DoxyReturn}
\hypertarget{group__menu_ga3b3b2907371200b81f18bfaed7538855}{
\index{menu@{menu}!template\_\-preprocess\_\-menu\_\-tree@{template\_\-preprocess\_\-menu\_\-tree}}
\index{template\_\-preprocess\_\-menu\_\-tree@{template\_\-preprocess\_\-menu\_\-tree}!menu@{menu}}
\subsubsection[{template\_\-preprocess\_\-menu\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}template\_\-preprocess\_\-menu\_\-tree (\&\$ {\em variables})}}
\label{group__menu_ga3b3b2907371200b81f18bfaed7538855}
Implements template\_\-preprocess\_\-HOOK() for \hyperlink{group__themeable_ga33100f9d25d899b017bda922086f7358}{theme\_\-menu\_\-tree()}. 