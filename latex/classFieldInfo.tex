\hypertarget{classFieldInfo}{
\section{FieldInfo Class Reference}
\label{classFieldInfo}\index{FieldInfo@{FieldInfo}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFieldInfo_a54c9b362e943aa6d48f600f81bd8a22a}{flush} ()
\item 
\hyperlink{classFieldInfo_a626d055e692aad18ce67e2bc0dfa3b41}{getFieldMap} ()
\item 
\hyperlink{classFieldInfo_a5e817caa8f9c7fae505f9764ee676e0b}{getFields} ()
\item 
\hyperlink{classFieldInfo_af3f374479203c6cafc6ec01655e0df76}{getInstances} (\$entity\_\-type=NULL)
\item 
\hyperlink{classFieldInfo_ae9d200f6f749869b9e1011ac8cf641fa}{getField} (\$field\_\-name)
\item 
\hyperlink{classFieldInfo_a833bcc6b25c50126f5bf7f13d9a2226f}{getFieldById} (\$field\_\-id)
\item 
\hyperlink{classFieldInfo_a86592a2d5a38d0212d1fe66a3d09f279}{getBundleInstances} (\$entity\_\-type, \$bundle)
\item 
\hyperlink{classFieldInfo_a7dac2449d18bf1481651f12e357fc36e}{getBundleExtraFields} (\$entity\_\-type, \$bundle)
\item 
\hyperlink{classFieldInfo_a5fd135e121bf0e42cbb6a44e7a46a656}{prepareField} (\$field)
\item 
\hyperlink{classFieldInfo_a1880ecc9614a0af5d46110a20f799ac7}{prepareInstance} (\$instance, \$field\_\-type)
\item 
\hyperlink{classFieldInfo_a882515272656cf94dee3aa51acd2d21d}{prepareInstanceWidget} (\$widget, \$field\_\-type)
\item 
\hyperlink{classFieldInfo_a79100b16f20d8bc081e4108da2e714b6}{prepareInstanceDisplay} (\$display, \$field\_\-type)
\item 
\hyperlink{classFieldInfo_af1a6d10db6c9fc2d4942108edfd9c31f}{prepareExtraFields} (\$extra\_\-fields, \$entity\_\-type, \$bundle)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classFieldInfo_a2ccab1a416f6becde17bd0b1e57d9e53}{
{\bfseries \$fieldMap}}
\label{classFieldInfo_a2ccab1a416f6becde17bd0b1e57d9e53}

\item 
\hypertarget{classFieldInfo_a506a0d72d0c556a60bc34731a3fcade1}{
{\bfseries \$fieldsById} = array()}
\label{classFieldInfo_a506a0d72d0c556a60bc34731a3fcade1}

\item 
\hypertarget{classFieldInfo_a3c932b00ff53eca87d9fb17092d09ba3}{
{\bfseries \$fieldIdsByName} = array()}
\label{classFieldInfo_a3c932b00ff53eca87d9fb17092d09ba3}

\item 
\hypertarget{classFieldInfo_ac34d3c522e93beb7a34eb373e594333f}{
{\bfseries \$loadedAllFields} = FALSE}
\label{classFieldInfo_ac34d3c522e93beb7a34eb373e594333f}

\item 
\hypertarget{classFieldInfo_a7f038666d298ec9a00f3d11181bdfef6}{
{\bfseries \$unknownFields} = array()}
\label{classFieldInfo_a7f038666d298ec9a00f3d11181bdfef6}

\item 
\hypertarget{classFieldInfo_a807bb867bb45167611adf47f4c501a67}{
{\bfseries \$bundleInstances} = array()}
\label{classFieldInfo_a807bb867bb45167611adf47f4c501a67}

\item 
\hypertarget{classFieldInfo_a0a6d3852cf150bb4c3a1ab30403c2bf1}{
{\bfseries \$loadedAllInstances} = FALSE}
\label{classFieldInfo_a0a6d3852cf150bb4c3a1ab30403c2bf1}

\item 
\hypertarget{classFieldInfo_a65c34a55bbcf6fb5ae44a9b27c376dd0}{
{\bfseries \$emptyBundles} = array()}
\label{classFieldInfo_a65c34a55bbcf6fb5ae44a9b27c376dd0}

\item 
\hypertarget{classFieldInfo_ac0c0c1d0d88a458e7dd9603951f075c4}{
{\bfseries \$bundleExtraFields} = array()}
\label{classFieldInfo_ac0c0c1d0d88a458e7dd9603951f075c4}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Provides field and instance definitions for the current runtime environment.

A \hyperlink{classFieldInfo}{FieldInfo} object is created and statically persisted through the request by the \hyperlink{field_8info_8inc_ac916c03792bed928c8850585fbc0f433}{\_\-field\_\-info\_\-field\_\-cache()} function. The object properties act as a \char`\"{}static cache\char`\"{} of fields and instances definitions.

The preferred way to access definitions is through the \hyperlink{classFieldInfo_a86592a2d5a38d0212d1fe66a3d09f279}{getBundleInstances()} method, which keeps cache entries per bundle, storing both fields and instances for a given bundle. Fields used in multiple bundles are duplicated in several cache entries, and are merged into a single list in the memory cache. Cache entries are loaded for bundles as a whole, optimizing memory and CPU usage for the most common pattern of iterating over all instances of a bundle rather than accessing a single instance.

The \hyperlink{classFieldInfo_a5e817caa8f9c7fae505f9764ee676e0b}{getFields()} and \hyperlink{classFieldInfo_af3f374479203c6cafc6ec01655e0df76}{getInstances()} methods, which return all existing field and instance definitions, are kept mainly for backwards compatibility, and should be avoided when possible, since they load and persist in memory a potentially large array of information. In many cases, the lightweight \hyperlink{classFieldInfo_a626d055e692aad18ce67e2bc0dfa3b41}{getFieldMap()} method should be preferred. 

\subsection{Member Function Documentation}
\hypertarget{classFieldInfo_a54c9b362e943aa6d48f600f81bd8a22a}{
\index{FieldInfo@{FieldInfo}!flush@{flush}}
\index{flush@{flush}!FieldInfo@{FieldInfo}}
\subsubsection[{flush}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::flush ()}}
\label{classFieldInfo_a54c9b362e943aa6d48f600f81bd8a22a}
Clears the \char`\"{}static\char`\"{} and persistent caches. \hypertarget{classFieldInfo_a7dac2449d18bf1481651f12e357fc36e}{
\index{FieldInfo@{FieldInfo}!getBundleExtraFields@{getBundleExtraFields}}
\index{getBundleExtraFields@{getBundleExtraFields}!FieldInfo@{FieldInfo}}
\subsubsection[{getBundleExtraFields}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getBundleExtraFields (\$ {\em entity\_\-type}, \/  \$ {\em bundle})}}
\label{classFieldInfo_a7dac2449d18bf1481651f12e357fc36e}
Retrieves the \char`\"{}extra fields\char`\"{} for a bundle.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The entity type. \item[{\em \$bundle}]The bundle name.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The array of extra fields. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a86592a2d5a38d0212d1fe66a3d09f279}{
\index{FieldInfo@{FieldInfo}!getBundleInstances@{getBundleInstances}}
\index{getBundleInstances@{getBundleInstances}!FieldInfo@{FieldInfo}}
\subsubsection[{getBundleInstances}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getBundleInstances (\$ {\em entity\_\-type}, \/  \$ {\em bundle})}}
\label{classFieldInfo_a86592a2d5a38d0212d1fe66a3d09f279}
Retrieves the instances for a bundle.

The function also populates the corresponding field definitions in the \char`\"{}static\char`\"{} cache.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The entity type. \item[{\em \$bundle}]The bundle name.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The array of instance definitions, keyed by field name. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_ae9d200f6f749869b9e1011ac8cf641fa}{
\index{FieldInfo@{FieldInfo}!getField@{getField}}
\index{getField@{getField}!FieldInfo@{FieldInfo}}
\subsubsection[{getField}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getField (\$ {\em field\_\-name})}}
\label{classFieldInfo_ae9d200f6f749869b9e1011ac8cf641fa}
Returns a field definition from a field name.

This method only retrieves active, non-\/deleted fields.


\begin{DoxyParams}{Parameters}
\item[{\em \$field\_\-name}]The field name.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The field definition, or NULL if no field was found. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a833bcc6b25c50126f5bf7f13d9a2226f}{
\index{FieldInfo@{FieldInfo}!getFieldById@{getFieldById}}
\index{getFieldById@{getFieldById}!FieldInfo@{FieldInfo}}
\subsubsection[{getFieldById}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getFieldById (\$ {\em field\_\-id})}}
\label{classFieldInfo_a833bcc6b25c50126f5bf7f13d9a2226f}
Returns a field definition from a field ID.

This method only retrieves active fields, deleted or not.


\begin{DoxyParams}{Parameters}
\item[{\em \$field\_\-id}]The field ID.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The field definition, or NULL if no field was found. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a626d055e692aad18ce67e2bc0dfa3b41}{
\index{FieldInfo@{FieldInfo}!getFieldMap@{getFieldMap}}
\index{getFieldMap@{getFieldMap}!FieldInfo@{FieldInfo}}
\subsubsection[{getFieldMap}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getFieldMap ()}}
\label{classFieldInfo_a626d055e692aad18ce67e2bc0dfa3b41}
Collects a lightweight map of fields across bundles.

\begin{DoxyReturn}{Returns}
An array keyed by field name. Each value is an array with two entries:
\begin{DoxyItemize}
\item type: The field type.
\item bundles: The bundles in which the field appears, as an array with entity types as keys and the array of bundle names as values. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{classFieldInfo_a5e817caa8f9c7fae505f9764ee676e0b}{
\index{FieldInfo@{FieldInfo}!getFields@{getFields}}
\index{getFields@{getFields}!FieldInfo@{FieldInfo}}
\subsubsection[{getFields}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getFields ()}}
\label{classFieldInfo_a5e817caa8f9c7fae505f9764ee676e0b}
Returns all active fields, including deleted ones.

\begin{DoxyReturn}{Returns}
An array of field definitions, keyed by field ID. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_af3f374479203c6cafc6ec01655e0df76}{
\index{FieldInfo@{FieldInfo}!getInstances@{getInstances}}
\index{getInstances@{getInstances}!FieldInfo@{FieldInfo}}
\subsubsection[{getInstances}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::getInstances (\$ {\em entity\_\-type} = {\ttfamily NULL})}}
\label{classFieldInfo_af3f374479203c6cafc6ec01655e0df76}
Retrieves all active, non-\/deleted instances definitions.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}](optional) The entity type.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If \$entity\_\-type is not set, all instances keyed by entity type and bundle name. If \$entity\_\-type is set, all instances for that entity type, keyed by bundle name. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_af1a6d10db6c9fc2d4942108edfd9c31f}{
\index{FieldInfo@{FieldInfo}!prepareExtraFields@{prepareExtraFields}}
\index{prepareExtraFields@{prepareExtraFields}!FieldInfo@{FieldInfo}}
\subsubsection[{prepareExtraFields}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::prepareExtraFields (\$ {\em extra\_\-fields}, \/  \$ {\em entity\_\-type}, \/  \$ {\em bundle})}}
\label{classFieldInfo_af1a6d10db6c9fc2d4942108edfd9c31f}
Prepares 'extra fields' for the current run-\/time context.


\begin{DoxyParams}{Parameters}
\item[{\em \$extra\_\-fields}]The array of extra fields, as collected in \hyperlink{group__hooks_ga7100332aa5b4d5f6ba72534599d133e5}{hook\_\-field\_\-extra\_\-fields()}. \item[{\em \$entity\_\-type}]The entity type. \item[{\em \$bundle}]The bundle name.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The list of extra fields completed for the current runtime context. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a5fd135e121bf0e42cbb6a44e7a46a656}{
\index{FieldInfo@{FieldInfo}!prepareField@{prepareField}}
\index{prepareField@{prepareField}!FieldInfo@{FieldInfo}}
\subsubsection[{prepareField}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::prepareField (\$ {\em field})}}
\label{classFieldInfo_a5fd135e121bf0e42cbb6a44e7a46a656}
Prepares a field definition for the current run-\/time context.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The raw field structure as read from the database.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The field definition completed for the current runtime context. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a1880ecc9614a0af5d46110a20f799ac7}{
\index{FieldInfo@{FieldInfo}!prepareInstance@{prepareInstance}}
\index{prepareInstance@{prepareInstance}!FieldInfo@{FieldInfo}}
\subsubsection[{prepareInstance}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::prepareInstance (\$ {\em instance}, \/  \$ {\em field\_\-type})}}
\label{classFieldInfo_a1880ecc9614a0af5d46110a20f799ac7}
Prepares an instance definition for the current run-\/time context.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The raw instance structure as read from the database. \item[{\em \$field\_\-type}]The field type.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The field instance array completed for the current runtime context. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a79100b16f20d8bc081e4108da2e714b6}{
\index{FieldInfo@{FieldInfo}!prepareInstanceDisplay@{prepareInstanceDisplay}}
\index{prepareInstanceDisplay@{prepareInstanceDisplay}!FieldInfo@{FieldInfo}}
\subsubsection[{prepareInstanceDisplay}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::prepareInstanceDisplay (\$ {\em display}, \/  \$ {\em field\_\-type})}}
\label{classFieldInfo_a79100b16f20d8bc081e4108da2e714b6}
Adapts display specifications to the current run-\/time context.


\begin{DoxyParams}{Parameters}
\item[{\em \$display}]Display specifications as found in \$instance\mbox{[}'display'\mbox{]}\mbox{[}'a\_\-view\_\-mode'\mbox{]}. \item[{\em \$field\_\-type}]The field type.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The display properties completed for the current runtime context. 
\end{DoxyReturn}
\hypertarget{classFieldInfo_a882515272656cf94dee3aa51acd2d21d}{
\index{FieldInfo@{FieldInfo}!prepareInstanceWidget@{prepareInstanceWidget}}
\index{prepareInstanceWidget@{prepareInstanceWidget}!FieldInfo@{FieldInfo}}
\subsubsection[{prepareInstanceWidget}]{\setlength{\rightskip}{0pt plus 5cm}FieldInfo::prepareInstanceWidget (\$ {\em widget}, \/  \$ {\em field\_\-type})}}
\label{classFieldInfo_a882515272656cf94dee3aa51acd2d21d}
Prepares widget properties for the current run-\/time context.


\begin{DoxyParams}{Parameters}
\item[{\em \$widget}]Widget specifications as found in \$instance\mbox{[}'widget'\mbox{]}. \item[{\em \$field\_\-type}]The field type.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The widget properties completed for the current runtime context. 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
html/modules/field/field.info.class.inc\end{DoxyCompactItemize}
