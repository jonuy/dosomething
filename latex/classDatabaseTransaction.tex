\hypertarget{classDatabaseTransaction}{
\section{DatabaseTransaction Class Reference}
\label{classDatabaseTransaction}\index{DatabaseTransaction@{DatabaseTransaction}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDatabaseTransaction_ac04dd552cd2b3fba44d28716dd158bce}{
{\bfseries \_\-\_\-construct} (\hyperlink{classDatabaseConnection}{DatabaseConnection} \$connection, \$name=NULL)}
\label{classDatabaseTransaction_ac04dd552cd2b3fba44d28716dd158bce}

\item 
\hyperlink{classDatabaseTransaction_ae1a70609e1ea2bb1e3d7e58f7e19e0ed}{name} ()
\item 
\hyperlink{classDatabaseTransaction_a51bdf8ca9423cc331e877dbf43cd6981}{rollback} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDatabaseTransaction_a2dd9c7fc6e8a3cc51ee3b224327d26db}{
{\bfseries \$connection}}
\label{classDatabaseTransaction_a2dd9c7fc6e8a3cc51ee3b224327d26db}

\item 
\hypertarget{classDatabaseTransaction_ab01b1e7c761fae2fbf64a29c5d7ec411}{
{\bfseries \$rolledBack} = FALSE}
\label{classDatabaseTransaction_ab01b1e7c761fae2fbf64a29c5d7ec411}

\item 
\hyperlink{classDatabaseTransaction_a70011229968a0f37f3a2be5ab72d03f6}{\$name}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A wrapper class for creating and managing database transactions.

Not all databases or database configurations support transactions. For example, MySQL MyISAM tables do not. It is also easy to begin a transaction and then forget to commit it, which can lead to connection errors when another transaction is started.

This class acts as a wrapper for transactions. To begin a transaction, simply instantiate it. When the object goes out of scope and is destroyed it will automatically commit. It also will check to see if the specified connection supports transactions. If not, it will simply skip any transaction commands, allowing user-\/space code to proceed normally. The only difference is that rollbacks won't actually do anything.

In the vast majority of cases, you should not instantiate this class directly. Instead, call -\/$>$startTransaction(), from the appropriate connection object. 

\subsection{Member Function Documentation}
\hypertarget{classDatabaseTransaction_ae1a70609e1ea2bb1e3d7e58f7e19e0ed}{
\index{DatabaseTransaction@{DatabaseTransaction}!name@{name}}
\index{name@{name}!DatabaseTransaction@{DatabaseTransaction}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}DatabaseTransaction::name ()}}
\label{classDatabaseTransaction_ae1a70609e1ea2bb1e3d7e58f7e19e0ed}
Retrieves the name of the transaction or savepoint. \hypertarget{classDatabaseTransaction_a51bdf8ca9423cc331e877dbf43cd6981}{
\index{DatabaseTransaction@{DatabaseTransaction}!rollback@{rollback}}
\index{rollback@{rollback}!DatabaseTransaction@{DatabaseTransaction}}
\subsubsection[{rollback}]{\setlength{\rightskip}{0pt plus 5cm}DatabaseTransaction::rollback ()}}
\label{classDatabaseTransaction_a51bdf8ca9423cc331e877dbf43cd6981}
Rolls back the current transaction.

This is just a wrapper method to rollback whatever transaction stack we are currently in, which is managed by the connection object itself. Note that logging (preferable with \hyperlink{bootstrap_8inc_aba38f35647efce6b4099dc59131e216b}{watchdog\_\-exception()}) needs to happen after a transaction has been rolled back or the log messages will be rolled back too.

\begin{DoxySeeAlso}{See also}
\hyperlink{classDatabaseConnection_aef0f8cd6cbfbc304e721baaa14be14cf}{DatabaseConnection::rollback()} 

\hyperlink{bootstrap_8inc_aba38f35647efce6b4099dc59131e216b}{watchdog\_\-exception()} 
\end{DoxySeeAlso}


\subsection{Member Data Documentation}
\hypertarget{classDatabaseTransaction_a70011229968a0f37f3a2be5ab72d03f6}{
\index{DatabaseTransaction@{DatabaseTransaction}!\$name@{\$name}}
\index{\$name@{\$name}!DatabaseTransaction@{DatabaseTransaction}}
\subsubsection[{\$name}]{\setlength{\rightskip}{0pt plus 5cm}DatabaseTransaction::\$name\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classDatabaseTransaction_a70011229968a0f37f3a2be5ab72d03f6}
The name of the transaction.

This is used to label the transaction savepoint. It will be overridden to 'drupal\_\-transaction' if there is no transaction depth. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
html/includes/database/\hyperlink{database_8inc}{database.inc}\end{DoxyCompactItemize}
