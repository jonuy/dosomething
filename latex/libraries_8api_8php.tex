\hypertarget{libraries_8api_8php}{
\section{html/profiles/dosomething/modules/contrib/libraries/libraries.api.php File Reference}
\label{libraries_8api_8php}\index{html/profiles/dosomething/modules/contrib/libraries/libraries.api.php@{html/profiles/dosomething/modules/contrib/libraries/libraries.api.php}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}{hook\_\-libraries\_\-info} ()
\item 
\hyperlink{libraries_8api_8php_a6143e19206c3ddd8b4241306edf201a1}{hook\_\-libraries\_\-info\_\-alter} (\&\$libraries)
\item 
\hyperlink{libraries_8api_8php_ad555eecec1a3347c79dce2ef7d09c24c}{hook\_\-libraries\_\-paths} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Documents API functions for Libraries module. 

\subsection{Function Documentation}
\hypertarget{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}{
\index{libraries.api.php@{libraries.api.php}!hook\_\-libraries\_\-info@{hook\_\-libraries\_\-info}}
\index{hook\_\-libraries\_\-info@{hook\_\-libraries\_\-info}!libraries.api.php@{libraries.api.php}}
\subsubsection[{hook\_\-libraries\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-libraries\_\-info ()}}
\label{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}
Return information about external libraries.

\begin{DoxyReturn}{Returns}
An associative array whose keys are internal names of libraries and whose values are describing each library. Each key is the directory name below the 'libraries' directory, in which the library may be found. Each value is an associative array containing:
\begin{DoxyItemize}
\item name: The official, human-\/readable name of the library.
\item vendor url: The URL of the homepage of the library.
\item download url: The URL of a web page on which the library can be obtained.
\item path: (optional) A relative path from the directory of the library to the actual library. Only required if the extracted download package contains the actual library files in a sub-\/directory.
\item library path: (optional) The absolute path to the library directory. This should not be declared normally, as it is automatically detected, to allow for multiple possible library locations. A valid use-\/case is an external library, in which case the full URL to the library should be specified here.
\item version: (optional) The version of the library. This should not be declared normally, as it is automatically detected (see 'version callback' below) to allow for version changes of libraries without code changes of implementing modules and to support different versions of a library simultaneously (though only one version can be installed per site). A valid use-\/case is an external library whose version cannot be determined programatically.
\item version callback: (optional) The name of a function that detects and returns the full version string of the library. The first argument is always \$library, an array containing all library information as described here. There are two ways to declare the version callback's additional arguments, either as a single \$options parameter or as multiple parameters, which correspond to the two ways to specify the argument values (see 'version arguments'). Defaults to \hyperlink{libraries_8module_a75db4e86addc3ceb4df8d0e1f5a54f99}{libraries\_\-get\_\-version()}.
\item version arguments: A list of arguments to pass to the version callback. Version arguments can be declared either as an associative array whose keys are the argument names or as an indexed array without specifying keys. If declared as an associative array, the arguments get passed to the version callback as a single \$options parameter whose keys are the argument names (i.e. \$options is identical to the specified array). If declared as an indexed array, the array values get passed to the version callback as seperate arguments in the order they were declared. The default version callback \hyperlink{libraries_8module_a75db4e86addc3ceb4df8d0e1f5a54f99}{libraries\_\-get\_\-version()} expects a single, associative array with named keys:
\begin{DoxyItemize}
\item file: The filename to parse for the version, relative to the library path. For example: 'docs/changelog.txt'.
\item pattern: A string containing a regular expression (PCRE) to match the library version. For example: '
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
+(\mbox{[}0-\/9a-\/zA-\/Z$\backslash$.-\/\mbox{]}+)@'. Note that the returned version is not the match of the entire pattern (i.e. '

1.2.3' in the above example) but the match of the first sub-\/pattern (i.e. '1.2.3' in the above example).
\begin{DoxyItemize}
\item lines: (optional) The maximum number of lines to search the pattern in. Defaults to 20.
\item cols: (optional) The maximum number of characters per line to take into account. Defaults to 200. In case of minified or compressed files, this prevents reading the entire file into memory.
\end{DoxyItemize}
\end{DoxyVersion}

\begin{DoxyItemize}
\item files: An associative array of library files to load. Supported keys are:
\begin{DoxyItemize}
\item js: A list of JavaScript files to load, using the same syntax as Drupal core's hook\_\-library().
\item css: A list of CSS files to load, using the same syntax as Drupal core's hook\_\-library().
\item php: A list of PHP files to load.
\end{DoxyItemize}
\item dependencies: An array of libraries this library depends on. Similar to declaring module dependencies, the dependency declaration may contain information on the supported version. Examples of supported declarations: 
\begin{DoxyCode}
     $libraries['dependencies'] = array(
       // Load the 'example' library, regardless of the version available:
       'example',
       // Only load the 'example' library, if version 1.2 is available:
       'example (1.2)',
       // Only load a version later than 1.3-beta2 of the 'example' library:
       'example (>1.3-beta2)'
       // Only load a version equal to or later than 1.3-beta3:
       'example (>=1.3-beta3)',
       // Only load a version earlier than 1.5:
       'example (<1.5)',
       // Only load a version equal to or earlier than 1.4:
       'example (<=1.4)',
       // Combinations of the above are allowed as well:
       'example (>=1.3-beta2, <1.5)',
     );
\end{DoxyCode}

\item variants: (optional) An associative array of available library variants. For example, the top-\/level 'files' property may refer to a default variant that is compressed. If the library also ships with a minified and uncompressed/source variant, those can be defined here. Each key should describe the variant type, e.g. 'minified' or 'source'. Each value is an associative array of top-\/level properties that are entirely overridden by the variant, most often just 'files'. Additionally, each variant can contain following properties:
\begin{DoxyItemize}
\item variant callback: (optional) The name of a function that detects the variant and returns TRUE or FALSE, depending on whether the variant is available or not. The first argument is always \$library, an array containing all library information as described here. The second argument is always a string containing the variant name. There are two ways to declare the variant callback's additinal arguments, either as a single \$options parameter or as multiple parameters, which correspond to the two ways to specify the argument values (see 'variant arguments'). If ommitted, the variant is expected to always be available.
\item variant arguments: A list of arguments to pass to the variant callback. Variant arguments can be declared either as an associative array whose keys are the argument names or as an indexed array without specifying keys. If declared as an associative array, the arguments get passed to the variant callback as a single \$options parameter whose keys are the argument names (i.e. \$options is identical to the specified array). If declared as an indexed array, the array values get passed to the variant callback as seperate arguments in the order they were declared. Variants can be version-\/specific (see 'versions').
\end{DoxyItemize}
\item versions: (optional) An associative array of supported library versions. Naturally, libraries evolve over time and so do their APIs. In case a library changes between versions, different 'files' may need to be loaded, different 'variants' may become available, or Drupal modules need to load different integration files adapted to the new version. Each key is a version $\ast$string$\ast$ (PHP does not support floats as keys). Each value is an associative array of top-\/level properties that are entirely overridden by the version.
\item integration files: (optional) An associative array whose keys are module names and whose values are sets of files to load for the module, using the same notion as the top-\/level 'files' property. Each specified file should contain the path to the file relative to the module it belongs to.
\item callbacks: An associative array whose keys are callback groups and whose values are arrays of callbacks to apply to the library in that group. Each callback receives the following arguments:
\begin{DoxyItemize}
\item \$library: An array of library information belonging to the top-\/level library, a specific version, a specific variant or a specific variant of a specific version. Because library information such as the 'files' property (see above) can be declared in all these different locations of the library array, but a callback may have to act on all these different parts of the library, it is called recursively for each library with a certain part of the libraries array passed as \$library each time.
\item version}
If the library array belongs to a certain version (see above), a string containing the version. This argument may be empty, so NULL should be specified as the default value.
\item variant}
If the library array belongs to a certain variant (see above), a string containing the variant name. This argument may be empty, so NULL should be specified as the default value. Valid callback groups are:
\item info: Callbacks registered in this group are applied after the library information has been retrieved via \hyperlink{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}{hook\_\-libraries\_\-info()} or info files.
\item pre-\/detect: Callbacks registered in this group are applied after the library path has been determined and before the version callback is invoked. At this point the following additional information is available:
\begin{DoxyItemize}
\item \$library\mbox{[}'library path'\mbox{]}: The path on the file system to the library.
\end{DoxyItemize}
\item post-\/detect: Callbacks registered in this group are applied after the library has been successfully detected. At this point the library contains the version-\/specific information, if specified, and following additional information is available:
\begin{DoxyItemize}
\item \$library\mbox{[}'installed'\mbox{]}: A boolean indicating whether the library is installed or not.
\item \$library\mbox{[}'version'\mbox{]}: If it could be detected, a string containing the version of the library.
\item \$library\mbox{[}'variants'\mbox{]}\mbox{[}\$variant\mbox{]}\mbox{[}'installed'\mbox{]}: For each specified variant, a boolean indicating whether the variant is installed or not. Note that in this group the 'versions' property is no longer available.
\end{DoxyItemize}
\item pre-\/dependencies-\/load: Callbacks registered in this group are applied directly before the library's dependencies are loaded. At this point the library contains variant-\/specific information, if specified. Note that in this group the 'variants' property is no longer available.
\item pre-\/load: Callbacks registered in this group are applied directly after the library's dependencies are loaded and before the library itself is loaded.
\item post-\/load: Callbacks registered in this group are applied directly after this library is loaded. At this point, the library contains a 'loaded' key, which contains the number of files that were loaded. Additional top-\/level properties can be registered as needed.
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
hook\_\-library() 
\end{DoxySeeAlso}
\hypertarget{libraries_8api_8php_a6143e19206c3ddd8b4241306edf201a1}{
\index{libraries.api.php@{libraries.api.php}!hook\_\-libraries\_\-info\_\-alter@{hook\_\-libraries\_\-info\_\-alter}}
\index{hook\_\-libraries\_\-info\_\-alter@{hook\_\-libraries\_\-info\_\-alter}!libraries.api.php@{libraries.api.php}}
\subsubsection[{hook\_\-libraries\_\-info\_\-alter}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-libraries\_\-info\_\-alter (\&\$ {\em libraries})}}
\label{libraries_8api_8php_a6143e19206c3ddd8b4241306edf201a1}
Alter the library information before detection and caching takes place.

The library definitions are passed by reference. A common use-\/case is adding a module's integration files to the library array, so that the files are loaded whenever the library is. As noted above, it is important to declare integration files inside of an array, whose key is the module name.

\begin{DoxySeeAlso}{See also}
\hyperlink{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}{hook\_\-libraries\_\-info()} 
\end{DoxySeeAlso}
\hypertarget{libraries_8api_8php_ad555eecec1a3347c79dce2ef7d09c24c}{
\index{libraries.api.php@{libraries.api.php}!hook\_\-libraries\_\-paths@{hook\_\-libraries\_\-paths}}
\index{hook\_\-libraries\_\-paths@{hook\_\-libraries\_\-paths}!libraries.api.php@{libraries.api.php}}
\subsubsection[{hook\_\-libraries\_\-paths}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-libraries\_\-paths ()}}
\label{libraries_8api_8php_ad555eecec1a3347c79dce2ef7d09c24c}
Specify paths to look for library info files.

Libraries API looks in the following directories for library info files by default:
\begin{DoxyItemize}
\item libraries
\item profiles/\$profile/libraries
\item sites/all/libraries
\item sites/\$site/libraries This hook allows you to specify additional locations to look for library info files. This should only be used for modules that declare many libraries. Modules that only implement a few libraries should implement \hyperlink{libraries_8api_8php_abe57a1a01f1d2d134a9014258fe9e016}{hook\_\-libraries\_\-info()}.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
An array of paths. 
\end{DoxyReturn}
