\hypertarget{mailsystem_8module}{
\section{html/profiles/dosomething/modules/contrib/mailsystem/mailsystem.module File Reference}
\label{mailsystem_8module}\index{html/profiles/dosomething/modules/contrib/mailsystem/mailsystem.module@{html/profiles/dosomething/modules/contrib/mailsystem/mailsystem.module}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{mailsystem_8module_afbcc929c2d7814467338374507f0688f}{mailsystem\_\-init} ()
\item 
\hyperlink{mailsystem_8module_a661f773ba0f39c8574a74280c979660f}{mailsystem\_\-permission} ()
\item 
\hyperlink{mailsystem_8module_a5540af016c9247e7f9505ebcb1a8883b}{mailsystem\_\-menu} ()
\item 
\hyperlink{mailsystem_8module_a6dc2bc890196d513049110b752b33cb5}{mailsystem\_\-default\_\-id} ()
\item 
\hyperlink{mailsystem_8module_ac6dcd069efd821e73a67945b2f18e525}{mailsystem\_\-default\_\-value} ()
\item 
\hyperlink{mailsystem_8module_a167ec538a63c35ea94941d5413ad18eb}{mailsystem\_\-defaults} ()
\item 
\hyperlink{mailsystem_8module_af474b2a7b012502b3899c3e6c6780e92}{mailsystem\_\-get} ()
\item 
\hyperlink{mailsystem_8module_a550d9fb0b029f862fbfdfc31670ca4da}{mailsystem\_\-default\_\-methods} ()
\item 
\hyperlink{mailsystem_8module_ab195299394dfae7d0d164998d261ed36}{mailsystem\_\-create\_\-class} (\$classes)
\item 
\hyperlink{mailsystem_8module_a2b62d67e268ecc0f8302ac7043d71927}{mailsystem\_\-set} (array \$setting)
\item 
\hyperlink{mailsystem_8module_ad8ad240cc7b72d29e1dad8cba00f85b0}{mailsystem\_\-clear} (array \$setting)
\item 
\& \hyperlink{mailsystem_8module_aa0df7ed89cbad0a84bc5da2b5d8f551a}{mailsystem\_\-get\_\-classes} ()
\item 
\hyperlink{mailsystem_8module_a07a179ae1d27c3fe2e0722316e6088e4}{mailsystem\_\-theme\_\-registry\_\-alter} (\&\$theme\_\-registry)
\item 
\hyperlink{mailsystem_8module_af55c024d345c05de91cddc64ca83b7f7}{mailsystem\_\-get\_\-mail\_\-theme} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Provide UI for controlling the mail\_\-system variable. 

\subsection{Function Documentation}
\hypertarget{mailsystem_8module_ad8ad240cc7b72d29e1dad8cba00f85b0}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-clear@{mailsystem\_\-clear}}
\index{mailsystem\_\-clear@{mailsystem\_\-clear}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-clear}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-clear (array \$ {\em setting})}}
\label{mailsystem_8module_ad8ad240cc7b72d29e1dad8cba00f85b0}
Helps other modules safely remove their settings from mail\_\-system. This function should be called from the other module's \hyperlink{group__hooks_ga5872573d2180aa4b306e7d6c08a74c10}{hook\_\-disable()} function.


\begin{DoxyParams}{Parameters}
\item[{\em \$setting}]An associative array (\$module =$>$ \$classname) describing a module and associated \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} class that are being disabled.
\begin{DoxyItemize}
\item \$module is the machine-\/readable module name.
\item \$classname is a class that implements \hyperlink{interfaceMailSystemInterface}{MailSystemInterface}.
\end{DoxyItemize}\end{DoxyParams}
If \$classname is empty, only the \$module entry is removed.


\begin{DoxyParams}{Parameters}
\item[{\em \$class}]The name of the class to be removed, if any. \end{DoxyParams}
\hypertarget{mailsystem_8module_ab195299394dfae7d0d164998d261ed36}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-create\_\-class@{mailsystem\_\-create\_\-class}}
\index{mailsystem\_\-create\_\-class@{mailsystem\_\-create\_\-class}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-create\_\-class}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-create\_\-class (\$ {\em classes})}}
\label{mailsystem_8module_ab195299394dfae7d0d164998d261ed36}
Creates and registers a new \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} class.

The newly-\/created class gets its name and each of its class methods from the other classes specified by the \$class parameter.


\begin{DoxyParams}{Parameters}
\item[{\em \$class}]An associative array of (\$method\_\-name =$>$ \$class\_\-name) tuples, where each \$method\_\-name is the name of a class method to be created, and each \$class\_\-name is the name of a class to use for that method.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The name of the newly-\/created class if successful; otherwise FALSE. 
\end{DoxyReturn}
\hypertarget{mailsystem_8module_a6dc2bc890196d513049110b752b33cb5}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-default\_\-id@{mailsystem\_\-default\_\-id}}
\index{mailsystem\_\-default\_\-id@{mailsystem\_\-default\_\-id}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-default\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-default\_\-id ()}}
\label{mailsystem_8module_a6dc2bc890196d513049110b752b33cb5}
Returns the id for the default mail\_\-system setting. \hypertarget{mailsystem_8module_a550d9fb0b029f862fbfdfc31670ca4da}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-default\_\-methods@{mailsystem\_\-default\_\-methods}}
\index{mailsystem\_\-default\_\-methods@{mailsystem\_\-default\_\-methods}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-default\_\-methods}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-default\_\-methods ()}}
\label{mailsystem_8module_a550d9fb0b029f862fbfdfc31670ca4da}
Returns the default list of \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} methods.

\begin{DoxyReturn}{Returns}
An array whose keys are the names of the methods defined by \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} and whose values are the default class used to provide that method. 
\end{DoxyReturn}
\hypertarget{mailsystem_8module_ac6dcd069efd821e73a67945b2f18e525}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-default\_\-value@{mailsystem\_\-default\_\-value}}
\index{mailsystem\_\-default\_\-value@{mailsystem\_\-default\_\-value}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-default\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-default\_\-value ()}}
\label{mailsystem_8module_ac6dcd069efd821e73a67945b2f18e525}
Returns the value for the default mail\_\-system setting. \hypertarget{mailsystem_8module_a167ec538a63c35ea94941d5413ad18eb}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-defaults@{mailsystem\_\-defaults}}
\index{mailsystem\_\-defaults@{mailsystem\_\-defaults}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-defaults}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-defaults ()}}
\label{mailsystem_8module_a167ec538a63c35ea94941d5413ad18eb}
Returns the default settings for the mail\_\-system variable. \hypertarget{mailsystem_8module_af474b2a7b012502b3899c3e6c6780e92}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-get@{mailsystem\_\-get}}
\index{mailsystem\_\-get@{mailsystem\_\-get}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-get ()}}
\label{mailsystem_8module_af474b2a7b012502b3899c3e6c6780e92}
Returns the current mail\_\-system settings.

\begin{DoxyReturn}{Returns}
The contents of the mail\_\-system variable merged with its defaults. 
\end{DoxyReturn}
\hypertarget{mailsystem_8module_aa0df7ed89cbad0a84bc5da2b5d8f551a}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-get\_\-classes@{mailsystem\_\-get\_\-classes}}
\index{mailsystem\_\-get\_\-classes@{mailsystem\_\-get\_\-classes}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-get\_\-classes}]{\setlength{\rightskip}{0pt plus 5cm}\& mailsystem\_\-get\_\-classes ()}}
\label{mailsystem_8module_aa0df7ed89cbad0a84bc5da2b5d8f551a}
Returns a list of classes which implement \hyperlink{interfaceMailSystemInterface}{MailSystemInterface}. \hypertarget{mailsystem_8module_af55c024d345c05de91cddc64ca83b7f7}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-get\_\-mail\_\-theme@{mailsystem\_\-get\_\-mail\_\-theme}}
\index{mailsystem\_\-get\_\-mail\_\-theme@{mailsystem\_\-get\_\-mail\_\-theme}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-get\_\-mail\_\-theme}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-get\_\-mail\_\-theme ()}}
\label{mailsystem_8module_af55c024d345c05de91cddc64ca83b7f7}
Retrieves the key of the theme used to render the emails.

\begin{Desc}
\item[\hyperlink{todo__todo000067}{Todo}]Add some kind of hook to let other modules alter this behavior. \end{Desc}
\hypertarget{mailsystem_8module_afbcc929c2d7814467338374507f0688f}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-init@{mailsystem\_\-init}}
\index{mailsystem\_\-init@{mailsystem\_\-init}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-init ()}}
\label{mailsystem_8module_afbcc929c2d7814467338374507f0688f}
Implements \hyperlink{group__hooks_ga74edef0c463436fdbb1f92ef367db051}{hook\_\-init()}.

Caches the list of \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} classes, and removes classes from the mail\_\-system variable which are no longer available.

\begin{DoxySeeAlso}{See also}
\hyperlink{mailsystem_8module_aa0df7ed89cbad0a84bc5da2b5d8f551a}{mailsystem\_\-get\_\-classes()} 
\end{DoxySeeAlso}
\hypertarget{mailsystem_8module_a5540af016c9247e7f9505ebcb1a8883b}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-menu@{mailsystem\_\-menu}}
\index{mailsystem\_\-menu@{mailsystem\_\-menu}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-menu}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-menu ()}}
\label{mailsystem_8module_a5540af016c9247e7f9505ebcb1a8883b}
Implements \hyperlink{group__hooks_ga5c95244fea59b25666e409759e133ded}{hook\_\-menu()}. \hypertarget{mailsystem_8module_a661f773ba0f39c8574a74280c979660f}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-permission@{mailsystem\_\-permission}}
\index{mailsystem\_\-permission@{mailsystem\_\-permission}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-permission}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-permission ()}}
\label{mailsystem_8module_a661f773ba0f39c8574a74280c979660f}
Implements \hyperlink{group__hooks_ga2b22b45f4925f2478412477bae329713}{hook\_\-permission()}.

Defines a permission for managing the mail\_\-system variable. \hypertarget{mailsystem_8module_a2b62d67e268ecc0f8302ac7043d71927}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-set@{mailsystem\_\-set}}
\index{mailsystem\_\-set@{mailsystem\_\-set}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-set (array \$ {\em setting})}}
\label{mailsystem_8module_a2b62d67e268ecc0f8302ac7043d71927}
Helps other modules safely set their own key within mail\_\-system. This function should be called from \hyperlink{group__hooks_gaedcfb58c08d5c5f8ffcd1059ceeb39e4}{hook\_\-enable()} implementations.


\begin{DoxyParams}{Parameters}
\item[{\em \$setting}]An associative array (\$id =$>$ \$value) where:
\begin{DoxyItemize}
\item \$id is the machine-\/readable module name optionally followed by '\_\-' and a key.
\item \$value is one of
\begin{DoxyItemize}
\item (string) The name of a class that implements \hyperlink{interfaceMailSystemInterface}{MailSystemInterface}.
\item (array) An associative array whose keys are the names of methods defined by \hyperlink{interfaceMailSystemInterface}{MailSystemInterface} and whose values are the names of the class to use for that method.
\end{DoxyItemize}
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{mail_8inc_ab80781fd7273975a77cbbd13300eddbf}{drupal\_\-mail()}, \hyperlink{mailsystem_8module_a550d9fb0b029f862fbfdfc31670ca4da}{mailsystem\_\-default\_\-methods()} 
\end{DoxySeeAlso}
\hypertarget{mailsystem_8module_a07a179ae1d27c3fe2e0722316e6088e4}{
\index{mailsystem.module@{mailsystem.module}!mailsystem\_\-theme\_\-registry\_\-alter@{mailsystem\_\-theme\_\-registry\_\-alter}}
\index{mailsystem\_\-theme\_\-registry\_\-alter@{mailsystem\_\-theme\_\-registry\_\-alter}!mailsystem.module@{mailsystem.module}}
\subsubsection[{mailsystem\_\-theme\_\-registry\_\-alter}]{\setlength{\rightskip}{0pt plus 5cm}mailsystem\_\-theme\_\-registry\_\-alter (\&\$ {\em theme\_\-registry})}}
\label{mailsystem_8module_a07a179ae1d27c3fe2e0722316e6088e4}
Implements \hyperlink{group__hooks_gadd6cabb9ce825efccefb4918321932a5}{hook\_\-theme\_\-registry\_\-alter()}. 