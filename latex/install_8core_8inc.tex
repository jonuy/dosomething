\hypertarget{install_8core_8inc}{
\section{html/includes/install.core.inc File Reference}
\label{install_8core_8inc}\index{html/includes/install.core.inc@{html/includes/install.core.inc}}
}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{install_8core_8inc_a52d485a9e7b74dd6b159ee8569f44c1a}{INSTALL\_\-TASK\_\-SKIP} 
\item 
enum \hyperlink{install_8core_8inc_a5a0aee9d902a6b08a0b74a873d60c125}{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED} 
\item 
enum \hyperlink{install_8core_8inc_a66ef8f31ae036a8f204f18b60b88954e}{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{install_8core_8inc_ae451893f8ee7ea51f1467cec82a51fad}{install\_\-drupal} (\$settings=array())
\item 
\hyperlink{install_8core_8inc_ab52bef71652d133045e4182da84a33b8}{install\_\-state\_\-defaults} ()
\item 
\hyperlink{install_8core_8inc_a4c7572aea2e36952bbd5e73e22eb66f8}{install\_\-begin\_\-request} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a8ea31b06c1d5a973906d0e9b5cfa946e}{install\_\-run\_\-tasks} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_aed4e27f03b3779541b3ea5b00506f410}{install\_\-run\_\-task} (\$task, \&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a02b255f3c91fa330972d77e41c0b26c4}{install\_\-tasks\_\-to\_\-perform} (\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a243570ad640fab913f1c14cc750d3194}{install\_\-tasks} (\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_ab265ac63af5ca0c96ab6278be25e6776}{install\_\-tasks\_\-to\_\-display} (\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a6653d055f5af1ec01fa9769b41f747b5}{install\_\-redirect\_\-url} (\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a562ee3011859e71bb87c068340ce6dc6}{install\_\-full\_\-redirect\_\-url} (\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_aadf48482ac0487e79f48b346dc550806}{install\_\-display\_\-output} (\$output, \$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a6cd2658e0f95bd0d5ce8942aa5884124}{install\_\-verify\_\-requirements} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a8aa087a6aedfb74d1ad361f2269dbd06}{install\_\-system\_\-module} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a0c550ddc08ed7884ffdfc444c85d4a3a}{install\_\-verify\_\-completed\_\-task} ()
\item 
\hyperlink{install_8core_8inc_ab9be391a3ce3d42b0a75b2abe95b5232}{install\_\-verify\_\-settings} ()
\item 
\hyperlink{install_8core_8inc_a05cc52656e3a172f087a5043eb00087a}{install\_\-verify\_\-pdo} ()
\item 
\hyperlink{group__forms_ga4fe8554aa15e5b0b78a15400c2d37d28}{install\_\-settings\_\-form} (\$form, \&\$form\_\-state, \&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a81a30e13b22aa1ad8b0fa4b8f2f07c82}{install\_\-settings\_\-form\_\-validate} (\$form, \&\$form\_\-state)
\item 
\hyperlink{install_8core_8inc_a695213046db5d896caef10f82da54b87}{install\_\-database\_\-errors} (\$database, \$settings\_\-file)
\item 
\hyperlink{install_8core_8inc_abe061599cf0c6252388fc93366ebae27}{install\_\-settings\_\-form\_\-submit} (\$form, \&\$form\_\-state)
\item 
\hyperlink{install_8core_8inc_a0b98c0d4c34d20f6334cc0f609c65ac8}{install\_\-find\_\-profiles} ()
\item 
\hyperlink{install_8core_8inc_a4fdd2e2671bc0dd16717b898a7e25cbc}{install\_\-select\_\-profile} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a50f553802d50cc291614aa584c6960b1}{\_\-install\_\-select\_\-profile} (\$profiles)
\item 
\hyperlink{group__forms_ga1ead61881194a861349f2c1c1e508752}{install\_\-select\_\-profile\_\-form} (\$form, \&\$form\_\-state, \$profile\_\-files)
\item 
\hyperlink{install_8core_8inc_a2a4848ecf0e42d2782a9b58857e6476b}{install\_\-find\_\-locales} (\$profilename)
\item 
\hyperlink{install_8core_8inc_accf7b9346a3fc1ac88bb8787addc41f5}{install\_\-select\_\-locale} (\&\$install\_\-state)
\item 
\hyperlink{group__forms_ga7c540506932fb00783972b742787ddeb}{install\_\-select\_\-locale\_\-form} (\$form, \&\$form\_\-state, \$locales, \$profilename)
\item 
\hyperlink{install_8core_8inc_a78dd97fe8667cff59641b2adc55436cf}{install\_\-no\_\-profile\_\-error} ()
\item 
\hyperlink{install_8core_8inc_a6469cc717a3ac52eece0537630addea4}{install\_\-already\_\-done\_\-error} ()
\item 
\hyperlink{install_8core_8inc_a8ef7587c3c0812d35629396360b3797e}{install\_\-load\_\-profile} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_ad5fe84024130a1d93d0238d0c3d2cfb5}{install\_\-bootstrap\_\-full} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_ab10e46f9de8a36a5f53c209781d24528}{install\_\-profile\_\-modules} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a8736de2cc75cff24bc4b070668526dde}{install\_\-import\_\-locales} (\&\$install\_\-state)
\item 
\hyperlink{group__forms_ga38e5d79d667dbc48f40ca4238d6d161b}{install\_\-configure\_\-form} (\$form, \&\$form\_\-state, \&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a6a48bc00f0f8e3026dd09286f93b46aa}{install\_\-import\_\-locales\_\-remaining} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_abd023c5f3e8348d02d2667ed5648a0fb}{install\_\-finished} (\&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_aa0dfff943ef80d5bfad2f0be5c4cff19}{\_\-install\_\-module\_\-batch} (\$module, \$module\_\-name, \&\$context)
\item 
\hyperlink{install_8core_8inc_aa345da0dac456ba24a1551a9ce3ce4dc}{\_\-install\_\-profile\_\-modules\_\-finished} (\$success, \$results, \$operations)
\item 
\hyperlink{install_8core_8inc_ae9175b59627ec291ef76fd241f74f33e}{install\_\-check\_\-requirements} (\$install\_\-state)
\item 
\hyperlink{group__forms_ga21b381d33cf055bce4286d99dafad24b}{\_\-install\_\-configure\_\-form} (\$form, \&\$form\_\-state, \&\$install\_\-state)
\item 
\hyperlink{install_8core_8inc_a6b3794048999c91eed0b6a7633a8e8f3}{install\_\-configure\_\-form\_\-validate} (\$form, \&\$form\_\-state)
\item 
\hyperlink{install_8core_8inc_ac4774b453669916d9ffbb619b4bf9717}{install\_\-configure\_\-form\_\-submit} (\$form, \&\$form\_\-state)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
API functions for installing Drupal. 

\subsection{Enumeration Type Documentation}
\hypertarget{install_8core_8inc_a66ef8f31ae036a8f204f18b60b88954e}{
\index{install.core.inc@{install.core.inc}!INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED@{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED}}
\index{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED@{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED}!install.core.inc@{install.core.inc}}
\subsubsection[{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf INSTALL\_\-TASK\_\-RUN\_\-IF\_\-NOT\_\-COMPLETED}}}
\label{install_8core_8inc_a66ef8f31ae036a8f204f18b60b88954e}
Global flag to indicate that a task should be run on each installation request that reaches it, until the database is set up and we are able to record the fact that it already ran.

This is the default method for running tasks and should be used for most tasks that occur after the database is set up; these tasks will then run once and be marked complete once they are successfully finished. For example, the Drupal installer uses this flag for the batch installation of modules on the new site, and also for the configuration form that collects basic site information and sets up the site maintenance account. \hypertarget{install_8core_8inc_a5a0aee9d902a6b08a0b74a873d60c125}{
\index{install.core.inc@{install.core.inc}!INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED@{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED}}
\index{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED@{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED}!install.core.inc@{install.core.inc}}
\subsubsection[{INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf INSTALL\_\-TASK\_\-RUN\_\-IF\_\-REACHED}}}
\label{install_8core_8inc_a5a0aee9d902a6b08a0b74a873d60c125}
Run the task on each installation request until the database is set up.

This is primarily used by the Drupal installer for bootstrap-\/related tasks. \hypertarget{install_8core_8inc_a52d485a9e7b74dd6b159ee8569f44c1a}{
\index{install.core.inc@{install.core.inc}!INSTALL\_\-TASK\_\-SKIP@{INSTALL\_\-TASK\_\-SKIP}}
\index{INSTALL\_\-TASK\_\-SKIP@{INSTALL\_\-TASK\_\-SKIP}!install.core.inc@{install.core.inc}}
\subsubsection[{INSTALL\_\-TASK\_\-SKIP}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf INSTALL\_\-TASK\_\-SKIP}}}
\label{install_8core_8inc_a52d485a9e7b74dd6b159ee8569f44c1a}
Do not run the task during the current installation request.

This can be used to skip running an installation task when certain conditions are met, even though the task may still show on the list of installation tasks presented to the user. For example, the Drupal installer uses this flag to skip over the database configuration form when valid database connection information is already available from \hyperlink{settings_8php}{settings.php}. It also uses this flag to skip language import tasks when the installation is being performed in English. 

\subsection{Function Documentation}
\hypertarget{install_8core_8inc_aa0dfff943ef80d5bfad2f0be5c4cff19}{
\index{install.core.inc@{install.core.inc}!\_\-install\_\-module\_\-batch@{\_\-install\_\-module\_\-batch}}
\index{\_\-install\_\-module\_\-batch@{\_\-install\_\-module\_\-batch}!install.core.inc@{install.core.inc}}
\subsubsection[{\_\-install\_\-module\_\-batch}]{\setlength{\rightskip}{0pt plus 5cm}\_\-install\_\-module\_\-batch (\$ {\em module}, \/  \$ {\em module\_\-name}, \/  \&\$ {\em context})}}
\label{install_8core_8inc_aa0dfff943ef80d5bfad2f0be5c4cff19}
Batch callback for batch installation of modules. \hypertarget{install_8core_8inc_aa345da0dac456ba24a1551a9ce3ce4dc}{
\index{install.core.inc@{install.core.inc}!\_\-install\_\-profile\_\-modules\_\-finished@{\_\-install\_\-profile\_\-modules\_\-finished}}
\index{\_\-install\_\-profile\_\-modules\_\-finished@{\_\-install\_\-profile\_\-modules\_\-finished}!install.core.inc@{install.core.inc}}
\subsubsection[{\_\-install\_\-profile\_\-modules\_\-finished}]{\setlength{\rightskip}{0pt plus 5cm}\_\-install\_\-profile\_\-modules\_\-finished (\$ {\em success}, \/  \$ {\em results}, \/  \$ {\em operations})}}
\label{install_8core_8inc_aa345da0dac456ba24a1551a9ce3ce4dc}
'Finished' callback for module installation batch. \hypertarget{install_8core_8inc_a50f553802d50cc291614aa584c6960b1}{
\index{install.core.inc@{install.core.inc}!\_\-install\_\-select\_\-profile@{\_\-install\_\-select\_\-profile}}
\index{\_\-install\_\-select\_\-profile@{\_\-install\_\-select\_\-profile}!install.core.inc@{install.core.inc}}
\subsubsection[{\_\-install\_\-select\_\-profile}]{\setlength{\rightskip}{0pt plus 5cm}\_\-install\_\-select\_\-profile (\$ {\em profiles})}}
\label{install_8core_8inc_a50f553802d50cc291614aa584c6960b1}
Selects an installation profile.

A profile will be selected if:
\begin{DoxyItemize}
\item Only one profile is available,
\item A profile was submitted through \$\_\-POST,
\item Exactly one of the profiles is marked as \char`\"{}exclusive\char`\"{}. If multiple profiles are marked as \char`\"{}exclusive\char`\"{} then no profile will be selected.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$profiles An associative array of profiles with the machine-\/readable names as keys.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The machine-\/readable name of the selected profile or NULL if no profile was selected. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a6469cc717a3ac52eece0537630addea4}{
\index{install.core.inc@{install.core.inc}!install\_\-already\_\-done\_\-error@{install\_\-already\_\-done\_\-error}}
\index{install\_\-already\_\-done\_\-error@{install\_\-already\_\-done\_\-error}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-already\_\-done\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-already\_\-done\_\-error ()}}
\label{install_8core_8inc_a6469cc717a3ac52eece0537630addea4}
Indicates that Drupal has already been installed. \hypertarget{install_8core_8inc_a4c7572aea2e36952bbd5e73e22eb66f8}{
\index{install.core.inc@{install.core.inc}!install\_\-begin\_\-request@{install\_\-begin\_\-request}}
\index{install\_\-begin\_\-request@{install\_\-begin\_\-request}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-begin\_\-request}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-begin\_\-request (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a4c7572aea2e36952bbd5e73e22eb66f8}
Begins an installation request, modifying the installation state as needed.

This function performs commands that must run at the beginning of every page request. It throws an exception if the installation should not proceed.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. This is modified with information gleaned from the beginning of the page request. \end{DoxyParams}
\hypertarget{install_8core_8inc_ad5fe84024130a1d93d0238d0c3d2cfb5}{
\index{install.core.inc@{install.core.inc}!install\_\-bootstrap\_\-full@{install\_\-bootstrap\_\-full}}
\index{install\_\-bootstrap\_\-full@{install\_\-bootstrap\_\-full}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-bootstrap\_\-full}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-bootstrap\_\-full (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_ad5fe84024130a1d93d0238d0c3d2cfb5}
Performs a full bootstrap of Drupal during installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. \end{DoxyParams}
\hypertarget{install_8core_8inc_ae9175b59627ec291ef76fd241f74f33e}{
\index{install.core.inc@{install.core.inc}!install\_\-check\_\-requirements@{install\_\-check\_\-requirements}}
\index{install\_\-check\_\-requirements@{install\_\-check\_\-requirements}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-check\_\-requirements}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-check\_\-requirements (\$ {\em install\_\-state})}}
\label{install_8core_8inc_ae9175b59627ec291ef76fd241f74f33e}
Checks installation requirements and reports any errors. \hypertarget{install_8core_8inc_ac4774b453669916d9ffbb619b4bf9717}{
\index{install.core.inc@{install.core.inc}!install\_\-configure\_\-form\_\-submit@{install\_\-configure\_\-form\_\-submit}}
\index{install\_\-configure\_\-form\_\-submit@{install\_\-configure\_\-form\_\-submit}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-configure\_\-form\_\-submit}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-configure\_\-form\_\-submit (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{install_8core_8inc_ac4774b453669916d9ffbb619b4bf9717}
Form submission handler for \hyperlink{group__forms_ga38e5d79d667dbc48f40ca4238d6d161b}{install\_\-configure\_\-form()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_a6b3794048999c91eed0b6a7633a8e8f3}{install\_\-configure\_\-form\_\-validate()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a6b3794048999c91eed0b6a7633a8e8f3}{
\index{install.core.inc@{install.core.inc}!install\_\-configure\_\-form\_\-validate@{install\_\-configure\_\-form\_\-validate}}
\index{install\_\-configure\_\-form\_\-validate@{install\_\-configure\_\-form\_\-validate}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-configure\_\-form\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-configure\_\-form\_\-validate (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{install_8core_8inc_a6b3794048999c91eed0b6a7633a8e8f3}
Form validation handler for \hyperlink{group__forms_ga38e5d79d667dbc48f40ca4238d6d161b}{install\_\-configure\_\-form()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_ac4774b453669916d9ffbb619b4bf9717}{install\_\-configure\_\-form\_\-submit()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a695213046db5d896caef10f82da54b87}{
\index{install.core.inc@{install.core.inc}!install\_\-database\_\-errors@{install\_\-database\_\-errors}}
\index{install\_\-database\_\-errors@{install\_\-database\_\-errors}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-database\_\-errors}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-database\_\-errors (\$ {\em database}, \/  \$ {\em settings\_\-file})}}
\label{install_8core_8inc_a695213046db5d896caef10f82da54b87}
Checks a database connection and returns any errors. \hypertarget{install_8core_8inc_aadf48482ac0487e79f48b346dc550806}{
\index{install.core.inc@{install.core.inc}!install\_\-display\_\-output@{install\_\-display\_\-output}}
\index{install\_\-display\_\-output@{install\_\-display\_\-output}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-display\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-display\_\-output (\$ {\em output}, \/  \$ {\em install\_\-state})}}
\label{install_8core_8inc_aadf48482ac0487e79f48b346dc550806}
Displays themed installer output and ends the page request.

Installation tasks should use \hyperlink{bootstrap_8inc_a1994d49eb621df71fe1306e13b7e4910}{drupal\_\-set\_\-title()} to set the desired page title, but otherwise this function takes care of theming the overall page output during every step of the installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$output}]The content to display on the main part of the page. \item[{\em \$install\_\-state}]An array of information about the current installation state. \end{DoxyParams}
\hypertarget{install_8core_8inc_ae451893f8ee7ea51f1467cec82a51fad}{
\index{install.core.inc@{install.core.inc}!install\_\-drupal@{install\_\-drupal}}
\index{install\_\-drupal@{install\_\-drupal}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-drupal}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-drupal (\$ {\em settings} = {\ttfamily array()})}}
\label{install_8core_8inc_ae451893f8ee7ea51f1467cec82a51fad}
Installs Drupal either interactively or via an array of passed-\/in settings.

The Drupal installation happens in a series of steps, which may be spread out over multiple page requests. Each request begins by trying to determine the last completed installation step (also known as a \char`\"{}task\char`\"{}), if one is available from a previous request. Control is then passed to the task handler, which processes the remaining tasks that need to be run until (a) an error is thrown, (b) a new page needs to be displayed, or (c) the installation finishes (whichever happens first).


\begin{DoxyParams}{Parameters}
\item[{\em \$settings}]An optional array of installation settings. Leave this empty for a normal, interactive, browser-\/based installation intended to occur over multiple page requests. Alternatively, if an array of settings is passed in, the installer will attempt to use it to perform the installation in a single page request (optimized for the command line) and not send any output intended for the web browser. See \hyperlink{install_8core_8inc_ab52bef71652d133045e4182da84a33b8}{install\_\-state\_\-defaults()} for a list of elements that are allowed to appear in this array.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_ab52bef71652d133045e4182da84a33b8}{install\_\-state\_\-defaults()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a2a4848ecf0e42d2782a9b58857e6476b}{
\index{install.core.inc@{install.core.inc}!install\_\-find\_\-locales@{install\_\-find\_\-locales}}
\index{install\_\-find\_\-locales@{install\_\-find\_\-locales}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-find\_\-locales}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-find\_\-locales (\$ {\em profilename})}}
\label{install_8core_8inc_a2a4848ecf0e42d2782a9b58857e6476b}
Find all .po files for the current profile. \hypertarget{install_8core_8inc_a0b98c0d4c34d20f6334cc0f609c65ac8}{
\index{install.core.inc@{install.core.inc}!install\_\-find\_\-profiles@{install\_\-find\_\-profiles}}
\index{install\_\-find\_\-profiles@{install\_\-find\_\-profiles}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-find\_\-profiles}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-find\_\-profiles ()}}
\label{install_8core_8inc_a0b98c0d4c34d20f6334cc0f609c65ac8}
Finds all .profile files. \hypertarget{install_8core_8inc_abd023c5f3e8348d02d2667ed5648a0fb}{
\index{install.core.inc@{install.core.inc}!install\_\-finished@{install\_\-finished}}
\index{install\_\-finished@{install\_\-finished}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-finished}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-finished (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_abd023c5f3e8348d02d2667ed5648a0fb}
Finishes importing files at end of installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A message informing the user that the installation is complete. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a562ee3011859e71bb87c068340ce6dc6}{
\index{install.core.inc@{install.core.inc}!install\_\-full\_\-redirect\_\-url@{install\_\-full\_\-redirect\_\-url}}
\index{install\_\-full\_\-redirect\_\-url@{install\_\-full\_\-redirect\_\-url}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-full\_\-redirect\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-full\_\-redirect\_\-url (\$ {\em install\_\-state})}}
\label{install_8core_8inc_a562ee3011859e71bb87c068340ce6dc6}
Returns the complete URL redirected to during an installation request.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The complete URL to redirect to.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_a6653d055f5af1ec01fa9769b41f747b5}{install\_\-redirect\_\-url()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a8736de2cc75cff24bc4b070668526dde}{
\index{install.core.inc@{install.core.inc}!install\_\-import\_\-locales@{install\_\-import\_\-locales}}
\index{install\_\-import\_\-locales@{install\_\-import\_\-locales}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-import\_\-locales}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-import\_\-locales (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a8736de2cc75cff24bc4b070668526dde}
Imports languages via a batch process during installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The batch definition, if there are language files to import. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a6a48bc00f0f8e3026dd09286f93b46aa}{
\index{install.core.inc@{install.core.inc}!install\_\-import\_\-locales\_\-remaining@{install\_\-import\_\-locales\_\-remaining}}
\index{install\_\-import\_\-locales\_\-remaining@{install\_\-import\_\-locales\_\-remaining}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-import\_\-locales\_\-remaining}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-import\_\-locales\_\-remaining (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a6a48bc00f0f8e3026dd09286f93b46aa}
Installation task; import remaining languages via a batch process.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The batch definition, if there are language files to import. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a8ef7587c3c0812d35629396360b3797e}{
\index{install.core.inc@{install.core.inc}!install\_\-load\_\-profile@{install\_\-load\_\-profile}}
\index{install\_\-load\_\-profile@{install\_\-load\_\-profile}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-load\_\-profile}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-load\_\-profile (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a8ef7587c3c0812d35629396360b3797e}
Loads information about the chosen profile during installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. The loaded profile information will be added here, or an exception will be thrown if the profile cannot be loaded. \end{DoxyParams}
\hypertarget{install_8core_8inc_a78dd97fe8667cff59641b2adc55436cf}{
\index{install.core.inc@{install.core.inc}!install\_\-no\_\-profile\_\-error@{install\_\-no\_\-profile\_\-error}}
\index{install\_\-no\_\-profile\_\-error@{install\_\-no\_\-profile\_\-error}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-no\_\-profile\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-no\_\-profile\_\-error ()}}
\label{install_8core_8inc_a78dd97fe8667cff59641b2adc55436cf}
Indicates that there are no profiles available. \hypertarget{install_8core_8inc_ab10e46f9de8a36a5f53c209781d24528}{
\index{install.core.inc@{install.core.inc}!install\_\-profile\_\-modules@{install\_\-profile\_\-modules}}
\index{install\_\-profile\_\-modules@{install\_\-profile\_\-modules}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-profile\_\-modules}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-profile\_\-modules (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_ab10e46f9de8a36a5f53c209781d24528}
Installs required modules via a batch process.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The batch definition. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a6653d055f5af1ec01fa9769b41f747b5}{
\index{install.core.inc@{install.core.inc}!install\_\-redirect\_\-url@{install\_\-redirect\_\-url}}
\index{install\_\-redirect\_\-url@{install\_\-redirect\_\-url}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-redirect\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-redirect\_\-url (\$ {\em install\_\-state})}}
\label{install_8core_8inc_a6653d055f5af1ec01fa9769b41f747b5}
Returns the URL that should be redirected to during an installation request.

The output of this function is suitable for sending to \hyperlink{install_8inc_a8500b736c9651e3947265d35fc6ab920}{install\_\-goto()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The URL to redirect to.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_a562ee3011859e71bb87c068340ce6dc6}{install\_\-full\_\-redirect\_\-url()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_aed4e27f03b3779541b3ea5b00506f410}{
\index{install.core.inc@{install.core.inc}!install\_\-run\_\-task@{install\_\-run\_\-task}}
\index{install\_\-run\_\-task@{install\_\-run\_\-task}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-run\_\-task}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-run\_\-task (\$ {\em task}, \/  \&\$ {\em install\_\-state})}}
\label{install_8core_8inc_aed4e27f03b3779541b3ea5b00506f410}
Runs an individual installation task.


\begin{DoxyParams}{Parameters}
\item[{\em \$task}]An array of information about the task to be run. \item[{\em \$install\_\-state}]An array of information about the current installation state. This is passed in by reference so that it can be modified by the task.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The output of the task function, if there is any. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a8ea31b06c1d5a973906d0e9b5cfa946e}{
\index{install.core.inc@{install.core.inc}!install\_\-run\_\-tasks@{install\_\-run\_\-tasks}}
\index{install\_\-run\_\-tasks@{install\_\-run\_\-tasks}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-run\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-run\_\-tasks (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a8ea31b06c1d5a973906d0e9b5cfa946e}
Runs all tasks for the current installation request.

In the case of an interactive installation, all tasks will be attempted until one is reached that has output which needs to be displayed to the user, or until a page redirect is required. Otherwise, tasks will be attempted until the installation is finished.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. This is passed along to each task, so it can be modified if necessary.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HTML output from the last completed task. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_accf7b9346a3fc1ac88bb8787addc41f5}{
\index{install.core.inc@{install.core.inc}!install\_\-select\_\-locale@{install\_\-select\_\-locale}}
\index{install\_\-select\_\-locale@{install\_\-select\_\-locale}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-select\_\-locale}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-select\_\-locale (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_accf7b9346a3fc1ac88bb8787addc41f5}
Installation task; select which locale to use for the current profile.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. The chosen locale will be added here, if it was not already selected previously, as will a list of all available locales.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
For interactive installations, a form or other page output allowing the locale to be selected or providing information about locale selection, if a locale has not been chosen. Otherwise, an exception is thrown if a locale cannot be chosen automatically. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a4fdd2e2671bc0dd16717b898a7e25cbc}{
\index{install.core.inc@{install.core.inc}!install\_\-select\_\-profile@{install\_\-select\_\-profile}}
\index{install\_\-select\_\-profile@{install\_\-select\_\-profile}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-select\_\-profile}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-select\_\-profile (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a4fdd2e2671bc0dd16717b898a7e25cbc}
Selects which profile to install.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. The chosen profile will be added here, if it was not already selected previously, as will a list of all available profiles.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
For interactive installations, a form allowing the profile to be selected, if the user has a choice that needs to be made. Otherwise, an exception is thrown if a profile cannot be chosen automatically. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_abe061599cf0c6252388fc93366ebae27}{
\index{install.core.inc@{install.core.inc}!install\_\-settings\_\-form\_\-submit@{install\_\-settings\_\-form\_\-submit}}
\index{install\_\-settings\_\-form\_\-submit@{install\_\-settings\_\-form\_\-submit}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-settings\_\-form\_\-submit}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-settings\_\-form\_\-submit (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{install_8core_8inc_abe061599cf0c6252388fc93366ebae27}
Form submission handler for \hyperlink{group__forms_ga4fe8554aa15e5b0b78a15400c2d37d28}{install\_\-settings\_\-form()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_a81a30e13b22aa1ad8b0fa4b8f2f07c82}{install\_\-settings\_\-form\_\-validate()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a81a30e13b22aa1ad8b0fa4b8f2f07c82}{
\index{install.core.inc@{install.core.inc}!install\_\-settings\_\-form\_\-validate@{install\_\-settings\_\-form\_\-validate}}
\index{install\_\-settings\_\-form\_\-validate@{install\_\-settings\_\-form\_\-validate}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-settings\_\-form\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-settings\_\-form\_\-validate (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{install_8core_8inc_a81a30e13b22aa1ad8b0fa4b8f2f07c82}
Form validation handler for \hyperlink{group__forms_ga4fe8554aa15e5b0b78a15400c2d37d28}{install\_\-settings\_\-form()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{install_8core_8inc_abe061599cf0c6252388fc93366ebae27}{install\_\-settings\_\-form\_\-submit()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_ab52bef71652d133045e4182da84a33b8}{
\index{install.core.inc@{install.core.inc}!install\_\-state\_\-defaults@{install\_\-state\_\-defaults}}
\index{install\_\-state\_\-defaults@{install\_\-state\_\-defaults}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-state\_\-defaults}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-state\_\-defaults ()}}
\label{install_8core_8inc_ab52bef71652d133045e4182da84a33b8}
Returns an array of default settings for the global installation state.

The installation state is initialized with these settings at the beginning of each page request. They may evolve during the page request, but they are initialized again once the next request begins.

Non-\/interactive Drupal installations can override some of these default settings by passing in an array to the installation script, most notably 'parameters' (which contains one-\/time parameters such as 'profile' and 'locale' that are normally passed in via the URL) and 'forms' (which can be used to programmatically submit forms during the installation; the keys of each element indicate the name of the installation task that the form submission is for, and the values are used as the \$form\_\-state\mbox{[}'values'\mbox{]} array that is passed on to the form submission via \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()}).

\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a8aa087a6aedfb74d1ad361f2269dbd06}{
\index{install.core.inc@{install.core.inc}!install\_\-system\_\-module@{install\_\-system\_\-module}}
\index{install\_\-system\_\-module@{install\_\-system\_\-module}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-system\_\-module}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-system\_\-module (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a8aa087a6aedfb74d1ad361f2269dbd06}
Installation task; install the Drupal system module.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state. \end{DoxyParams}
\hypertarget{install_8core_8inc_a243570ad640fab913f1c14cc750d3194}{
\index{install.core.inc@{install.core.inc}!install\_\-tasks@{install\_\-tasks}}
\index{install\_\-tasks@{install\_\-tasks}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-tasks (\$ {\em install\_\-state})}}
\label{install_8core_8inc_a243570ad640fab913f1c14cc750d3194}
Returns a list of all tasks the installer currently knows about.

This function will return tasks regardless of whether or not they are intended to run on the current page request. However, the list can change based on the installation state (for example, if an installation profile hasn't been selected yet, we don't yet know which profile tasks will be available).


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of tasks, with associated metadata. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_ab265ac63af5ca0c96ab6278be25e6776}{
\index{install.core.inc@{install.core.inc}!install\_\-tasks\_\-to\_\-display@{install\_\-tasks\_\-to\_\-display}}
\index{install\_\-tasks\_\-to\_\-display@{install\_\-tasks\_\-to\_\-display}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-tasks\_\-to\_\-display}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-tasks\_\-to\_\-display (\$ {\em install\_\-state})}}
\label{install_8core_8inc_ab265ac63af5ca0c96ab6278be25e6776}
Returns a list of tasks that should be displayed to the end user.

The output of this function is a list suitable for sending to \hyperlink{group__themeable_gacac34ad88b724d01c7ca68f7891f64db}{theme\_\-task\_\-list()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of tasks, with keys equal to the machine-\/readable task name and values equal to the name that should be displayed.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__themeable_gacac34ad88b724d01c7ca68f7891f64db}{theme\_\-task\_\-list()} 
\end{DoxySeeAlso}
\hypertarget{install_8core_8inc_a02b255f3c91fa330972d77e41c0b26c4}{
\index{install.core.inc@{install.core.inc}!install\_\-tasks\_\-to\_\-perform@{install\_\-tasks\_\-to\_\-perform}}
\index{install\_\-tasks\_\-to\_\-perform@{install\_\-tasks\_\-to\_\-perform}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-tasks\_\-to\_\-perform}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-tasks\_\-to\_\-perform (\$ {\em install\_\-state})}}
\label{install_8core_8inc_a02b255f3c91fa330972d77e41c0b26c4}
Returns a list of tasks to perform during the current installation request.

Note that the list of tasks can change based on the installation state as the page request evolves (for example, if an installation profile hasn't been selected yet, we don't yet know which profile tasks need to be run).


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of tasks to be performed, with associated metadata. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a0c550ddc08ed7884ffdfc444c85d4a3a}{
\index{install.core.inc@{install.core.inc}!install\_\-verify\_\-completed\_\-task@{install\_\-verify\_\-completed\_\-task}}
\index{install\_\-verify\_\-completed\_\-task@{install\_\-verify\_\-completed\_\-task}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-verify\_\-completed\_\-task}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-verify\_\-completed\_\-task ()}}
\label{install_8core_8inc_a0c550ddc08ed7884ffdfc444c85d4a3a}
Verifies and returns the last installation task that was completed.

\begin{DoxyReturn}{Returns}
The last completed task, if there is one. An exception is thrown if Drupal is already installed. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_a05cc52656e3a172f087a5043eb00087a}{
\index{install.core.inc@{install.core.inc}!install\_\-verify\_\-pdo@{install\_\-verify\_\-pdo}}
\index{install\_\-verify\_\-pdo@{install\_\-verify\_\-pdo}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-verify\_\-pdo}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-verify\_\-pdo ()}}
\label{install_8core_8inc_a05cc52656e3a172f087a5043eb00087a}
Verifies the PDO library. \hypertarget{install_8core_8inc_a6cd2658e0f95bd0d5ce8942aa5884124}{
\index{install.core.inc@{install.core.inc}!install\_\-verify\_\-requirements@{install\_\-verify\_\-requirements}}
\index{install\_\-verify\_\-requirements@{install\_\-verify\_\-requirements}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-verify\_\-requirements}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-verify\_\-requirements (\&\$ {\em install\_\-state})}}
\label{install_8core_8inc_a6cd2658e0f95bd0d5ce8942aa5884124}
Verifies the requirements for installing Drupal.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A themed status report, or an exception if there are requirement errors. If there are only requirement warnings, a themed status report is shown initially, but the user is allowed to bypass it by providing 'continue=1' in the URL. Otherwise, no output is returned, so that the next task can be run in the same page request. 
\end{DoxyReturn}
\hypertarget{install_8core_8inc_ab9be391a3ce3d42b0a75b2abe95b5232}{
\index{install.core.inc@{install.core.inc}!install\_\-verify\_\-settings@{install\_\-verify\_\-settings}}
\index{install\_\-verify\_\-settings@{install\_\-verify\_\-settings}!install.core.inc@{install.core.inc}}
\subsubsection[{install\_\-verify\_\-settings}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-verify\_\-settings ()}}
\label{install_8core_8inc_ab9be391a3ce3d42b0a75b2abe95b5232}
Verifies the existing settings in \hyperlink{settings_8php}{settings.php}. 