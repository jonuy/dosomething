\hypertarget{batch_8inc}{
\section{html/includes/batch.inc File Reference}
\label{batch_8inc}\index{html/includes/batch.inc@{html/includes/batch.inc}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{batch_8inc_a43cd9cb0044756355a8e3c68356fbb16}{batch\_\-load} (\$id)
\item 
\hyperlink{batch_8inc_a5535c7cfeae572bda2c11f3e597a55b6}{\_\-batch\_\-page} ()
\item 
\hyperlink{batch_8inc_a1d38b90eeddc5da76b02e87fb6158ed1}{\_\-batch\_\-start} ()
\item 
\hyperlink{batch_8inc_ac8152d29181479967c4bdc7e0caf920e}{\_\-batch\_\-progress\_\-page\_\-js} ()
\item 
\hyperlink{batch_8inc_a200def74deec79748ee5accf5117db6d}{\_\-batch\_\-do} ()
\item 
\hyperlink{batch_8inc_ab233b667c1237a8e177e1e6aa1b890ba}{\_\-batch\_\-progress\_\-page\_\-nojs} ()
\item 
\hyperlink{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}{\_\-batch\_\-process} ()
\item 
\hyperlink{batch_8inc_a0e08303b9f24da1acff2fd1b41a7bc32}{\_\-batch\_\-api\_\-percentage} (\$total, \$current)
\item 
\& \hyperlink{batch_8inc_a1a536764a1a9bf283bcceddc03b462d7}{\_\-batch\_\-current\_\-set} ()
\item 
\hyperlink{batch_8inc_a48dd7f59b745d8e01fce39996d0c826e}{\_\-batch\_\-next\_\-set} ()
\item 
\hyperlink{batch_8inc_a7e7b4cbc351842ca1b27cc780b0f219b}{\_\-batch\_\-finished} ()
\item 
\hyperlink{batch_8inc_a85d830f44fb762da6e9fdb838180c85f}{\_\-batch\_\-shutdown} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Batch processing API for processes to run in multiple HTTP requests.

Note that batches are usually invoked by form submissions, which is why the core interaction functions of the batch processing API live in form.inc.

\begin{DoxySeeAlso}{See also}
form.inc 

\hyperlink{group__batch_ga9ff3f18b3bdd1d62ab7ac681a22a7170}{batch\_\-set()} 

\hyperlink{group__batch_gab17f59692632a482cee4f65f27d082f7}{batch\_\-process()} 

\hyperlink{group__batch_ga971f5246c6e8e536d0b20529fb2e2638}{batch\_\-get()} 
\end{DoxySeeAlso}


\subsection{Function Documentation}
\hypertarget{batch_8inc_a0e08303b9f24da1acff2fd1b41a7bc32}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-api\_\-percentage@{\_\-batch\_\-api\_\-percentage}}
\index{\_\-batch\_\-api\_\-percentage@{\_\-batch\_\-api\_\-percentage}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-api\_\-percentage}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-api\_\-percentage (\$ {\em total}, \/  \$ {\em current})}}
\label{batch_8inc_a0e08303b9f24da1acff2fd1b41a7bc32}
Formats the percent completion for a batch set.


\begin{DoxyParams}{Parameters}
\item[{\em \$total}]The total number of operations. \item[{\em \$current}]The number of the current operation. This may be a floating point number rather than an integer in the case of a multi-\/step operation that is not yet complete; in that case, the fractional part of \$current represents the fraction of the operation that has been completed.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The properly formatted percentage, as a string. We output percentages using the correct number of decimal places so that we never print \char`\"{}100\%\char`\"{} until we are finished, but we also never print more decimal places than are meaningful.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}{\_\-batch\_\-process()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_a1a536764a1a9bf283bcceddc03b462d7}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-current\_\-set@{\_\-batch\_\-current\_\-set}}
\index{\_\-batch\_\-current\_\-set@{\_\-batch\_\-current\_\-set}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-current\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}\& \_\-batch\_\-current\_\-set ()}}
\label{batch_8inc_a1a536764a1a9bf283bcceddc03b462d7}
Returns the batch set being currently processed. \hypertarget{batch_8inc_a200def74deec79748ee5accf5117db6d}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-do@{\_\-batch\_\-do}}
\index{\_\-batch\_\-do@{\_\-batch\_\-do}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-do}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-do ()}}
\label{batch_8inc_a200def74deec79748ee5accf5117db6d}
Does one execution pass with JavaScript and returns progress to the browser.

\begin{DoxySeeAlso}{See also}
\hyperlink{batch_8inc_ac8152d29181479967c4bdc7e0caf920e}{\_\-batch\_\-progress\_\-page\_\-js()} 

\hyperlink{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}{\_\-batch\_\-process()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_a7e7b4cbc351842ca1b27cc780b0f219b}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-finished@{\_\-batch\_\-finished}}
\index{\_\-batch\_\-finished@{\_\-batch\_\-finished}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-finished}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-finished ()}}
\label{batch_8inc_a7e7b4cbc351842ca1b27cc780b0f219b}
Ends the batch processing.

Call the 'finished' callback of each batch set to allow custom handling of the results and resolve page redirection. \hypertarget{batch_8inc_a48dd7f59b745d8e01fce39996d0c826e}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-next\_\-set@{\_\-batch\_\-next\_\-set}}
\index{\_\-batch\_\-next\_\-set@{\_\-batch\_\-next\_\-set}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-next\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-next\_\-set ()}}
\label{batch_8inc_a48dd7f59b745d8e01fce39996d0c826e}
Retrieves the next set in a batch.

If there is a subsequent set in this batch, assign it as the new set to process and execute its form submit handler (if defined), which may add further sets to this batch.

\begin{DoxyReturn}{Returns}
TRUE if a subsequent set was found in the batch. 
\end{DoxyReturn}
\hypertarget{batch_8inc_a5535c7cfeae572bda2c11f3e597a55b6}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-page@{\_\-batch\_\-page}}
\index{\_\-batch\_\-page@{\_\-batch\_\-page}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-page ()}}
\label{batch_8inc_a5535c7cfeae572bda2c11f3e597a55b6}
Renders the batch processing page based on the current state of the batch.

\begin{DoxySeeAlso}{See also}
\hyperlink{batch_8inc_a85d830f44fb762da6e9fdb838180c85f}{\_\-batch\_\-shutdown()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-process@{\_\-batch\_\-process}}
\index{\_\-batch\_\-process@{\_\-batch\_\-process}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-process}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-process ()}}
\label{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}
Processes sets in a batch.

If the batch was marked for progressive execution (default), this executes as many operations in batch sets until an execution time of 1 second has been exceeded. It will continue with the next operation of the same batch set in the next request.

\begin{DoxyReturn}{Returns}
An array containing a completion value (in percent) and a status message. 
\end{DoxyReturn}
\hypertarget{batch_8inc_ac8152d29181479967c4bdc7e0caf920e}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-progress\_\-page\_\-js@{\_\-batch\_\-progress\_\-page\_\-js}}
\index{\_\-batch\_\-progress\_\-page\_\-js@{\_\-batch\_\-progress\_\-page\_\-js}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-progress\_\-page\_\-js}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-progress\_\-page\_\-js ()}}
\label{batch_8inc_ac8152d29181479967c4bdc7e0caf920e}
Outputs a batch processing page with JavaScript support.

This initializes the batch and error messages. Note that in JavaScript-\/based processing, the batch processing page is displayed only once and updated via AHAH requests, so only the first batch set gets to define the page title. Titles specified by subsequent batch sets are not displayed.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__batch_ga9ff3f18b3bdd1d62ab7ac681a22a7170}{batch\_\-set()} 

\hyperlink{batch_8inc_a200def74deec79748ee5accf5117db6d}{\_\-batch\_\-do()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_ab233b667c1237a8e177e1e6aa1b890ba}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-progress\_\-page\_\-nojs@{\_\-batch\_\-progress\_\-page\_\-nojs}}
\index{\_\-batch\_\-progress\_\-page\_\-nojs@{\_\-batch\_\-progress\_\-page\_\-nojs}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-progress\_\-page\_\-nojs}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-progress\_\-page\_\-nojs ()}}
\label{batch_8inc_ab233b667c1237a8e177e1e6aa1b890ba}
Outputs a batch processing page without JavaScript support.

\begin{DoxySeeAlso}{See also}
\hyperlink{batch_8inc_af411ff0cae660684809c5f6a8dbc0353}{\_\-batch\_\-process()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_a85d830f44fb762da6e9fdb838180c85f}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-shutdown@{\_\-batch\_\-shutdown}}
\index{\_\-batch\_\-shutdown@{\_\-batch\_\-shutdown}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-shutdown}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-shutdown ()}}
\label{batch_8inc_a85d830f44fb762da6e9fdb838180c85f}
Shutdown function: Stores the current batch data for the next request.

\begin{DoxySeeAlso}{See also}
\hyperlink{batch_8inc_a5535c7cfeae572bda2c11f3e597a55b6}{\_\-batch\_\-page()} 

\hyperlink{group__php__wrappers_gac7eaf11b49995f7f539f5c830a65b34f}{drupal\_\-register\_\-shutdown\_\-function()} 
\end{DoxySeeAlso}
\hypertarget{batch_8inc_a1d38b90eeddc5da76b02e87fb6158ed1}{
\index{batch.inc@{batch.inc}!\_\-batch\_\-start@{\_\-batch\_\-start}}
\index{\_\-batch\_\-start@{\_\-batch\_\-start}!batch.inc@{batch.inc}}
\subsubsection[{\_\-batch\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}\_\-batch\_\-start ()}}
\label{batch_8inc_a1d38b90eeddc5da76b02e87fb6158ed1}
Initializes the batch processing.

JavaScript-\/enabled clients are identified by the 'has\_\-js' cookie set in drupal.js. If no JavaScript-\/enabled page has been visited during the current user's browser session, the non-\/JavaScript version is returned. \hypertarget{batch_8inc_a43cd9cb0044756355a8e3c68356fbb16}{
\index{batch.inc@{batch.inc}!batch\_\-load@{batch\_\-load}}
\index{batch\_\-load@{batch\_\-load}!batch.inc@{batch.inc}}
\subsubsection[{batch\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}batch\_\-load (\$ {\em id})}}
\label{batch_8inc_a43cd9cb0044756355a8e3c68356fbb16}
Loads a batch from the database.


\begin{DoxyParams}{Parameters}
\item[{\em \$id}]The ID of the batch to load. When a progressive batch is being processed, the relevant ID is found in \$\_\-REQUEST\mbox{[}'id'\mbox{]}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array representing the batch, or FALSE if no batch was found. 
\end{DoxyReturn}
