\hypertarget{install_8inc}{
\section{html/includes/install.inc File Reference}
\label{install_8inc}\index{html/includes/install.inc@{html/includes/install.inc}}
}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classDatabaseTasks}{DatabaseTasks}
\item 
class \hyperlink{classDatabaseTaskException}{DatabaseTaskException}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{install_8inc_ab2f11b038ed6a537bfdd257be863075f}{SCHEMA\_\-UNINSTALLED} 
\item 
enum \hyperlink{install_8inc_aaa1b441be0b54ef62f6ea8d391f9cc99}{SCHEMA\_\-INSTALLED} 
\item 
enum \hyperlink{install_8inc_ab679de0810b6a879525b822fa33e3d75}{REQUIREMENT\_\-INFO} 
\item 
enum \hyperlink{install_8inc_add48d60abb0dc390c50bf824f1751cc2}{REQUIREMENT\_\-OK} 
\item 
enum \hyperlink{install_8inc_a2879fcef075548b2dceeeaa9571dcf8d}{REQUIREMENT\_\-WARNING} 
\item 
enum \hyperlink{install_8inc_aeddf02286107904721cb582bd430581d}{REQUIREMENT\_\-ERROR} 
\item 
enum \hyperlink{install_8inc_ae627ec3bb64949659adbc8cac5ae063e}{FILE\_\-EXIST} 
\item 
enum \hyperlink{install_8inc_a5a3ab6bb8b0df419dff1d9c741e5ca56}{FILE\_\-READABLE} 
\item 
enum \hyperlink{install_8inc_a18edb581d332bd2fe379104a39e3b1a2}{FILE\_\-WRITABLE} 
\item 
enum \hyperlink{install_8inc_a03399711a43d84ee8783b8b1214dd429}{FILE\_\-EXECUTABLE} 
\item 
enum \hyperlink{install_8inc_a2d02367d8fd76c70b1ffb77b24e62db9}{FILE\_\-NOT\_\-EXIST} 
\item 
enum \hyperlink{install_8inc_ab09b4a70a73804ec35333d43a878a572}{FILE\_\-NOT\_\-READABLE} 
\item 
enum \hyperlink{install_8inc_a01939e1b55bf40d1ac3556eded13a353}{FILE\_\-NOT\_\-WRITABLE} 
\item 
enum \hyperlink{install_8inc_a3c1acd6083afd2e6d977616f227fcf26}{FILE\_\-NOT\_\-EXECUTABLE} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{install_8inc_a0c6d0aed425d08e6001378191d6bc1d9}{drupal\_\-load\_\-updates} ()
\item 
\hyperlink{install_8inc_a1e68a61662f821bde8606568fda7bf58}{drupal\_\-get\_\-schema\_\-versions} (\$module)
\item 
\hyperlink{install_8inc_a7702ece36adbef6e165e6f9c2bde5953}{drupal\_\-get\_\-installed\_\-schema\_\-version} (\$module, \$reset=FALSE, \$array=FALSE)
\item 
\hyperlink{install_8inc_a2bc19b43e5872bf61c359839ccaec97b}{drupal\_\-set\_\-installed\_\-schema\_\-version} (\$module, \$version)
\item 
\hyperlink{install_8inc_a52c56958ff42269107b5a678e8d95ddc}{drupal\_\-install\_\-profile\_\-distribution\_\-name} ()
\item 
\hyperlink{install_8inc_a1b5de87184840c5b386aa8f109271b9e}{drupal\_\-detect\_\-baseurl} (\$file= 'install.php')
\item 
\hyperlink{install_8inc_a714eb7ff779f55f4b330a995f9f92cd4}{drupal\_\-detect\_\-database\_\-types} ()
\item 
\hyperlink{install_8inc_acc31c9690e30c375bba969c4e5584c71}{drupal\_\-get\_\-database\_\-types} ()
\item 
\hyperlink{install_8inc_ad99864750a734251d0a39fffe620ff53}{drupal\_\-rewrite\_\-settings} (\$settings=array(), \$prefix= '')
\item 
\hyperlink{install_8inc_aa29b37a58b07628a4fd9714c2f9817ab}{drupal\_\-verify\_\-profile} (\$install\_\-state)
\item 
\hyperlink{install_8inc_aab1545a3102caedc018c7d571d6ebf1b}{drupal\_\-install\_\-system} ()
\item 
\hyperlink{install_8inc_a70bce70ff13aafba3367e81737b85b62}{drupal\_\-uninstall\_\-modules} (\$module\_\-list=array(), \$uninstall\_\-dependents=TRUE)
\item 
\hyperlink{install_8inc_a604165f37803cd10ac32534e3f8796ed}{drupal\_\-verify\_\-install\_\-file} (\$file, \$mask=NULL, \$type= 'file')
\item 
\hyperlink{install_8inc_a125c230acb8711702d23b46feab26820}{drupal\_\-install\_\-mkdir} (\$file, \$mask, \$message=TRUE)
\item 
\hyperlink{install_8inc_a41db1d979ed589c0d16bceb773e113fa}{drupal\_\-install\_\-fix\_\-file} (\$file, \$mask, \$message=TRUE)
\item 
\hyperlink{install_8inc_a8500b736c9651e3947265d35fc6ab920}{install\_\-goto} (\$path)
\item 
\hyperlink{install_8inc_a75c4f99a27a5a65328abc0eaa1f928e3}{drupal\_\-current\_\-script\_\-url} (\$query=array())
\item 
\hyperlink{install_8inc_aa26d690c87ca7a7a2aedd9cd4679274a}{drupal\_\-requirements\_\-url} (\$severity)
\item 
\hyperlink{group__sanitization_gabc78d1b88aa8081093abbbf71a516c7c}{st} (\$string, array \$args=array(), array \$options=array())
\item 
\hyperlink{install_8inc_a836bd8c91fc428e6d7c5bc6306dc6f5c}{drupal\_\-check\_\-profile} (\$profile)
\item 
\hyperlink{install_8inc_aa9ea0f7df004333efbdd03025f5a9c94}{drupal\_\-requirements\_\-severity} (\&\$requirements)
\item 
\hyperlink{install_8inc_a3b9fc21890b0b9307383a1f6a813b859}{drupal\_\-check\_\-module} (\$module)
\item 
\hyperlink{install_8inc_ad035099993d5a0dc4bad7ce81264c88d}{install\_\-profile\_\-info} (\$profile, \$locale= 'en')
\item 
\hyperlink{install_8inc_a57bfe6a3b39d6f931fe965a93e7eec83}{db\_\-run\_\-tasks} (\$driver)
\item 
\hyperlink{install_8inc_aae9b6ee5100acd83eabbb2b2c2ab02c6}{db\_\-installer\_\-object} (\$driver)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
API functions for installing modules and themes. 

\subsection{Enumeration Type Documentation}
\hypertarget{install_8inc_a03399711a43d84ee8783b8b1214dd429}{
\index{install.inc@{install.inc}!FILE\_\-EXECUTABLE@{FILE\_\-EXECUTABLE}}
\index{FILE\_\-EXECUTABLE@{FILE\_\-EXECUTABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-EXECUTABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-EXECUTABLE}}}
\label{install_8inc_a03399711a43d84ee8783b8b1214dd429}
File permission check -\/-\/ File is executable. \hypertarget{install_8inc_ae627ec3bb64949659adbc8cac5ae063e}{
\index{install.inc@{install.inc}!FILE\_\-EXIST@{FILE\_\-EXIST}}
\index{FILE\_\-EXIST@{FILE\_\-EXIST}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-EXIST}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-EXIST}}}
\label{install_8inc_ae627ec3bb64949659adbc8cac5ae063e}
File permission check -\/-\/ File exists. \hypertarget{install_8inc_a3c1acd6083afd2e6d977616f227fcf26}{
\index{install.inc@{install.inc}!FILE\_\-NOT\_\-EXECUTABLE@{FILE\_\-NOT\_\-EXECUTABLE}}
\index{FILE\_\-NOT\_\-EXECUTABLE@{FILE\_\-NOT\_\-EXECUTABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-NOT\_\-EXECUTABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-NOT\_\-EXECUTABLE}}}
\label{install_8inc_a3c1acd6083afd2e6d977616f227fcf26}
File permission check -\/-\/ File is not executable. \hypertarget{install_8inc_a2d02367d8fd76c70b1ffb77b24e62db9}{
\index{install.inc@{install.inc}!FILE\_\-NOT\_\-EXIST@{FILE\_\-NOT\_\-EXIST}}
\index{FILE\_\-NOT\_\-EXIST@{FILE\_\-NOT\_\-EXIST}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-NOT\_\-EXIST}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-NOT\_\-EXIST}}}
\label{install_8inc_a2d02367d8fd76c70b1ffb77b24e62db9}
File permission check -\/-\/ File does not exist. \hypertarget{install_8inc_ab09b4a70a73804ec35333d43a878a572}{
\index{install.inc@{install.inc}!FILE\_\-NOT\_\-READABLE@{FILE\_\-NOT\_\-READABLE}}
\index{FILE\_\-NOT\_\-READABLE@{FILE\_\-NOT\_\-READABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-NOT\_\-READABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-NOT\_\-READABLE}}}
\label{install_8inc_ab09b4a70a73804ec35333d43a878a572}
File permission check -\/-\/ File is not readable. \hypertarget{install_8inc_a01939e1b55bf40d1ac3556eded13a353}{
\index{install.inc@{install.inc}!FILE\_\-NOT\_\-WRITABLE@{FILE\_\-NOT\_\-WRITABLE}}
\index{FILE\_\-NOT\_\-WRITABLE@{FILE\_\-NOT\_\-WRITABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-NOT\_\-WRITABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-NOT\_\-WRITABLE}}}
\label{install_8inc_a01939e1b55bf40d1ac3556eded13a353}
File permission check -\/-\/ File is not writable. \hypertarget{install_8inc_a5a3ab6bb8b0df419dff1d9c741e5ca56}{
\index{install.inc@{install.inc}!FILE\_\-READABLE@{FILE\_\-READABLE}}
\index{FILE\_\-READABLE@{FILE\_\-READABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-READABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-READABLE}}}
\label{install_8inc_a5a3ab6bb8b0df419dff1d9c741e5ca56}
File permission check -\/-\/ File is readable. \hypertarget{install_8inc_a18edb581d332bd2fe379104a39e3b1a2}{
\index{install.inc@{install.inc}!FILE\_\-WRITABLE@{FILE\_\-WRITABLE}}
\index{FILE\_\-WRITABLE@{FILE\_\-WRITABLE}!install.inc@{install.inc}}
\subsubsection[{FILE\_\-WRITABLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FILE\_\-WRITABLE}}}
\label{install_8inc_a18edb581d332bd2fe379104a39e3b1a2}
File permission check -\/-\/ File is writable. \hypertarget{install_8inc_aeddf02286107904721cb582bd430581d}{
\index{install.inc@{install.inc}!REQUIREMENT\_\-ERROR@{REQUIREMENT\_\-ERROR}}
\index{REQUIREMENT\_\-ERROR@{REQUIREMENT\_\-ERROR}!install.inc@{install.inc}}
\subsubsection[{REQUIREMENT\_\-ERROR}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf REQUIREMENT\_\-ERROR}}}
\label{install_8inc_aeddf02286107904721cb582bd430581d}
Requirement severity -\/-\/ Error condition; abort installation. \hypertarget{install_8inc_ab679de0810b6a879525b822fa33e3d75}{
\index{install.inc@{install.inc}!REQUIREMENT\_\-INFO@{REQUIREMENT\_\-INFO}}
\index{REQUIREMENT\_\-INFO@{REQUIREMENT\_\-INFO}!install.inc@{install.inc}}
\subsubsection[{REQUIREMENT\_\-INFO}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf REQUIREMENT\_\-INFO}}}
\label{install_8inc_ab679de0810b6a879525b822fa33e3d75}
Requirement severity -\/-\/ Informational message only. \hypertarget{install_8inc_add48d60abb0dc390c50bf824f1751cc2}{
\index{install.inc@{install.inc}!REQUIREMENT\_\-OK@{REQUIREMENT\_\-OK}}
\index{REQUIREMENT\_\-OK@{REQUIREMENT\_\-OK}!install.inc@{install.inc}}
\subsubsection[{REQUIREMENT\_\-OK}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf REQUIREMENT\_\-OK}}}
\label{install_8inc_add48d60abb0dc390c50bf824f1751cc2}
Requirement severity -\/-\/ Requirement successfully met. \hypertarget{install_8inc_a2879fcef075548b2dceeeaa9571dcf8d}{
\index{install.inc@{install.inc}!REQUIREMENT\_\-WARNING@{REQUIREMENT\_\-WARNING}}
\index{REQUIREMENT\_\-WARNING@{REQUIREMENT\_\-WARNING}!install.inc@{install.inc}}
\subsubsection[{REQUIREMENT\_\-WARNING}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf REQUIREMENT\_\-WARNING}}}
\label{install_8inc_a2879fcef075548b2dceeeaa9571dcf8d}
Requirement severity -\/-\/ Warning condition; proceed but flag warning. \hypertarget{install_8inc_aaa1b441be0b54ef62f6ea8d391f9cc99}{
\index{install.inc@{install.inc}!SCHEMA\_\-INSTALLED@{SCHEMA\_\-INSTALLED}}
\index{SCHEMA\_\-INSTALLED@{SCHEMA\_\-INSTALLED}!install.inc@{install.inc}}
\subsubsection[{SCHEMA\_\-INSTALLED}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf SCHEMA\_\-INSTALLED}}}
\label{install_8inc_aaa1b441be0b54ef62f6ea8d391f9cc99}
Indicates that a module has been installed. \hypertarget{install_8inc_ab2f11b038ed6a537bfdd257be863075f}{
\index{install.inc@{install.inc}!SCHEMA\_\-UNINSTALLED@{SCHEMA\_\-UNINSTALLED}}
\index{SCHEMA\_\-UNINSTALLED@{SCHEMA\_\-UNINSTALLED}!install.inc@{install.inc}}
\subsubsection[{SCHEMA\_\-UNINSTALLED}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf SCHEMA\_\-UNINSTALLED}}}
\label{install_8inc_ab2f11b038ed6a537bfdd257be863075f}
Indicates that a module has not been installed yet. 

\subsection{Function Documentation}
\hypertarget{install_8inc_aae9b6ee5100acd83eabbb2b2c2ab02c6}{
\index{install.inc@{install.inc}!db\_\-installer\_\-object@{db\_\-installer\_\-object}}
\index{db\_\-installer\_\-object@{db\_\-installer\_\-object}!install.inc@{install.inc}}
\subsubsection[{db\_\-installer\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-installer\_\-object (\$ {\em driver})}}
\label{install_8inc_aae9b6ee5100acd83eabbb2b2c2ab02c6}
Returns a database installer object.


\begin{DoxyParams}{Parameters}
\item[{\em \$driver}]The name of the driver. \end{DoxyParams}
\hypertarget{install_8inc_a57bfe6a3b39d6f931fe965a93e7eec83}{
\index{install.inc@{install.inc}!db\_\-run\_\-tasks@{db\_\-run\_\-tasks}}
\index{db\_\-run\_\-tasks@{db\_\-run\_\-tasks}!install.inc@{install.inc}}
\subsubsection[{db\_\-run\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-run\_\-tasks (\$ {\em driver})}}
\label{install_8inc_a57bfe6a3b39d6f931fe965a93e7eec83}
Ensures the environment for a Drupal database on a predefined connection.

This will run tasks that check that Drupal can perform all of the functions on a database, that Drupal needs. Tasks include simple checks like CREATE TABLE to database specific functions like stored procedures and client encoding. \hypertarget{install_8inc_a3b9fc21890b0b9307383a1f6a813b859}{
\index{install.inc@{install.inc}!drupal\_\-check\_\-module@{drupal\_\-check\_\-module}}
\index{drupal\_\-check\_\-module@{drupal\_\-check\_\-module}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-check\_\-module}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-check\_\-module (\$ {\em module})}}
\label{install_8inc_a3b9fc21890b0b9307383a1f6a813b859}
Checks a module's requirements.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]Machine name of module to check.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE or FALSE, depending on whether the requirements are met. 
\end{DoxyReturn}
\hypertarget{install_8inc_a836bd8c91fc428e6d7c5bc6306dc6f5c}{
\index{install.inc@{install.inc}!drupal\_\-check\_\-profile@{drupal\_\-check\_\-profile}}
\index{drupal\_\-check\_\-profile@{drupal\_\-check\_\-profile}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-check\_\-profile}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-check\_\-profile (\$ {\em profile})}}
\label{install_8inc_a836bd8c91fc428e6d7c5bc6306dc6f5c}
Checks an installation profile's requirements.


\begin{DoxyParams}{Parameters}
\item[{\em \$profile}]Name of installation profile to check. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Array of the installation profile's requirements. 
\end{DoxyReturn}
\hypertarget{install_8inc_a75c4f99a27a5a65328abc0eaa1f928e3}{
\index{install.inc@{install.inc}!drupal\_\-current\_\-script\_\-url@{drupal\_\-current\_\-script\_\-url}}
\index{drupal\_\-current\_\-script\_\-url@{drupal\_\-current\_\-script\_\-url}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-current\_\-script\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-current\_\-script\_\-url (\$ {\em query} = {\ttfamily array()})}}
\label{install_8inc_a75c4f99a27a5a65328abc0eaa1f928e3}
Returns the URL of the current script, with modified query parameters.

This function can be called by low-\/level scripts (such as \hyperlink{install_8php}{install.php} and \hyperlink{update_8php}{update.php}) and returns the URL of the current script. Existing query parameters are preserved by default, but new ones can optionally be merged in.

This function is used when the script must maintain certain query parameters over multiple page requests in order to work correctly. In such cases (for example, \hyperlink{update_8php}{update.php}, which requires the 'continue=1' parameter to remain in the URL throughout the update process if there are any requirement warnings that need to be bypassed), using this function to generate the URL for links to the next steps of the script ensures that the links will work correctly.


\begin{DoxyParams}{Parameters}
\item[{\em \$query}](optional) An array of query parameters to merge in to the existing ones.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The URL of the current script, with query parameters modified by the passed-\/in \$query. The URL is not sanitized, so it still needs to be run through \hyperlink{group__sanitization_gac024315b69035ef05c33674838707919}{check\_\-url()} if it will be used as an HTML attribute value.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8inc_aa26d690c87ca7a7a2aedd9cd4679274a}{drupal\_\-requirements\_\-url()} 
\end{DoxySeeAlso}
\hypertarget{install_8inc_a1b5de87184840c5b386aa8f109271b9e}{
\index{install.inc@{install.inc}!drupal\_\-detect\_\-baseurl@{drupal\_\-detect\_\-baseurl}}
\index{drupal\_\-detect\_\-baseurl@{drupal\_\-detect\_\-baseurl}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-detect\_\-baseurl}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-detect\_\-baseurl (\$ {\em file} = {\ttfamily 'install.php'})}}
\label{install_8inc_a1b5de87184840c5b386aa8f109271b9e}
Detects the base URL using the PHP \$\_\-SERVER variables.


\begin{DoxyParams}{Parameters}
\item[{\em \$file}]The name of the file calling this function so we can strip it out of the URI when generating the base\_\-url.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The auto-\/detected \$base\_\-url that should be configured in \hyperlink{settings_8php}{settings.php} 
\end{DoxyReturn}
\hypertarget{install_8inc_a714eb7ff779f55f4b330a995f9f92cd4}{
\index{install.inc@{install.inc}!drupal\_\-detect\_\-database\_\-types@{drupal\_\-detect\_\-database\_\-types}}
\index{drupal\_\-detect\_\-database\_\-types@{drupal\_\-detect\_\-database\_\-types}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-detect\_\-database\_\-types}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-detect\_\-database\_\-types ()}}
\label{install_8inc_a714eb7ff779f55f4b330a995f9f92cd4}
Detects all supported databases that are compiled into PHP.

\begin{DoxyReturn}{Returns}
An array of database types compiled into PHP. 
\end{DoxyReturn}
\hypertarget{install_8inc_acc31c9690e30c375bba969c4e5584c71}{
\index{install.inc@{install.inc}!drupal\_\-get\_\-database\_\-types@{drupal\_\-get\_\-database\_\-types}}
\index{drupal\_\-get\_\-database\_\-types@{drupal\_\-get\_\-database\_\-types}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-get\_\-database\_\-types}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-get\_\-database\_\-types ()}}
\label{install_8inc_acc31c9690e30c375bba969c4e5584c71}
Returns all supported database installer objects that are compiled into PHP.

\begin{DoxyReturn}{Returns}
An array of database installer objects compiled into PHP. 
\end{DoxyReturn}
\hypertarget{install_8inc_a7702ece36adbef6e165e6f9c2bde5953}{
\index{install.inc@{install.inc}!drupal\_\-get\_\-installed\_\-schema\_\-version@{drupal\_\-get\_\-installed\_\-schema\_\-version}}
\index{drupal\_\-get\_\-installed\_\-schema\_\-version@{drupal\_\-get\_\-installed\_\-schema\_\-version}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-get\_\-installed\_\-schema\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-get\_\-installed\_\-schema\_\-version (\$ {\em module}, \/  \$ {\em reset} = {\ttfamily FALSE}, \/  \$ {\em array} = {\ttfamily FALSE})}}
\label{install_8inc_a7702ece36adbef6e165e6f9c2bde5953}
Returns the currently installed schema version for a module.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]A module name. \item[{\em \$reset}]Set to TRUE after modifying the system table. \item[{\em \$array}]Set to TRUE if you want to get information about all modules in the system. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The currently installed schema version, or SCHEMA\_\-UNINSTALLED if the module is not installed. 
\end{DoxyReturn}
\hypertarget{install_8inc_a1e68a61662f821bde8606568fda7bf58}{
\index{install.inc@{install.inc}!drupal\_\-get\_\-schema\_\-versions@{drupal\_\-get\_\-schema\_\-versions}}
\index{drupal\_\-get\_\-schema\_\-versions@{drupal\_\-get\_\-schema\_\-versions}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-get\_\-schema\_\-versions}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-get\_\-schema\_\-versions (\$ {\em module})}}
\label{install_8inc_a1e68a61662f821bde8606568fda7bf58}
Returns an array of available schema versions for a module.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]A module name. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the module has updates, an array of available updates sorted by version. Otherwise, FALSE. 
\end{DoxyReturn}
\hypertarget{install_8inc_a41db1d979ed589c0d16bceb773e113fa}{
\index{install.inc@{install.inc}!drupal\_\-install\_\-fix\_\-file@{drupal\_\-install\_\-fix\_\-file}}
\index{drupal\_\-install\_\-fix\_\-file@{drupal\_\-install\_\-fix\_\-file}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-install\_\-fix\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-install\_\-fix\_\-file (\$ {\em file}, \/  \$ {\em mask}, \/  \$ {\em message} = {\ttfamily TRUE})}}
\label{install_8inc_a41db1d979ed589c0d16bceb773e113fa}
Attempts to fix file permissions.

The general approach here is that, because we do not know the security setup of the webserver, we apply our permission changes to all three digits of the file permission (i.e. user, group and all).

To ensure that the values behave as expected (and numbers don't carry from one digit to the next) we do the calculation on the octal value using bitwise operations. This lets us remove, for example, 0222 from 0700 and get the correct value of 0500.


\begin{DoxyParams}{Parameters}
\item[{\em \$file}]The name of the file with permissions to fix. \item[{\em \$mask}]The desired permissions for the file. \item[{\em \$message}](optional) Whether to output messages. Defaults to TRUE.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE/FALSE whether or not we were able to fix the file's permissions. 
\end{DoxyReturn}
\hypertarget{install_8inc_a125c230acb8711702d23b46feab26820}{
\index{install.inc@{install.inc}!drupal\_\-install\_\-mkdir@{drupal\_\-install\_\-mkdir}}
\index{drupal\_\-install\_\-mkdir@{drupal\_\-install\_\-mkdir}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-install\_\-mkdir}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-install\_\-mkdir (\$ {\em file}, \/  \$ {\em mask}, \/  \$ {\em message} = {\ttfamily TRUE})}}
\label{install_8inc_a125c230acb8711702d23b46feab26820}
Creates a directory with the specified permissions.


\begin{DoxyParams}{Parameters}
\item[{\em \$file}]The name of the directory to create; \item[{\em \$mask}]The permissions of the directory to create. \item[{\em \$message}](optional) Whether to output messages. Defaults to TRUE.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE/FALSE whether or not the directory was successfully created. 
\end{DoxyReturn}
\hypertarget{install_8inc_a52c56958ff42269107b5a678e8d95ddc}{
\index{install.inc@{install.inc}!drupal\_\-install\_\-profile\_\-distribution\_\-name@{drupal\_\-install\_\-profile\_\-distribution\_\-name}}
\index{drupal\_\-install\_\-profile\_\-distribution\_\-name@{drupal\_\-install\_\-profile\_\-distribution\_\-name}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-install\_\-profile\_\-distribution\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-install\_\-profile\_\-distribution\_\-name ()}}
\label{install_8inc_a52c56958ff42269107b5a678e8d95ddc}
Loads the installation profile, extracting its defined distribution name.

\begin{DoxyReturn}{Returns}
The distribution name defined in the profile's .info file. Defaults to \char`\"{}Drupal\char`\"{} if none is explicitly provided by the installation profile.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8inc_ad035099993d5a0dc4bad7ce81264c88d}{install\_\-profile\_\-info()} 
\end{DoxySeeAlso}
\hypertarget{install_8inc_aab1545a3102caedc018c7d571d6ebf1b}{
\index{install.inc@{install.inc}!drupal\_\-install\_\-system@{drupal\_\-install\_\-system}}
\index{drupal\_\-install\_\-system@{drupal\_\-install\_\-system}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-install\_\-system}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-install\_\-system ()}}
\label{install_8inc_aab1545a3102caedc018c7d571d6ebf1b}
Installs the system module.

Separated from the installation of other modules so core system functions can be made available while other modules are installed. \hypertarget{install_8inc_a0c6d0aed425d08e6001378191d6bc1d9}{
\index{install.inc@{install.inc}!drupal\_\-load\_\-updates@{drupal\_\-load\_\-updates}}
\index{drupal\_\-load\_\-updates@{drupal\_\-load\_\-updates}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-load\_\-updates}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-load\_\-updates ()}}
\label{install_8inc_a0c6d0aed425d08e6001378191d6bc1d9}
Loads .install files for installed modules to initialize the update system. \hypertarget{install_8inc_aa9ea0f7df004333efbdd03025f5a9c94}{
\index{install.inc@{install.inc}!drupal\_\-requirements\_\-severity@{drupal\_\-requirements\_\-severity}}
\index{drupal\_\-requirements\_\-severity@{drupal\_\-requirements\_\-severity}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-requirements\_\-severity}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-requirements\_\-severity (\&\$ {\em requirements})}}
\label{install_8inc_aa9ea0f7df004333efbdd03025f5a9c94}
Extracts the highest severity from the requirements array.


\begin{DoxyParams}{Parameters}
\item[{\em \$requirements}]An array of requirements, in the same format as is returned by \hyperlink{group__hooks_ga3cff06c700ccb873cfce71fc378e7675}{hook\_\-requirements()}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The highest severity in the array. 
\end{DoxyReturn}
\hypertarget{install_8inc_aa26d690c87ca7a7a2aedd9cd4679274a}{
\index{install.inc@{install.inc}!drupal\_\-requirements\_\-url@{drupal\_\-requirements\_\-url}}
\index{drupal\_\-requirements\_\-url@{drupal\_\-requirements\_\-url}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-requirements\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-requirements\_\-url (\$ {\em severity})}}
\label{install_8inc_aa26d690c87ca7a7a2aedd9cd4679274a}
Returns a URL for proceeding to the next page after a requirements problem.

This function can be called by low-\/level scripts (such as \hyperlink{install_8php}{install.php} and \hyperlink{update_8php}{update.php}) and returns a URL that can be used to attempt to proceed to the next step of the script.


\begin{DoxyParams}{Parameters}
\item[{\em \$severity}]The severity of the requirements problem, as returned by \hyperlink{install_8inc_aa9ea0f7df004333efbdd03025f5a9c94}{drupal\_\-requirements\_\-severity()}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A URL for attempting to proceed to the next step of the script. The URL is not sanitized, so it still needs to be run through \hyperlink{group__sanitization_gac024315b69035ef05c33674838707919}{check\_\-url()} if it will be used as an HTML attribute value.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{install_8inc_a75c4f99a27a5a65328abc0eaa1f928e3}{drupal\_\-current\_\-script\_\-url()} 
\end{DoxySeeAlso}
\hypertarget{install_8inc_ad99864750a734251d0a39fffe620ff53}{
\index{install.inc@{install.inc}!drupal\_\-rewrite\_\-settings@{drupal\_\-rewrite\_\-settings}}
\index{drupal\_\-rewrite\_\-settings@{drupal\_\-rewrite\_\-settings}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-rewrite\_\-settings}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-rewrite\_\-settings (\$ {\em settings} = {\ttfamily array()}, \/  \$ {\em prefix} = {\ttfamily ''})}}
\label{install_8inc_ad99864750a734251d0a39fffe620ff53}
Replaces values in \hyperlink{settings_8php}{settings.php} with values in the submitted array.


\begin{DoxyParams}{Parameters}
\item[{\em \$settings}]An array of settings that need to be updated. \end{DoxyParams}
\hypertarget{install_8inc_a2bc19b43e5872bf61c359839ccaec97b}{
\index{install.inc@{install.inc}!drupal\_\-set\_\-installed\_\-schema\_\-version@{drupal\_\-set\_\-installed\_\-schema\_\-version}}
\index{drupal\_\-set\_\-installed\_\-schema\_\-version@{drupal\_\-set\_\-installed\_\-schema\_\-version}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-set\_\-installed\_\-schema\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-set\_\-installed\_\-schema\_\-version (\$ {\em module}, \/  \$ {\em version})}}
\label{install_8inc_a2bc19b43e5872bf61c359839ccaec97b}
Update the installed version information for a module.


\begin{DoxyParams}{Parameters}
\item[{\em \$module}]A module name. \item[{\em \$version}]The new schema version. \end{DoxyParams}
\hypertarget{install_8inc_a70bce70ff13aafba3367e81737b85b62}{
\index{install.inc@{install.inc}!drupal\_\-uninstall\_\-modules@{drupal\_\-uninstall\_\-modules}}
\index{drupal\_\-uninstall\_\-modules@{drupal\_\-uninstall\_\-modules}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-uninstall\_\-modules}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-uninstall\_\-modules (\$ {\em module\_\-list} = {\ttfamily array()}, \/  \$ {\em uninstall\_\-dependents} = {\ttfamily TRUE})}}
\label{install_8inc_a70bce70ff13aafba3367e81737b85b62}
Uninstalls a given list of disabled modules.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$module\_\-list The modules to uninstall. It is the caller's responsibility to ensure that all modules in this list have already been disabled before this function is called. \item[{\em bool}]\$uninstall\_\-dependents (optional) If TRUE, the function will check that all modules which depend on the passed-\/in module list either are already uninstalled or contained in the list, and it will ensure that the modules are uninstalled in the correct order. This incurs a significant performance cost, so use FALSE if you know \$module\_\-list is already complete and in the correct order. Defaults to TRUE.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns TRUE if the operation succeeds or FALSE if it aborts due to an unsafe condition, namely, \$uninstall\_\-dependents is TRUE and a module in \$module\_\-list has dependents which are not already uninstalled and not also included in \$module\_\-list).
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{module_8inc_a0378d5f56db255c18ca59fc54cd52a94}{module\_\-disable()} 
\end{DoxySeeAlso}
\hypertarget{install_8inc_a604165f37803cd10ac32534e3f8796ed}{
\index{install.inc@{install.inc}!drupal\_\-verify\_\-install\_\-file@{drupal\_\-verify\_\-install\_\-file}}
\index{drupal\_\-verify\_\-install\_\-file@{drupal\_\-verify\_\-install\_\-file}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-verify\_\-install\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-verify\_\-install\_\-file (\$ {\em file}, \/  \$ {\em mask} = {\ttfamily NULL}, \/  \$ {\em type} = {\ttfamily 'file'})}}
\label{install_8inc_a604165f37803cd10ac32534e3f8796ed}
Verifies the state of the specified file.


\begin{DoxyParams}{Parameters}
\item[{\em \$file}]The file to check for. \item[{\em \$mask}]An optional bitmask created from various FILE\_\-$\ast$ constants. \item[{\em \$type}]The type of file. Can be file (default), dir, or link.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE on success or FALSE on failure. A message is set for the latter. 
\end{DoxyReturn}
\hypertarget{install_8inc_aa29b37a58b07628a4fd9714c2f9817ab}{
\index{install.inc@{install.inc}!drupal\_\-verify\_\-profile@{drupal\_\-verify\_\-profile}}
\index{drupal\_\-verify\_\-profile@{drupal\_\-verify\_\-profile}!install.inc@{install.inc}}
\subsubsection[{drupal\_\-verify\_\-profile}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-verify\_\-profile (\$ {\em install\_\-state})}}
\label{install_8inc_aa29b37a58b07628a4fd9714c2f9817ab}
Verifies an installation profile for installation.


\begin{DoxyParams}{Parameters}
\item[{\em \$install\_\-state}]An array of information about the current installation state.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The list of modules to install. 
\end{DoxyReturn}
\hypertarget{install_8inc_a8500b736c9651e3947265d35fc6ab920}{
\index{install.inc@{install.inc}!install\_\-goto@{install\_\-goto}}
\index{install\_\-goto@{install\_\-goto}!install.inc@{install.inc}}
\subsubsection[{install\_\-goto}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-goto (\$ {\em path})}}
\label{install_8inc_a8500b736c9651e3947265d35fc6ab920}
Sends the user to a different installer page.

This issues an on-\/site HTTP redirect. Messages (and errors) are erased.


\begin{DoxyParams}{Parameters}
\item[{\em \$path}]An installer path. \end{DoxyParams}
\hypertarget{install_8inc_ad035099993d5a0dc4bad7ce81264c88d}{
\index{install.inc@{install.inc}!install\_\-profile\_\-info@{install\_\-profile\_\-info}}
\index{install\_\-profile\_\-info@{install\_\-profile\_\-info}!install.inc@{install.inc}}
\subsubsection[{install\_\-profile\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}install\_\-profile\_\-info (\$ {\em profile}, \/  \$ {\em locale} = {\ttfamily 'en'})}}
\label{install_8inc_ad035099993d5a0dc4bad7ce81264c88d}
Retrieves information about an installation profile from its .info file.

The information stored in a profile .info file is similar to that stored in a normal Drupal module .info file. For example:
\begin{DoxyItemize}
\item name: The real name of the installation profile for display purposes.
\item description: A brief description of the profile.
\item dependencies: An array of shortnames of other modules that this install profile requires.
\end{DoxyItemize}

Additional, less commonly-\/used information that can appear in a profile.info file but not in a normal Drupal module .info file includes:
\begin{DoxyItemize}
\item distribution\_\-name: The name of the Drupal distribution that is being installed, to be shown throughout the installation process. Defaults to 'Drupal'.
\item exclusive: If the install profile is intended to be the only eligible choice in a distribution, setting exclusive = TRUE will auto-\/select it during installation, and the install profile selection screen will be skipped. If more than one profile is found where exclusive = TRUE then this property will have no effect and the profile selection screen will be shown as normal with all available profiles shown.
\end{DoxyItemize}

Note that this function does an expensive file system scan to get info file information for dependencies. If you only need information from the info file itself, use \hyperlink{system_8module_af54208dab08c482b465a7f10225ebbb7}{system\_\-get\_\-info()}.

Example of .info file: 
\begin{DoxyCode}
    name = Minimal
    description = Start fresh, with only a few modules enabled.
    dependencies[] = block
    dependencies[] = dblog
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
\item[{\em \$profile}]Name of profile. \item[{\em \$locale}]Name of locale used (if any).\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The info array. 
\end{DoxyReturn}
