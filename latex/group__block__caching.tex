\hypertarget{group__block__caching}{
\section{Block Caching}
\label{group__block__caching}\index{Block Caching@{Block Caching}}
}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__block__caching_ga49931c05c761ec8deb074dde3eb6649c}{DRUPAL\_\-NO\_\-CACHE} 
\item 
enum \hyperlink{group__block__caching_gaca17d982799dd205caa54b00e700db42}{DRUPAL\_\-CACHE\_\-CUSTOM} 
\item 
enum \hyperlink{group__block__caching_ga43d498e9607c4cdeb88d89341e0b3c3c}{DRUPAL\_\-CACHE\_\-PER\_\-ROLE} 
\item 
enum \hyperlink{group__block__caching_gaa50d399158badf0cda6ecbc3ff6707e9}{DRUPAL\_\-CACHE\_\-PER\_\-USER} 
\item 
enum \hyperlink{group__block__caching_gaf5ec7d2a686e7bf3be4cb308bdbe81cc}{DRUPAL\_\-CACHE\_\-PER\_\-PAGE} 
\item 
enum \hyperlink{group__block__caching_gae81ef75e407d08488a85f2b396292ce2}{DRUPAL\_\-CACHE\_\-GLOBAL} 
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Constants that define each block's caching state.

Modules specify how their blocks can be cached in their \hyperlink{group__hooks_ga2bd926c3e90deeba0c3ba64fb3c64d73}{hook\_\-block\_\-info()} implementations. Caching can be turned off (DRUPAL\_\-NO\_\-CACHE), managed by the module declaring the block (DRUPAL\_\-CACHE\_\-CUSTOM), or managed by the core Block module. If the Block module is managing the cache, you can specify that the block is the same for every page and user (DRUPAL\_\-CACHE\_\-GLOBAL), or that it can change depending on the page (DRUPAL\_\-CACHE\_\-PER\_\-PAGE) or by user (DRUPAL\_\-CACHE\_\-PER\_\-ROLE or DRUPAL\_\-CACHE\_\-PER\_\-USER). Page and user settings can be combined with a bitwise-\/binary or operator; for example, DRUPAL\_\-CACHE\_\-PER\_\-ROLE $|$ DRUPAL\_\-CACHE\_\-PER\_\-PAGE means that the block can change depending on the user role or page it is on.

The block cache is cleared in \hyperlink{includes_2cache_8inc_a409b34dd629640d791a11736a9de8125}{cache\_\-clear\_\-all()}, and uses the same clearing policy than page cache (node, comment, user, taxonomy added or updated...). Blocks requiring more fine-\/grained clearing might consider disabling the built-\/in block cache (DRUPAL\_\-NO\_\-CACHE) and roll their own.

Note that user 1 is excluded from block caching. 

\subsection{Enumeration Type Documentation}
\hypertarget{group__block__caching_gaca17d982799dd205caa54b00e700db42}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-CACHE\_\-CUSTOM@{DRUPAL\_\-CACHE\_\-CUSTOM}}
\index{DRUPAL\_\-CACHE\_\-CUSTOM@{DRUPAL\_\-CACHE\_\-CUSTOM}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-CACHE\_\-CUSTOM}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-CACHE\_\-CUSTOM}}}
\label{group__block__caching_gaca17d982799dd205caa54b00e700db42}
The block is handling its own caching in its \hyperlink{group__hooks_gaa14092a3e74cdc57aa295100cfd6860d}{hook\_\-block\_\-view()}.

This setting is useful when time based expiration is needed or a site uses a node access which invalidates standard block cache. \hypertarget{group__block__caching_gae81ef75e407d08488a85f2b396292ce2}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-CACHE\_\-GLOBAL@{DRUPAL\_\-CACHE\_\-GLOBAL}}
\index{DRUPAL\_\-CACHE\_\-GLOBAL@{DRUPAL\_\-CACHE\_\-GLOBAL}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-CACHE\_\-GLOBAL}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-CACHE\_\-GLOBAL}}}
\label{group__block__caching_gae81ef75e407d08488a85f2b396292ce2}
The block or element is the same for every user and page that it is visible. \hypertarget{group__block__caching_gaf5ec7d2a686e7bf3be4cb308bdbe81cc}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-CACHE\_\-PER\_\-PAGE@{DRUPAL\_\-CACHE\_\-PER\_\-PAGE}}
\index{DRUPAL\_\-CACHE\_\-PER\_\-PAGE@{DRUPAL\_\-CACHE\_\-PER\_\-PAGE}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-CACHE\_\-PER\_\-PAGE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-CACHE\_\-PER\_\-PAGE}}}
\label{group__block__caching_gaf5ec7d2a686e7bf3be4cb308bdbe81cc}
The block or element can change depending on the page being viewed. \hypertarget{group__block__caching_ga43d498e9607c4cdeb88d89341e0b3c3c}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-CACHE\_\-PER\_\-ROLE@{DRUPAL\_\-CACHE\_\-PER\_\-ROLE}}
\index{DRUPAL\_\-CACHE\_\-PER\_\-ROLE@{DRUPAL\_\-CACHE\_\-PER\_\-ROLE}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-CACHE\_\-PER\_\-ROLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-CACHE\_\-PER\_\-ROLE}}}
\label{group__block__caching_ga43d498e9607c4cdeb88d89341e0b3c3c}
The block or element can change depending on the user's roles.

This is the default setting for blocks, used when the block does not specify anything. \hypertarget{group__block__caching_gaa50d399158badf0cda6ecbc3ff6707e9}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-CACHE\_\-PER\_\-USER@{DRUPAL\_\-CACHE\_\-PER\_\-USER}}
\index{DRUPAL\_\-CACHE\_\-PER\_\-USER@{DRUPAL\_\-CACHE\_\-PER\_\-USER}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-CACHE\_\-PER\_\-USER}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-CACHE\_\-PER\_\-USER}}}
\label{group__block__caching_gaa50d399158badf0cda6ecbc3ff6707e9}
The block or element can change depending on the user.

This setting can be resource-\/consuming for sites with large number of users, and thus should only be used when DRUPAL\_\-CACHE\_\-PER\_\-ROLE is not sufficient. \hypertarget{group__block__caching_ga49931c05c761ec8deb074dde3eb6649c}{
\index{block\_\-caching@{block\_\-caching}!DRUPAL\_\-NO\_\-CACHE@{DRUPAL\_\-NO\_\-CACHE}}
\index{DRUPAL\_\-NO\_\-CACHE@{DRUPAL\_\-NO\_\-CACHE}!block_caching@{block\_\-caching}}
\subsubsection[{DRUPAL\_\-NO\_\-CACHE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf DRUPAL\_\-NO\_\-CACHE}}}
\label{group__block__caching_ga49931c05c761ec8deb074dde3eb6649c}
The block should not get cached.

This setting should be used:
\begin{DoxyItemize}
\item For simple blocks (notably those that do not perform any db query), where querying the db cache would be more expensive than directly generating the content.
\item For blocks that change too frequently. 
\end{DoxyItemize}