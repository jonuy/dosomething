\hypertarget{group__field__crud}{
\section{Field CRUD API}
\label{group__field__crud}\index{Field CRUD API@{Field CRUD API}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__field__crud_ga925648157864b55f553f5d2d31e2bf1b}{hook\_\-field\_\-create\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_ga199cb6235866c98ab74a6680bb00b17a}{hook\_\-field\_\-create\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_ga7bd0ccd40a9a3690b697b68d03f660a4}{hook\_\-field\_\-update\_\-forbid} (\$field, \$prior\_\-field, \$has\_\-data)
\item 
\hyperlink{group__field__crud_ga4f06c14e6fb60ec1903c005ddbb4ee83}{hook\_\-field\_\-update\_\-field} (\$field, \$prior\_\-field, \$has\_\-data)
\item 
\hyperlink{group__field__crud_gacc586bd79943816012827d165b668aab}{hook\_\-field\_\-delete\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_gadac9cbd13f55714dbf8fc2a98227f6e3}{hook\_\-field\_\-update\_\-instance} (\$instance, \$prior\_\-instance)
\item 
\hyperlink{group__field__crud_gae351ac9408b7c2e8bfefd9ebca5ab7f5}{hook\_\-field\_\-delete\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_gaef26e203f796171adad2a4d3ffa9eb3f}{hook\_\-field\_\-read\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_gaf3812ab3837b9b2757dd3d7a1dfb2153}{hook\_\-field\_\-read\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_ga3ffd215689e7cb41bcf9b79f8a65eab0}{hook\_\-field\_\-purge\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_gaefbe3afc4ad006fb3566204930f0e186}{hook\_\-field\_\-purge\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_gaf58b7071fdeee08fb4edadc127eecd5d}{hook\_\-field\_\-storage\_\-purge\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_ga9634594ee1edc36db59d2e87abfaf193}{hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_gab26211d5d58698d2446bfd855f6137c9}{hook\_\-field\_\-storage\_\-purge} (\$entity\_\-type, \$entity, \$field, \$instance)
\item 
\hyperlink{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{field\_\-create\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_gacca7d1f76963048aa84b1c9a271876f5}{field\_\-update\_\-field} (\$field)
\item 
\hyperlink{group__field__crud_ga65901c0b18f1d074852b3fb0ba93cabb}{field\_\-read\_\-field} (\$field\_\-name, \$include\_\-additional=array())
\item 
\hyperlink{group__field__crud_ga0dae5c311ea301668c8906d2711fb3c5}{field\_\-read\_\-fields} (\$params=array(), \$include\_\-additional=array())
\item 
\hyperlink{group__field__crud_gaa4792fd8f5f651b985dec7eca250f0f1}{field\_\-delete\_\-field} (\$field\_\-name)
\item 
\hyperlink{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{field\_\-create\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_ga34a5c5247a19f6732f71aa1d67c1709d}{field\_\-update\_\-instance} (\$instance)
\item 
\hyperlink{group__field__crud_ga83dc14176ea710466ba351c1883074c9}{\_\-field\_\-write\_\-instance} (\$instance, \$update=FALSE)
\item 
\hyperlink{group__field__crud_ga7adc13c0c90428380e99dd3a0dd07737}{field\_\-read\_\-instance} (\$entity\_\-type, \$field\_\-name, \$bundle, \$include\_\-additional=array())
\item 
\hyperlink{group__field__crud_ga1d162c4a29778ee31d1d815324223ae6}{field\_\-read\_\-instances} (\$params=array(), \$include\_\-additional=array())
\item 
\hyperlink{group__field__crud_ga16bf0e2a15b20b066ff84403b5f24bf5}{field\_\-delete\_\-instance} (\$instance, \$field\_\-cleanup=TRUE)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Create, update, and delete Field API fields, bundles, and instances.

Modules use this API, often in \hyperlink{group__hooks_ga1ecdb5a2a046ea63dc790c3ed90338e5}{hook\_\-install()}, to create custom data structures. UI modules will use it to create a user interface.

The Field CRUD API uses \hyperlink{group__field}{Field API data structures }.

See \hyperlink{group__field}{Field API } for information about the other parts of the Field API.

End of \char`\"{}addtogroup field\_\-storage\char`\"{}. 

\subsection{Function Documentation}
\hypertarget{group__field__crud_ga83dc14176ea710466ba351c1883074c9}{
\index{field\_\-crud@{field\_\-crud}!\_\-field\_\-write\_\-instance@{\_\-field\_\-write\_\-instance}}
\index{\_\-field\_\-write\_\-instance@{\_\-field\_\-write\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{\_\-field\_\-write\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}\_\-field\_\-write\_\-instance (\$ {\em instance}, \/  \$ {\em update} = {\ttfamily FALSE})}}
\label{group__field__crud_ga83dc14176ea710466ba351c1883074c9}
Stores an instance record in the field configuration database.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]An instance structure. \item[{\em \$update}]Whether this is a new or existing instance. \end{DoxyParams}
\hypertarget{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{
\index{field\_\-crud@{field\_\-crud}!field\_\-create\_\-field@{field\_\-create\_\-field}}
\index{field\_\-create\_\-field@{field\_\-create\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-create\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-create\_\-field (\$ {\em field})}}
\label{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}
Creates a field.

This function does not bind the field to any bundle; use \hyperlink{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{field\_\-create\_\-instance()} for that.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]A field definition array. The field\_\-name and type properties are required. Other properties, if omitted, will be given the following default values:
\begin{DoxyItemize}
\item cardinality: 1
\item locked: FALSE
\item indexes: the field-\/type indexes, specified by the field type's \hyperlink{group__field__types_gaae7d9348e56f207a8be0b866d25252b7}{hook\_\-field\_\-schema()}. The indexes specified in \$field are added to those default indexes. It is possible to override the definition of a field-\/type index by providing an index with the same name, or to remove it by redefining it as an empty array of columns. Overriding field-\/type indexes should be done carefully, for it might seriously affect the site's performance.
\item settings: each omitted setting is given the default value defined in \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()}.
\item storage:
\begin{DoxyItemize}
\item type: the storage backend specified in the 'field\_\-storage\_\-default' system variable.
\item settings: each omitted setting is given the default value specified in \hyperlink{group__field__storage_gadc5bfde3133504e946bb0aae8babe6f3}{hook\_\-field\_\-storage\_\-info()}.
\end{DoxyItemize}
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \$field array with the id property filled in.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classFieldException}{FieldException}}]See: \hyperlink{group__field}{Field API data structures }. \end{DoxyExceptions}
\hypertarget{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{
\index{field\_\-crud@{field\_\-crud}!field\_\-create\_\-instance@{field\_\-create\_\-instance}}
\index{field\_\-create\_\-instance@{field\_\-create\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-create\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-create\_\-instance (\$ {\em instance})}}
\label{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}
Creates an instance of a field, binding it to a bundle.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]A field instance definition array. The field\_\-name, entity\_\-type and bundle properties are required. Other properties, if omitted, will be given the following default values:
\begin{DoxyItemize}
\item label: the field name
\item description: empty string
\item required: FALSE
\item default\_\-value\_\-function: empty string
\item settings: each omitted setting is given the default value specified in \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()}.
\item widget:
\begin{DoxyItemize}
\item type: the default widget specified in \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()}.
\item settings: each omitted setting is given the default value specified in \hyperlink{group__field__widget_gac53aa6c2a4ac1215660d25b5d7f20792}{hook\_\-field\_\-widget\_\-info()}.
\end{DoxyItemize}
\item display: Settings for the 'default' \hyperlink{classview}{view} mode will be added if not present, and each \hyperlink{classview}{view} mode in the definition will be completed with the following default values:
\begin{DoxyItemize}
\item label: 'above'
\item type: the default formatter specified in \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()}.
\item settings: each omitted setting is given the default value specified in \hyperlink{group__field__formatter_ga2f5aa1c7455f55dffd84a48efa57f987}{hook\_\-field\_\-formatter\_\-info()}. View modes not present in the definition are left empty, and the field will not be displayed in this mode.
\end{DoxyItemize}
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \$instance array with the id property filled in.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classFieldException}{FieldException}}]See: \hyperlink{group__field}{Field API data structures }. \end{DoxyExceptions}
\hypertarget{group__field__crud_gaa4792fd8f5f651b985dec7eca250f0f1}{
\index{field\_\-crud@{field\_\-crud}!field\_\-delete\_\-field@{field\_\-delete\_\-field}}
\index{field\_\-delete\_\-field@{field\_\-delete\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-delete\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-delete\_\-field (\$ {\em field\_\-name})}}
\label{group__field__crud_gaa4792fd8f5f651b985dec7eca250f0f1}
Marks a field and its instances and data for deletion.


\begin{DoxyParams}{Parameters}
\item[{\em \$field\_\-name}]The field name to delete. \end{DoxyParams}
\hypertarget{group__field__crud_ga16bf0e2a15b20b066ff84403b5f24bf5}{
\index{field\_\-crud@{field\_\-crud}!field\_\-delete\_\-instance@{field\_\-delete\_\-instance}}
\index{field\_\-delete\_\-instance@{field\_\-delete\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-delete\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-delete\_\-instance (\$ {\em instance}, \/  \$ {\em field\_\-cleanup} = {\ttfamily TRUE})}}
\label{group__field__crud_ga16bf0e2a15b20b066ff84403b5f24bf5}
Marks a field instance and its data for deletion.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]An instance structure. \item[{\em \$field\_\-cleanup}]If TRUE, the field will be deleted as well if its last instance is being deleted. If FALSE, it is the caller's responsibility to handle the case of fields left without instances. Defaults to TRUE. \end{DoxyParams}
\hypertarget{group__field__crud_ga65901c0b18f1d074852b3fb0ba93cabb}{
\index{field\_\-crud@{field\_\-crud}!field\_\-read\_\-field@{field\_\-read\_\-field}}
\index{field\_\-read\_\-field@{field\_\-read\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-read\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-read\_\-field (\$ {\em field\_\-name}, \/  \$ {\em include\_\-additional} = {\ttfamily array()})}}
\label{group__field__crud_ga65901c0b18f1d074852b3fb0ba93cabb}
Reads a single field record directly from the database.

Generally, you should use the \hyperlink{group__field__info_ga74cfc942cd2baa5c49780b08c5d357d4}{field\_\-info\_\-field()} instead.

This function will not return deleted fields. Use \hyperlink{group__field__crud_ga0dae5c311ea301668c8906d2711fb3c5}{field\_\-read\_\-fields()} instead for this purpose.


\begin{DoxyParams}{Parameters}
\item[{\em \$field\_\-name}]The field name to read. \item[{\em array}]\$include\_\-additional The default behavior of this function is to not return a field that is inactive. Setting \$include\_\-additional\mbox{[}'include\_\-inactive'\mbox{]} to TRUE will override this behavior. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
A field definition array, or FALSE. 
\end{DoxyReturn}
\hypertarget{group__field__crud_ga0dae5c311ea301668c8906d2711fb3c5}{
\index{field\_\-crud@{field\_\-crud}!field\_\-read\_\-fields@{field\_\-read\_\-fields}}
\index{field\_\-read\_\-fields@{field\_\-read\_\-fields}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-read\_\-fields}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-read\_\-fields (\$ {\em params} = {\ttfamily array()}, \/  \$ {\em include\_\-additional} = {\ttfamily array()})}}
\label{group__field__crud_ga0dae5c311ea301668c8906d2711fb3c5}
Reads in fields that match an array of conditions.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$params An array of conditions to match against. Keys are columns from the 'field\_\-config' table, values are conditions to match. Additionally, conditions on the 'entity\_\-type' and 'bundle' columns from the 'field\_\-config\_\-instance' table are supported (select fields having an instance on a given bundle). \item[{\em array}]\$include\_\-additional The default behavior of this function is to not return fields that are inactive or have been deleted. Setting \$include\_\-additional\mbox{[}'include\_\-inactive'\mbox{]} or \$include\_\-additional\mbox{[}'include\_\-deleted'\mbox{]} to TRUE will override this behavior. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of fields matching \$params. If \$include\_\-additional\mbox{[}'include\_\-deleted'\mbox{]} is TRUE, the array is keyed by field id, otherwise it is keyed by field name. 
\end{DoxyReturn}
\hypertarget{group__field__crud_ga7adc13c0c90428380e99dd3a0dd07737}{
\index{field\_\-crud@{field\_\-crud}!field\_\-read\_\-instance@{field\_\-read\_\-instance}}
\index{field\_\-read\_\-instance@{field\_\-read\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-read\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-read\_\-instance (\$ {\em entity\_\-type}, \/  \$ {\em field\_\-name}, \/  \$ {\em bundle}, \/  \$ {\em include\_\-additional} = {\ttfamily array()})}}
\label{group__field__crud_ga7adc13c0c90428380e99dd3a0dd07737}
Reads a single instance record from the database.

Generally, you should use \hyperlink{group__field__info_ga7d4361ece7a9a8be980e3fd4a6307564}{field\_\-info\_\-instance()} instead, as it provides caching and allows other modules the opportunity to append additional formatters, widgets, and other information.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of entity to which the field is bound. \item[{\em \$field\_\-name}]The field name to read. \item[{\em \$bundle}]The bundle to which the field is bound. \item[{\em array}]\$include\_\-additional The default behavior of this function is to not return an instance that has been deleted, or whose field is inactive. Setting \$include\_\-additional\mbox{[}'include\_\-inactive'\mbox{]} or \$include\_\-additional\mbox{[}'include\_\-deleted'\mbox{]} to TRUE will override this behavior. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
An instance structure, or FALSE. 
\end{DoxyReturn}
\hypertarget{group__field__crud_ga1d162c4a29778ee31d1d815324223ae6}{
\index{field\_\-crud@{field\_\-crud}!field\_\-read\_\-instances@{field\_\-read\_\-instances}}
\index{field\_\-read\_\-instances@{field\_\-read\_\-instances}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-read\_\-instances}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-read\_\-instances (\$ {\em params} = {\ttfamily array()}, \/  \$ {\em include\_\-additional} = {\ttfamily array()})}}
\label{group__field__crud_ga1d162c4a29778ee31d1d815324223ae6}
Reads in field instances that match an array of conditions.


\begin{DoxyParams}{Parameters}
\item[{\em \$param}]An array of properties to use in selecting a field instance. Valid keys include any column of the field\_\-config\_\-instance table. If NULL, all instances will be returned. \item[{\em \$include\_\-additional}]The default behavior of this function is to not return field instances that have been marked deleted, or whose field is inactive. Setting \$include\_\-additional\mbox{[}'include\_\-inactive'\mbox{]} or \$include\_\-additional\mbox{[}'include\_\-deleted'\mbox{]} to TRUE will override this behavior. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of instances matching the arguments. 
\end{DoxyReturn}
\hypertarget{group__field__crud_gacca7d1f76963048aa84b1c9a271876f5}{
\index{field\_\-crud@{field\_\-crud}!field\_\-update\_\-field@{field\_\-update\_\-field}}
\index{field\_\-update\_\-field@{field\_\-update\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-update\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-update\_\-field (\$ {\em field})}}
\label{group__field__crud_gacca7d1f76963048aa84b1c9a271876f5}
Updates a field.

Any module may forbid any update for any reason. For example, the field's storage module might forbid an update if it would change the storage schema while data for the field exists. A field type module might forbid an update if it would change existing data's semantics, or if there are external dependencies on field settings that cannot be updated.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]A field structure. \$field\mbox{[}'field\_\-name'\mbox{]} must provided; it identifies the field that will be updated to match this structure. Any other properties of the field that are not specified in \$field will be left unchanged, so it is not necessary to pass in a fully populated \$field structure. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Throws a \hyperlink{classFieldException}{FieldException} if the update cannot be performed. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{field\_\-create\_\-field()} 
\end{DoxySeeAlso}
\hypertarget{group__field__crud_ga34a5c5247a19f6732f71aa1d67c1709d}{
\index{field\_\-crud@{field\_\-crud}!field\_\-update\_\-instance@{field\_\-update\_\-instance}}
\index{field\_\-update\_\-instance@{field\_\-update\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{field\_\-update\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}field\_\-update\_\-instance (\$ {\em instance})}}
\label{group__field__crud_ga34a5c5247a19f6732f71aa1d67c1709d}
Updates an instance of a field.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]An associative array representing an instance structure. The following required array elements specify which field instance is being updated:
\begin{DoxyItemize}
\item entity\_\-type: The type of the entity the field is attached to.
\item bundle: The bundle this field belongs to.
\item field\_\-name: The name of an existing field. The other array elements represent properties of the instance, and all properties must be specified or their default values will be used (except internal-\/use properties, which are assigned automatically). To avoid losing the previously stored properties of the instance when making a change, first load the instance with \hyperlink{group__field__info_ga7d4361ece7a9a8be980e3fd4a6307564}{field\_\-info\_\-instance()}, then override the values you want to override, and finally save using this function. Example: 
\begin{DoxyCode}
   // Fetch an instance info array.
   $instance_info = field_info_instance($entity_type, $field_name, $bundle_name);
      
   // Change a single property in the instance definition.
   $instance_info['definition']['required'] = TRUE;
   // Write the changed definition back.
   field_update_instance($instance_info['definition']);
\end{DoxyCode}

\end{DoxyItemize}\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classFieldException}{FieldException}}]\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__info_ga7d4361ece7a9a8be980e3fd4a6307564}{field\_\-info\_\-instance()} 

\hyperlink{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{field\_\-create\_\-instance()} 
\end{DoxySeeAlso}
\hypertarget{group__field__crud_ga925648157864b55f553f5d2d31e2bf1b}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-create\_\-field@{hook\_\-field\_\-create\_\-field}}
\index{hook\_\-field\_\-create\_\-field@{hook\_\-field\_\-create\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-create\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-create\_\-field (\$ {\em field})}}
\label{group__field__crud_ga925648157864b55f553f5d2d31e2bf1b}
Act on a field being created.

This hook is invoked from \hyperlink{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{field\_\-create\_\-field()} after the field is created, to allow modules to act on field creation.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field just created. \end{DoxyParams}
\hypertarget{group__field__crud_ga199cb6235866c98ab74a6680bb00b17a}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-create\_\-instance@{hook\_\-field\_\-create\_\-instance}}
\index{hook\_\-field\_\-create\_\-instance@{hook\_\-field\_\-create\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-create\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-create\_\-instance (\$ {\em instance})}}
\label{group__field__crud_ga199cb6235866c98ab74a6680bb00b17a}
Act on a field instance being created.

This hook is invoked from \hyperlink{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{field\_\-create\_\-instance()} after the instance record is saved, so it cannot be used to modify the instance itself.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance just created. \end{DoxyParams}
\hypertarget{group__field__crud_gacc586bd79943816012827d165b668aab}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-delete\_\-field@{hook\_\-field\_\-delete\_\-field}}
\index{hook\_\-field\_\-delete\_\-field@{hook\_\-field\_\-delete\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-delete\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-delete\_\-field (\$ {\em field})}}
\label{group__field__crud_gacc586bd79943816012827d165b668aab}
Act on a field being deleted.

This hook is invoked just after a field is deleted by \hyperlink{group__field__crud_gaa4792fd8f5f651b985dec7eca250f0f1}{field\_\-delete\_\-field()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field just deleted. \end{DoxyParams}
\hypertarget{group__field__crud_gae351ac9408b7c2e8bfefd9ebca5ab7f5}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-delete\_\-instance@{hook\_\-field\_\-delete\_\-instance}}
\index{hook\_\-field\_\-delete\_\-instance@{hook\_\-field\_\-delete\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-delete\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-delete\_\-instance (\$ {\em instance})}}
\label{group__field__crud_gae351ac9408b7c2e8bfefd9ebca5ab7f5}
Act on a field instance being deleted.

This hook is invoked from \hyperlink{group__field__crud_ga16bf0e2a15b20b066ff84403b5f24bf5}{field\_\-delete\_\-instance()} after the instance is deleted.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance just deleted. \end{DoxyParams}
\hypertarget{group__field__crud_ga3ffd215689e7cb41bcf9b79f8a65eab0}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-purge\_\-field@{hook\_\-field\_\-purge\_\-field}}
\index{hook\_\-field\_\-purge\_\-field@{hook\_\-field\_\-purge\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-purge\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-purge\_\-field (\$ {\em field})}}
\label{group__field__crud_ga3ffd215689e7cb41bcf9b79f8a65eab0}
Acts when a field record is being purged.

In \hyperlink{group__field__purge_gac52122a65da997921f3a6a8f45deddbf}{field\_\-purge\_\-field()}, after the field configuration has been removed from the database, the field storage module has had a chance to run its \hyperlink{group__field__crud_gaf58b7071fdeee08fb4edadc127eecd5d}{hook\_\-field\_\-storage\_\-purge\_\-field()}, and the field info cache has been cleared, this hook is invoked on all modules to allow them to respond to the field being purged.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field being purged. \end{DoxyParams}
\hypertarget{group__field__crud_gaefbe3afc4ad006fb3566204930f0e186}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-purge\_\-instance@{hook\_\-field\_\-purge\_\-instance}}
\index{hook\_\-field\_\-purge\_\-instance@{hook\_\-field\_\-purge\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-purge\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-purge\_\-instance (\$ {\em instance})}}
\label{group__field__crud_gaefbe3afc4ad006fb3566204930f0e186}
Acts when a field instance is being purged.

In \hyperlink{group__field__purge_ga766cee439c7c920d3d406c7af41c8968}{field\_\-purge\_\-instance()}, after the field instance has been removed from the database, the field storage module has had a chance to run its hook\_\-field\_\-storage\_\-purge\_\-instance(), and the field info cache has been cleared, this hook is invoked on all modules to allow them to respond to the field instance being purged.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance being purged. \end{DoxyParams}
\hypertarget{group__field__crud_gaef26e203f796171adad2a4d3ffa9eb3f}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-read\_\-field@{hook\_\-field\_\-read\_\-field}}
\index{hook\_\-field\_\-read\_\-field@{hook\_\-field\_\-read\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-read\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-read\_\-field (\$ {\em field})}}
\label{group__field__crud_gaef26e203f796171adad2a4d3ffa9eb3f}
Act on field records being read from the database.

This hook is invoked from \hyperlink{group__field__crud_ga0dae5c311ea301668c8906d2711fb3c5}{field\_\-read\_\-fields()} on each field being read.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field record just read from the database. \end{DoxyParams}
\hypertarget{group__field__crud_gaf3812ab3837b9b2757dd3d7a1dfb2153}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-read\_\-instance@{hook\_\-field\_\-read\_\-instance}}
\index{hook\_\-field\_\-read\_\-instance@{hook\_\-field\_\-read\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-read\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-read\_\-instance (\$ {\em instance})}}
\label{group__field__crud_gaf3812ab3837b9b2757dd3d7a1dfb2153}
Act on a field record being read from the database.

This hook is invoked from \hyperlink{group__field__crud_ga1d162c4a29778ee31d1d815324223ae6}{field\_\-read\_\-instances()} on each instance being read.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance record just read from the database. \end{DoxyParams}
\hypertarget{group__field__crud_gab26211d5d58698d2446bfd855f6137c9}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-storage\_\-purge@{hook\_\-field\_\-storage\_\-purge}}
\index{hook\_\-field\_\-storage\_\-purge@{hook\_\-field\_\-storage\_\-purge}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-storage\_\-purge}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-storage\_\-purge (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance})}}
\label{group__field__crud_gab26211d5d58698d2446bfd855f6137c9}
Remove field storage information when field data is purged.

Called from \hyperlink{group__field__purge_ga93ec2f273b56141a5079bfaf25d6b80e}{field\_\-purge\_\-data()} to allow the field storage module to delete field data information.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity; for example, 'node' or 'user'. \item[{\em \$entity}]The pseudo-\/entity whose field data to delete. \item[{\em \$field}]The (possibly deleted) field whose data is being purged. \item[{\em \$instance}]The deleted field instance whose data is being purged. \end{DoxyParams}
\hypertarget{group__field__crud_gaf58b7071fdeee08fb4edadc127eecd5d}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-storage\_\-purge\_\-field@{hook\_\-field\_\-storage\_\-purge\_\-field}}
\index{hook\_\-field\_\-storage\_\-purge\_\-field@{hook\_\-field\_\-storage\_\-purge\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-storage\_\-purge\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-storage\_\-purge\_\-field (\$ {\em field})}}
\label{group__field__crud_gaf58b7071fdeee08fb4edadc127eecd5d}
Remove field storage information when a field record is purged.

Called from \hyperlink{group__field__purge_gac52122a65da997921f3a6a8f45deddbf}{field\_\-purge\_\-field()} to allow the field storage module to remove field information when a field is being purged.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field being purged. \end{DoxyParams}
\hypertarget{group__field__crud_ga9634594ee1edc36db59d2e87abfaf193}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance@{hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance}}
\index{hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance@{hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-storage\_\-purge\_\-field\_\-instance (\$ {\em instance})}}
\label{group__field__crud_ga9634594ee1edc36db59d2e87abfaf193}
Remove field storage information when a field instance is purged.

Called from \hyperlink{group__field__purge_ga766cee439c7c920d3d406c7af41c8968}{field\_\-purge\_\-instance()} to allow the field storage module to remove field instance information when a field instance is being purged.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance being purged. \end{DoxyParams}
\hypertarget{group__field__crud_ga4f06c14e6fb60ec1903c005ddbb4ee83}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-update\_\-field@{hook\_\-field\_\-update\_\-field}}
\index{hook\_\-field\_\-update\_\-field@{hook\_\-field\_\-update\_\-field}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-update\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-update\_\-field (\$ {\em field}, \/  \$ {\em prior\_\-field}, \/  \$ {\em has\_\-data})}}
\label{group__field__crud_ga4f06c14e6fb60ec1903c005ddbb4ee83}
Act on a field being updated.

This hook is invoked just after field is updated in \hyperlink{group__field__crud_gacca7d1f76963048aa84b1c9a271876f5}{field\_\-update\_\-field()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field as it is post-\/update. \item[{\em \$prior\_\-field}]The field as it was pre-\/update. \item[{\em \$has\_\-data}]Whether any data already exists for this field. \end{DoxyParams}
\hypertarget{group__field__crud_ga7bd0ccd40a9a3690b697b68d03f660a4}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-update\_\-forbid@{hook\_\-field\_\-update\_\-forbid}}
\index{hook\_\-field\_\-update\_\-forbid@{hook\_\-field\_\-update\_\-forbid}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-update\_\-forbid}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-update\_\-forbid (\$ {\em field}, \/  \$ {\em prior\_\-field}, \/  \$ {\em has\_\-data})}}
\label{group__field__crud_ga7bd0ccd40a9a3690b697b68d03f660a4}
Forbid a field update from occurring.

Any module may forbid any update for any reason. For example, the field's storage module might forbid an update if it would change the storage schema while data for the field exists. A field type module might forbid an update if it would change existing data's semantics, or if there are external dependencies on field settings that cannot be updated.

To forbid the update from occurring, throw a \hyperlink{classFieldUpdateForbiddenException}{FieldUpdateForbiddenException}.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field as it will be post-\/update. \item[{\em \$prior\_\-field}]The field as it is pre-\/update. \item[{\em \$has\_\-data}]Whether any data already exists for this field. \end{DoxyParams}
\hypertarget{group__field__crud_gadac9cbd13f55714dbf8fc2a98227f6e3}{
\index{field\_\-crud@{field\_\-crud}!hook\_\-field\_\-update\_\-instance@{hook\_\-field\_\-update\_\-instance}}
\index{hook\_\-field\_\-update\_\-instance@{hook\_\-field\_\-update\_\-instance}!field_crud@{field\_\-crud}}
\subsubsection[{hook\_\-field\_\-update\_\-instance}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-update\_\-instance (\$ {\em instance}, \/  \$ {\em prior\_\-instance})}}
\label{group__field__crud_gadac9cbd13f55714dbf8fc2a98227f6e3}
Act on a field instance being updated.

This hook is invoked from \hyperlink{group__field__crud_ga34a5c5247a19f6732f71aa1d67c1709d}{field\_\-update\_\-instance()} after the instance record is saved, so it cannot be used by a module to modify the instance itself.


\begin{DoxyParams}{Parameters}
\item[{\em \$instance}]The instance as it is post-\/update. \item[{\em \$prior\_\-instance}]The instance as it was pre-\/update. \end{DoxyParams}
