\hypertarget{group__form__api}{
\section{Form generation}
\label{group__form__api}\index{Form generation@{Form generation}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form} (\$form\_\-id)
\item 
\hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form} (\$form\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga398705411ef7b0f88e08253a56683987}{form\_\-state\_\-defaults} ()
\item 
\hyperlink{group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7}{drupal\_\-rebuild\_\-form} (\$form\_\-id, \&\$form\_\-state, \$old\_\-form=NULL)
\item 
\hyperlink{group__form__api_gab1da3001a3773a949188b52f61a9cd09}{form\_\-get\_\-cache} (\$form\_\-build\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga274fe9a7fe000a43b7f173e3b54dae7f}{form\_\-set\_\-cache} (\$form\_\-build\_\-id, \$form, \$form\_\-state)
\item 
\hyperlink{group__form__api_gabffb5c6a1218bb14db316fe29c4e52af}{form\_\-state\_\-keys\_\-no\_\-cache} ()
\item 
\hyperlink{group__form__api_ga9c29fd030cf29d55e40f849de8dde040}{form\_\-load\_\-include} (\&\$form\_\-state, \$type, \$module, \$name=NULL)
\item 
\hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit} (\$form\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga82f16e1c86833aa88bf93adf93bae9bb}{drupal\_\-retrieve\_\-form} (\$form\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga61186f5c43533761544a778918818fd2}{drupal\_\-process\_\-form} (\$form\_\-id, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga79309515217249c16c7e4a7117141120}{drupal\_\-prepare\_\-form} (\$form\_\-id, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34}{drupal\_\-validate\_\-form} (\$form\_\-id, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{drupal\_\-redirect\_\-form} (\$form\_\-state)
\item 
\hyperlink{group__form__api_ga464b4724506722d2a2d482df27736357}{\_\-form\_\-validate} (\&\$elements, \&\$form\_\-state, \$form\_\-id=NULL)
\item 
\hyperlink{group__form__api_ga9e32d49f4ca85da10a29dcfec27dd526}{form\_\-execute\_\-handlers} (\$type, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga6f4ecbec42e905390e521b393417f97f}{form\_\-set\_\-error} (\$name=NULL, \$message= '', \$limit\_\-validation\_\-errors=NULL)
\item 
\hyperlink{group__form__api_ga0e498e7fdd19cabd0b76efbea3e36bba}{form\_\-clear\_\-error} ()
\item 
\hyperlink{group__form__api_ga158b3db5e88e96bf060c524cebcb8130}{form\_\-get\_\-errors} ()
\item 
\hyperlink{group__form__api_gae57581ad2406d61116a133b99142283b}{form\_\-get\_\-error} (\$element)
\item 
\hyperlink{group__form__api_ga0e6b470194005ad3ff2fbf45f671dfa9}{form\_\-error} (\&\$element, \$message= '')
\item 
\hyperlink{group__form__api_gae839323ba1c81ba86030b496fee24f7d}{form\_\-builder} (\$form\_\-id, \&\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga908b7f94c6c9a0ef07a62466c6c196d7}{\_\-form\_\-builder\_\-handle\_\-input\_\-element} (\$form\_\-id, \&\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga8ce84d64b9ae0576619ec4399cee2b35}{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga3f83a917fae34f718032f4a104bc6b36}{\_\-form\_\-button\_\-was\_\-clicked} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga012a73101cc9e2bfbb9e9a41c4e0a723}{form\_\-state\_\-values\_\-clean} (\&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga504ddd599ddb4a4992638ec6afb7cd40}{form\_\-type\_\-image\_\-button\_\-value} (\$form, \$input, \$form\_\-state)
\item 
\hyperlink{group__form__api_gae6014b94202e1d6e5c55421fc5b7d368}{form\_\-type\_\-checkbox\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_gaab8c7b8878c056d35d6000bb0fab3b2b}{form\_\-type\_\-checkboxes\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_gad36759844e875d35e1e220e90c460984}{form\_\-type\_\-tableselect\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_gaf0ad41f155f7ae8eae8386f3702b56f8}{form\_\-type\_\-radios\_\-value} (\&\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_ga3e473dba683cd32c95de1193f2a8fb94}{form\_\-type\_\-password\_\-confirm\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_ga244474506f87e80bc91f5d1e3be2a35e}{form\_\-type\_\-select\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_gaf2e351ecad2b3f0a3b319d110bf4b84b}{form\_\-type\_\-textfield\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_ga0f9d352bfa7b36285b8ba1bf9fe3c9ca}{form\_\-type\_\-token\_\-value} (\$element, \$input=FALSE)
\item 
\hyperlink{group__form__api_ga2a377a1fcccea79d06d1a735dea433f3}{form\_\-set\_\-value} (\$element, \$value, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga683d5114e3e455ffee9bbfbb8b947bb7}{form\_\-options\_\-flatten} (\$array)
\item 
\hyperlink{group__form__api_gabd44cc736d333ca82ef8c6d1dba2dc96}{\_\-form\_\-options\_\-flatten} (\$array)
\item 
\hyperlink{group__form__api_ga1a2156b4aa18f567264d8c7aafd85dca}{form\_\-process\_\-select} (\$element)
\item 
\hyperlink{group__form__api_ga018022f493d295538cb6d8d312dab866}{form\_\-select\_\-options} (\$element, \$choices=NULL)
\item 
\hyperlink{group__form__api_ga88bf27e1f6246789acc77dd1686e0276}{form\_\-get\_\-options} (\$element, \$key)
\item 
\hyperlink{group__form__api_gae3a3dcd1a5e4e44c5c03bb1426066596}{form\_\-process\_\-password\_\-confirm} (\$element)
\item 
\hyperlink{group__form__api_gafa275652bc0a5641a124bc60727caa8a}{password\_\-confirm\_\-validate} (\$element, \&\$element\_\-state)
\item 
\hyperlink{group__form__api_gabc6b74cff84954f970d4997390473160}{form\_\-process\_\-date} (\$element)
\item 
\hyperlink{group__form__api_ga2a44cde876324e1333edb5fda5799c83}{date\_\-validate} (\$element)
\item 
\hyperlink{group__form__api_ga11e3cb67c8622b662acc4dff61e146a7}{map\_\-month} (\$month)
\item 
\hyperlink{group__form__api_gad80eba4897b841808cb71e6ba97603b2}{weight\_\-value} (\&\$form)
\item 
\hyperlink{group__form__api_ga61392e82fbc6eeeaf967b864da098ebc}{form\_\-process\_\-radios} (\$element)
\item 
\hyperlink{group__form__api_gac0bc3f3520adb84698903c4d0078fe2c}{form\_\-pre\_\-render\_\-conditional\_\-form\_\-element} (\$element)
\item 
\hyperlink{group__form__api_gab1a1b30f07888d0fa0de8b8222ee7994}{form\_\-process\_\-checkbox} (\$element, \$form\_\-state)
\item 
\hyperlink{group__form__api_ga916a0224fe0771749af2c05dfdb13df1}{form\_\-process\_\-checkboxes} (\$element)
\item 
\hyperlink{group__form__api_ga32dae38034437282e774ecf9436fcdaa}{form\_\-process\_\-actions} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga8a121eab47e8d864fcc62f8d8443f501}{form\_\-process\_\-container} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga4dc085d5191106b1a649c6df67feee30}{form\_\-process\_\-tableselect} (\$element)
\item 
\hyperlink{group__form__api_gacc2045f1fc86919221685bd809d22812}{form\_\-process\_\-machine\_\-name} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga22965a0e68fef7765e0eb2c475440e55}{form\_\-validate\_\-machine\_\-name} (\&\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_gae2acfa7f531c487ac930d3a819ee63b5}{form\_\-process\_\-fieldset} (\&\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga10c77d235a5451895a3d2862b1ff4e34}{form\_\-pre\_\-render\_\-fieldset} (\$element)
\item 
\hyperlink{group__form__api_gaad2f405e02e146b5cfe75912a67964d6}{form\_\-process\_\-vertical\_\-tabs} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga8d816602aa24f851579022bb37feac42}{form\_\-process\_\-weight} (\$element)
\item 
\hyperlink{group__form__api_gac8800bdf25db7c100ccf2fd0dcbb25f0}{\_\-form\_\-set\_\-class} (\&\$element, \$class=array())
\item 
\hyperlink{group__form__api_ga6fffa62178c1fc94329e142b083e9b1c}{element\_\-validate\_\-integer} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_gad8feb4fd6d8404783042cde1146f53cf}{element\_\-validate\_\-integer\_\-positive} (\$element, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga64f40a7bf432284ba5b15021445abd86}{element\_\-validate\_\-number} (\$element, \&\$form\_\-state)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions to enable the processing and display of HTML forms.

Drupal uses these functions to achieve consistency in its form processing and presentation, while simplifying code and reducing the amount of HTML that must be explicitly generated by modules.

The primary function used with forms is \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, which is used for forms presented interactively to a user. Forms can also be built and submitted programmatically without any user input using the \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} function.

\hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()} handles retrieving, processing, and displaying a rendered HTML form for modules automatically.

Here is an example of how to use \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()} and a form builder function: 
\begin{DoxyCode}
 $form = drupal_get_form('my_module_example_form');
 ...
 function my_module_example_form($form, &$form_state) {
   $form['submit'] = array(
     '#type' => 'submit',
     '#value' => t('Submit'),
   );
   return $form;
 }
 function my_module_example_form_validate($form, &$form_state) {
   // Validation logic.
 }
 function my_module_example_form_submit($form, &$form_state) {
   // Submission logic.
 }
\end{DoxyCode}


Or with any number of additional arguments: 
\begin{DoxyCode}
 $extra = "extra";
 $form = drupal_get_form('my_module_example_form', $extra);
 ...
 function my_module_example_form($form, &$form_state, $extra) {
   $form['submit'] = array(
     '#type' => 'submit',
     '#value' => $extra,
   );
   return $form;
 }
\end{DoxyCode}


The \$form argument to form-\/related functions is a structured array containing the elements and properties of the form. For information on the array components and format, and more detailed explanations of the Form API workflow, see the \hyperlink{}{Form API reference } and the \hyperlink{}{Form API documentation section. } In addition, there is a set of Form API tutorials in \hyperlink{}{the Form Example Tutorial } which provide basics all the way up through multistep forms.

In the form builder, validation, submission, and other form functions, \$form\_\-state is the primary influence on the processing of the form and is passed by reference to most functions, so they use it to communicate with the form system and each other.

See \hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form()} for documentation of \$form\_\-state keys. 

\subsection{Function Documentation}
\hypertarget{group__form__api_ga908b7f94c6c9a0ef07a62466c6c196d7}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-builder\_\-handle\_\-input\_\-element@{\_\-form\_\-builder\_\-handle\_\-input\_\-element}}
\index{\_\-form\_\-builder\_\-handle\_\-input\_\-element@{\_\-form\_\-builder\_\-handle\_\-input\_\-element}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-builder\_\-handle\_\-input\_\-element}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-builder\_\-handle\_\-input\_\-element (\$ {\em form\_\-id}, \/  \&\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga908b7f94c6c9a0ef07a62466c6c196d7}
Adds the name and value properties of an input element before rendering. \hypertarget{group__form__api_ga3f83a917fae34f718032f4a104bc6b36}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-button\_\-was\_\-clicked@{\_\-form\_\-button\_\-was\_\-clicked}}
\index{\_\-form\_\-button\_\-was\_\-clicked@{\_\-form\_\-button\_\-was\_\-clicked}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-button\_\-was\_\-clicked}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-button\_\-was\_\-clicked (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga3f83a917fae34f718032f4a104bc6b36}
Determines if a given button triggered the form submission.

This detects button controls that trigger a form submission by being clicked and having the click processed by the browser rather than being captured by JavaScript. Essentially, it detects if the button's name and value are part of the POST data, but with extra code to deal with the convoluted way in which browsers submit data for image button clicks.

This does not detect button clicks processed by Ajax (that is done in \hyperlink{group__form__api_ga8ce84d64b9ae0576619ec4399cee2b35}{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission()}) and it does not detect form submissions from Internet Explorer in response to an ENTER key pressed in a textfield (\hyperlink{group__form__api_gae839323ba1c81ba86030b496fee24f7d}{form\_\-builder()} has extra code for that).

Because this function contains only part of the logic needed to determine \$form\_\-state\mbox{[}'triggering\_\-element'\mbox{]}, it should not be called from anywhere other than within the Form API. Form validation and submit handlers needing to know which button was clicked should get that information from \$form\_\-state\mbox{[}'triggering\_\-element'\mbox{]}. \hypertarget{group__form__api_ga8ce84d64b9ae0576619ec4399cee2b35}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission@{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission}}
\index{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission@{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-element\_\-triggered\_\-scripted\_\-submission (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga8ce84d64b9ae0576619ec4399cee2b35}
Detects if an element triggered the form submission via Ajax.

This detects button or non-\/button controls that trigger a form submission via Ajax or some other scriptable environment. These environments can set the special input key '\_\-triggering\_\-element\_\-name' to identify the triggering element. If the name alone doesn't identify the element uniquely, the input key '\_\-triggering\_\-element\_\-value' may also be set to require a match on element value. An example where this is needed is if there are several buttons all named 'op', and only differing in their value. \hypertarget{group__form__api_gabd44cc736d333ca82ef8c6d1dba2dc96}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-options\_\-flatten@{\_\-form\_\-options\_\-flatten}}
\index{\_\-form\_\-options\_\-flatten@{\_\-form\_\-options\_\-flatten}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-options\_\-flatten}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-options\_\-flatten (\$ {\em array})}}
\label{group__form__api_gabd44cc736d333ca82ef8c6d1dba2dc96}
Iterates over an array and returns a flat array with duplicate keys removed.

This function also handles cases where objects are passed as array values. \hypertarget{group__form__api_gac8800bdf25db7c100ccf2fd0dcbb25f0}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-set\_\-class@{\_\-form\_\-set\_\-class}}
\index{\_\-form\_\-set\_\-class@{\_\-form\_\-set\_\-class}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-set\_\-class}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-set\_\-class (\&\$ {\em element}, \/  \$ {\em class} = {\ttfamily array()})}}
\label{group__form__api_gac8800bdf25db7c100ccf2fd0dcbb25f0}
Sets a form element's class attribute.

Adds 'required' and 'error' classes as needed.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element. \item[{\em \$name}]Array of new class names to be added. \end{DoxyParams}
\hypertarget{group__form__api_ga464b4724506722d2a2d482df27736357}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-validate@{\_\-form\_\-validate}}
\index{\_\-form\_\-validate@{\_\-form\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-validate (\&\$ {\em elements}, \/  \&\$ {\em form\_\-state}, \/  \$ {\em form\_\-id} = {\ttfamily NULL})}}
\label{group__form__api_ga464b4724506722d2a2d482df27736357}
Performs validation on form elements.

First ensures required fields are completed, maxlength is not exceeded, and selected options were in the list of options given to the user. Then calls user-\/defined validators.


\begin{DoxyParams}{Parameters}
\item[{\em \$elements}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. The current user-\/submitted data is stored in \$form\_\-state\mbox{[}'values'\mbox{]}, though form validation functions are passed an explicit copy of the values for the sake of simplicity. Validation handlers can also \$form\_\-state to pass information on to submit handlers. For example: \$form\_\-state\mbox{[}'data\_\-for\_\-submission'\mbox{]} = \$data; This technique is useful when validation requires file parsing, web service requests, or other expensive requests that should not be repeated in the submission step. \item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \end{DoxyParams}
\hypertarget{group__form__api_ga2a44cde876324e1333edb5fda5799c83}{
\index{form\_\-api@{form\_\-api}!date\_\-validate@{date\_\-validate}}
\index{date\_\-validate@{date\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{date\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}date\_\-validate (\$ {\em element})}}
\label{group__form__api_ga2a44cde876324e1333edb5fda5799c83}
Validates the date type to prevent invalid dates (e.g., February 30, 2006). \hypertarget{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{
\index{form\_\-api@{form\_\-api}!drupal\_\-build\_\-form@{drupal\_\-build\_\-form}}
\index{drupal\_\-build\_\-form@{drupal\_\-build\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-build\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-build\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gabead4b3c089fd605421d371a0315c4d7}
Builds and process a form based on a form id.

The form may also be retrieved from the cache if the form was built in a previous page-\/load. The form is then passed on for processing, validation and submission if there is proper input.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()}, which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in \hyperlink{node_8module_aeb7774b7406a9dcba3c7f587a520df31}{node\_\-forms()}, and \hyperlink{search_8module_a3396c4111908648bd2d0ddff911449fa}{search\_\-forms()}. \item[{\em \$form\_\-state}]An array which stores information about the form. This is passed as a reference so that the caller can use it to examine what in the form changed when the form submission process is complete. Furthermore, it may be used to store information related to the processed data in the form, which will persist across page requests when the 'cache' or 'rebuild' flag is set. The following parameters may be set in \$form\_\-state to affect how the form is rendered:
\begin{DoxyItemize}
\item build\_\-info: Internal. An associative array of information stored by Form API that is necessary to build and rebuild the form from cache when the original context may no longer be available:
\begin{DoxyItemize}
\item args: A list of arguments to pass to the form constructor.
\item files: An optional array defining include files that need to be loaded for building the form. Each array entry may be the path to a file or another array containing values for the parameters 'type', 'module' and 'name' as needed by \hyperlink{module_8inc_a49098ed4d33650ee5ab52aab40982423}{module\_\-load\_\-include()}. The files listed here are automatically loaded by \hyperlink{group__form__api_gab1da3001a3773a949188b52f61a9cd09}{form\_\-get\_\-cache()}. By default the current menu router item's 'file' definition is added, if any. Use \hyperlink{group__form__api_ga9c29fd030cf29d55e40f849de8dde040}{form\_\-load\_\-include()} to add include files from a form constructor.
\item form\_\-id: Identification of the primary form being constructed and processed.
\item base\_\-form\_\-id: Identification for a base form, as declared in a \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()} implementation.
\end{DoxyItemize}
\item rebuild\_\-info: Internal. Similar to 'build\_\-info', but pertaining to \hyperlink{group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7}{drupal\_\-rebuild\_\-form()}.
\item rebuild: Normally, after the entire form processing is completed and submit handlers have run, a form is considered to be done and \hyperlink{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{drupal\_\-redirect\_\-form()} will redirect the user to a new page using a GET request (so a browser refresh does not re-\/submit the form). However, if 'rebuild' has been set to TRUE, then a new copy of the form is immediately built and sent to the browser, instead of a redirect. This is used for multi-\/step forms, such as wizards and confirmation forms. Normally, \$form\_\-state\mbox{[}'rebuild'\mbox{]} is set by a submit handler, since it is usually logic within a submit handler that determines whether a form is done or requires another step. However, a validation handler may already set \$form\_\-state\mbox{[}'rebuild'\mbox{]} to cause the form processing to bypass submit handlers and rebuild the form instead, even if there are no validation errors.
\item redirect: Used to redirect the form on submission. It may either be a string containing the destination URL, or an array of arguments compatible with \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()}. See \hyperlink{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{drupal\_\-redirect\_\-form()} for complete information.
\item no\_\-redirect: If set to TRUE the form will NOT perform a \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()}, even if 'redirect' is set.
\item method: The HTTP form method to use for finding the input for this form. May be 'post' or 'get'. Defaults to 'post'. Note that 'get' method forms do not use form ids so are always considered to be submitted, which can have unexpected effects. The 'get' method should only be used on forms that do not change data, as that is exclusively the domain of 'post.'
\item cache: If set to TRUE the original, unprocessed form structure will be cached, which allows the entire form to be rebuilt from cache. A typical form workflow involves two page requests; first, a form is built and rendered for the user to fill in. Then, the user fills the form in and submits it, triggering a second page request in which the form must be built and processed. By default, \$form and \$form\_\-state are built from scratch during each of these page requests. Often, it is necessary or desired to persist the \$form and \$form\_\-state variables from the initial page request to the one that processes the submission. 'cache' can be set to TRUE to do this. A prominent example is an Ajax-\/enabled form, in which \hyperlink{group__ajax_ga41a006b5f6d97e6e56e542f68fbc340d}{ajax\_\-process\_\-form()} enables form caching for all forms that include an element with the ajax property. (The Ajax handler has no way to build the form itself, so must rely on the cached version.) Note that the persistence of \$form and \$form\_\-state happens automatically for (multi-\/step) forms having the 'rebuild' flag set, regardless of the value for 'cache'.
\item no\_\-cache: If set to TRUE the form will NOT be cached, even if 'cache' is set.
\item values: An associative array of values submitted to the form. The validation functions and submit functions use this array for nearly all their decision making. (Note that tree determines whether the values are a flat array or an array whose structure parallels the \$form array. See \hyperlink{}{Form API reference } for more information.) These are raw and unvalidated, so should not be used without a thorough understanding of security implications. In almost all cases, code should use the data in the 'values' array exclusively. The most common use of this key is for multi-\/step forms that need to clear some of the user input when setting 'rebuild'. The values correspond to \$\_\-POST or \$\_\-GET, depending on the 'method' chosen.
\item always\_\-process: If TRUE and the method is GET, a form\_\-id is not necessary. This should only be used on RESTful GET forms that do NOT write data, as this could lead to security issues. It is useful so that searches do not need to have a form\_\-id in their query arguments to trigger the search.
\item must\_\-validate: Ordinarily, a form is only validated once, but there are times when a form is resubmitted internally and should be validated again. Setting this to TRUE will force that to happen. This is most likely to occur during Ajax operations.
\item programmed: If TRUE, the form was submitted programmatically, usually invoked via \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()}. Defaults to FALSE.
\item process\_\-input: Boolean flag. TRUE signifies correct form submission. This is always TRUE for programmed forms coming from \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} (see 'programmed' key), or if the form\_\-id coming from the \$\_\-POST data is set and matches the current form\_\-id.
\item submitted: If TRUE, the form has been submitted. Defaults to FALSE.
\item executed: If TRUE, the form was submitted and has been processed and executed. Defaults to FALSE.
\item triggering\_\-element: (read-\/only) The form element that triggered submission. This is the same as the deprecated \$form\_\-state\mbox{[}'clicked\_\-button'\mbox{]}. It is the element that caused submission, which may or may not be a button (in the case of Ajax forms). This key is often used to distinguish between various buttons in a submit handler, and is also used in Ajax handlers.
\item clicked\_\-button: Deprecated. Use triggering\_\-element instead.
\item has\_\-file\_\-element: Internal. If TRUE, there is a file element and Form API will set the appropriate 'enctype' HTML attribute on the form.
\item groups: Internal. An array containing references to fieldsets to render them within vertical tabs.
\item storage: \$form\_\-state\mbox{[}'storage'\mbox{]} is not a special key, and no specific support is provided for it in the Form API. By tradition it was the location where application-\/specific data was stored for communication between the submit, validation, and form builder functions, especially in a multi-\/step-\/style form. Form implementations may use any key(s) within \$form\_\-state (other than the keys listed here and other reserved ones used by Form API internals) for this kind of storage. The recommended way to ensure that the chosen key doesn't conflict with ones used by the Form API or other modules is to use the module name as the key name or a prefix for the key name. For example, the Node module uses \$form\_\-state\mbox{[}'node'\mbox{]} in node editing forms to store information about the node being edited, and this information stays available across successive clicks of the \char`\"{}Preview\char`\"{} button as well as when the \char`\"{}Save\char`\"{} button is finally clicked.
\item buttons: A list containing copies of all submit and button elements in the form.
\item complete form: A reference to the \$form variable containing the complete form structure. process, after\_\-build, element\_\-validate, and other handlers being invoked on a form element may use this reference to access other information in the form the element is contained in.
\item temporary: An array holding temporary data accessible during the current page request only. All \$form\_\-state properties that are not reserved keys (see \hyperlink{group__form__api_gabffb5c6a1218bb14db316fe29c4e52af}{form\_\-state\_\-keys\_\-no\_\-cache()}) persist throughout a multistep form sequence. Form API provides this key for modules to communicate information across form-\/related functions during a single page request. It may be used to temporarily save data that does not need to or should not be cached during the whole form workflow; e.g., data that needs to be accessed during the current form build process only. There is no use-\/case for this functionality in Drupal core.
\item wrapper\_\-callback: Modules that wish to pre-\/populate certain forms with common elements, such as back/next/save buttons in multi-\/step form wizards, may define a form builder function name that returns a form structure, which is passed on to the actual form builder function. Such implementations may either define the 'wrapper\_\-callback' via \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()} or have to invoke \hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form()} (instead of \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}) on their own in a custom menu callback to prepare \$form\_\-state accordingly. Information on how certain \$form\_\-state properties control redirection behavior after form submission may be found in \hyperlink{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{drupal\_\-redirect\_\-form()}.
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The rendered form. This function may also perform a redirect and hence may not return at all, depending upon the \$form\_\-state flags that were set.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{drupal\_\-redirect\_\-form()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{
\index{form\_\-api@{form\_\-api}!drupal\_\-form\_\-submit@{drupal\_\-form\_\-submit}}
\index{drupal\_\-form\_\-submit@{drupal\_\-form\_\-submit}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-form\_\-submit}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-form\_\-submit (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}
Retrieves, populates, and processes a form.

This function allows you to supply values for form elements and submit a form for processing. Compare to \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, which also builds and processes a form, but does not allow you to supply values.

There is no return value, but you can check to see if there are errors by calling \hyperlink{group__form__api_ga158b3db5e88e96bf060c524cebcb8130}{form\_\-get\_\-errors()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()}, which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in \hyperlink{node_8module_aeb7774b7406a9dcba3c7f587a520df31}{node\_\-forms()} and \hyperlink{search_8module_a3396c4111908648bd2d0ddff911449fa}{search\_\-forms()}. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. Most important is the \$form\_\-state\mbox{[}'values'\mbox{]} collection, a tree of data used to simulate the incoming \$\_\-POST information from a user's form submission. If a key is not filled in \$form\_\-state\mbox{[}'values'\mbox{]}, then the default value of the respective element is used. To submit an unchecked checkbox or other control that browsers submit by not having a \$\_\-POST entry, include the key, but set the value to NULL. \item[{\em ...}]Any additional arguments are passed on to the functions called by \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()}, including the unique form constructor function. For example, the node\_\-edit form requires that a node object be passed in here when it is called. Arguments that need to be passed by reference should not be included here, but rather placed directly in the \$form\_\-state build info array so that the reference can be preserved. For example, a form builder function with the following signature: 
\begin{DoxyCode}
   function mymodule_form($form, &$form_state, &$object) {
   }
\end{DoxyCode}
 would be called via \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} as follows: 
\begin{DoxyCode}
   $form_state['values'] = $my_form_values;
   $form_state['build_info']['args'] = array(&$object);
   drupal_form_submit('mymodule_form', $form_state);
\end{DoxyCode}
 For example: 
\begin{DoxyCode}
 // register a new user
 $form_state = array();
 $form_state['values']['name'] = 'robo-user';
 $form_state['values']['mail'] = 'robouser@example.com';
 $form_state['values']['pass']['pass1'] = 'password';
 $form_state['values']['pass']['pass2'] = 'password';
 $form_state['values']['op'] = t('Create new account');
 drupal_form_submit('user_register_form', $form_state);
\end{DoxyCode}
 \end{DoxyParams}
\hypertarget{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{
\index{form\_\-api@{form\_\-api}!drupal\_\-get\_\-form@{drupal\_\-get\_\-form}}
\index{drupal\_\-get\_\-form@{drupal\_\-get\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-get\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-get\_\-form (\$ {\em form\_\-id})}}
\label{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}
Returns a renderable form array for a given form ID.

This function should be used instead of \hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form()} when \$form\_\-state is not needed (i.e., when initially rendering the form) and is often used as a menu callback.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()}, which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in \hyperlink{node_8module_aeb7774b7406a9dcba3c7f587a520df31}{node\_\-forms()}, and \hyperlink{search_8module_a3396c4111908648bd2d0ddff911449fa}{search\_\-forms()}. \item[{\em ...}]Any additional arguments are passed on to the functions called by \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, including the unique form constructor function. For example, the node\_\-edit form requires that a node object is passed in here when it is called. These are available to implementations of \hyperlink{group__hooks_ga6df3cea27ae1407aeef4eae5444cb213}{hook\_\-form\_\-alter()} and \hyperlink{group__hooks_ga8d4a4089551493d55911bd5c4f218264}{hook\_\-form\_\-FORM\_\-ID\_\-alter()} as the array \$form\_\-state\mbox{[}'build\_\-info'\mbox{]}\mbox{[}'args'\mbox{]}.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The form array.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga79309515217249c16c7e4a7117141120}{
\index{form\_\-api@{form\_\-api}!drupal\_\-prepare\_\-form@{drupal\_\-prepare\_\-form}}
\index{drupal\_\-prepare\_\-form@{drupal\_\-prepare\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-prepare\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-prepare\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga79309515217249c16c7e4a7117141120}
Prepares a structured form array.

Adds required elements, executes any hook\_\-form\_\-alter functions, and optionally inserts a validation token to prevent tampering.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. Passed in here so that \hyperlink{group__hooks_ga6df3cea27ae1407aeef4eae5444cb213}{hook\_\-form\_\-alter()} calls can use it, as well. \end{DoxyParams}
\hypertarget{group__form__api_ga61186f5c43533761544a778918818fd2}{
\index{form\_\-api@{form\_\-api}!drupal\_\-process\_\-form@{drupal\_\-process\_\-form}}
\index{drupal\_\-process\_\-form@{drupal\_\-process\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-process\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-process\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga61186f5c43533761544a778918818fd2}
Processes a form submission.

This function is the heart of form API. The form gets built, validated and in appropriate cases, submitted and rebuilt.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the current form. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. This includes the current persistent storage data for the form, and any data passed along by earlier steps when displaying a multi-\/step form. Additional information, like the sanitized \$\_\-POST data, is also accumulated here. \end{DoxyParams}
\hypertarget{group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7}{
\index{form\_\-api@{form\_\-api}!drupal\_\-rebuild\_\-form@{drupal\_\-rebuild\_\-form}}
\index{drupal\_\-rebuild\_\-form@{drupal\_\-rebuild\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-rebuild\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-rebuild\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state}, \/  \$ {\em old\_\-form} = {\ttfamily NULL})}}
\label{group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7}
Constructs a new \$form from the information in \$form\_\-state.

This is the key function for making multi-\/step forms advance from step to step. It is called by \hyperlink{group__form__api_ga61186f5c43533761544a778918818fd2}{drupal\_\-process\_\-form()} when all user input processing, including calling validation and submission handlers, for the request is finished. If a validate or submit handler set \$form\_\-state\mbox{[}'rebuild'\mbox{]} to TRUE, and if other conditions don't preempt a rebuild from happening, then this function is called to generate a new \$form, the next step in the form workflow, to be returned for rendering.

Ajax form submissions are almost always multi-\/step workflows, so that is one common use-\/case during which form rebuilding occurs. See \hyperlink{group__ajax_gabe2739824006df057d291f6be49759ab}{ajax\_\-form\_\-callback()} for more information about creating Ajax-\/enabled forms.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()}, which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in \hyperlink{node_8module_aeb7774b7406a9dcba3c7f587a520df31}{node\_\-forms()} and \hyperlink{search_8module_a3396c4111908648bd2d0ddff911449fa}{search\_\-forms()}. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. \item[{\em \$old\_\-form}](optional) A previously built \$form. Used to retain the build\_\-id and action properties in Ajax callbacks and similar partial form rebuilds. The only properties copied from \$old\_\-form are the ones which both exist in \$old\_\-form and for which \$form\_\-state\mbox{[}'rebuild\_\-info'\mbox{]}\mbox{[}'copy'\mbox{]}\mbox{[}PROPERTY\mbox{]} is TRUE. If \$old\_\-form is not passed, the entire \$form is rebuilt freshly. 'rebuild\_\-info' needs to be a separate top-\/level property next to 'build\_\-info', since the contained data must not be cached.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The newly built form.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_ga61186f5c43533761544a778918818fd2}{drupal\_\-process\_\-form()} 

\hyperlink{group__ajax_gabe2739824006df057d291f6be49759ab}{ajax\_\-form\_\-callback()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga552fc91207f10c473d36bf3f9889506c}{
\index{form\_\-api@{form\_\-api}!drupal\_\-redirect\_\-form@{drupal\_\-redirect\_\-form}}
\index{drupal\_\-redirect\_\-form@{drupal\_\-redirect\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-redirect\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-redirect\_\-form (\$ {\em form\_\-state})}}
\label{group__form__api_ga552fc91207f10c473d36bf3f9889506c}
Redirects the user to a URL after a form has been processed.

After a form is submitted and processed, normally the user should be redirected to a new destination page. This function figures out what that destination should be, based on the \$form\_\-state array and the 'destination' query string in the request URL, and redirects the user there.

Usually (for exceptions, see below) \$form\_\-state\mbox{[}'redirect'\mbox{]} determines where to redirect the user. This can be set either to a string (the path to redirect to), or an array of arguments for \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()}. If \$form\_\-state\mbox{[}'redirect'\mbox{]} is missing, the user is usually (again, see below for exceptions) redirected back to the page they came from, where they should see a fresh, unpopulated copy of the form.

Here is an example of how to set up a form to redirect to the path 'node': 
\begin{DoxyCode}
 $form_state['redirect'] = 'node';
\end{DoxyCode}
 And here is an example of how to redirect to 'node/123?foo=barbaz': 
\begin{DoxyCode}
 $form_state['redirect'] = array(
   'node/123',
   array(
     'query' => array(
       'foo' => 'bar',
     ),
     'fragment' => 'baz',
   ),
 );
\end{DoxyCode}


There are several exceptions to the \char`\"{}usual\char`\"{} behavior described above:
\begin{DoxyItemize}
\item If \$form\_\-state\mbox{[}'programmed'\mbox{]} is TRUE, the form submission was usually invoked via \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()}, so any redirection would break the script that invoked \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} and no redirection is done.
\item If \$form\_\-state\mbox{[}'rebuild'\mbox{]} is TRUE, the form is being rebuilt, and no redirection is done.
\item If \$form\_\-state\mbox{[}'no\_\-redirect'\mbox{]} is TRUE, redirection is disabled. This is set, for instance, by \hyperlink{group__ajax_ga9bc57ec64df41b20fd92b21fe8c1e6b0}{ajax\_\-get\_\-form()} to prevent redirection in Ajax callbacks. \$form\_\-state\mbox{[}'no\_\-redirect'\mbox{]} should never be set or altered by form builder functions or form validation/submit handlers.
\item If \$form\_\-state\mbox{[}'redirect'\mbox{]} is set to FALSE, redirection is disabled.
\item If none of the above conditions has prevented redirection, then the redirect is accomplished by calling \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()}, passing in the value of \$form\_\-state\mbox{[}'redirect'\mbox{]} if it is set, or the current path if it is not. \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()} preferentially uses the value of \$\_\-GET\mbox{[}'destination'\mbox{]} (the 'destination' URL query string) if it is present, so this will override any values set by \$form\_\-state\mbox{[}'redirect'\mbox{]}. Note that during installation, \hyperlink{install_8inc_a8500b736c9651e3947265d35fc6ab920}{install\_\-goto()} is called in place of \hyperlink{group__http__handling_ga5b68d7a934713d1d623b2b32a732235d}{drupal\_\-goto()}.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-state}]An associative array containing the current state of the form.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_ga61186f5c43533761544a778918818fd2}{drupal\_\-process\_\-form()} 

\hyperlink{group__form__api_gabead4b3c089fd605421d371a0315c4d7}{drupal\_\-build\_\-form()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga82f16e1c86833aa88bf93adf93bae9bb}{
\index{form\_\-api@{form\_\-api}!drupal\_\-retrieve\_\-form@{drupal\_\-retrieve\_\-form}}
\index{drupal\_\-retrieve\_\-form@{drupal\_\-retrieve\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-retrieve\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-retrieve\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga82f16e1c86833aa88bf93adf93bae9bb}
Retrieves the structured array that defines a given form.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement \hyperlink{group__hooks_gaa764fee74b85797f75c0c923cad628d5}{hook\_\-forms()}, which maps different \$form\_\-id values to the proper form constructor function. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form, including the additional arguments to \hyperlink{group__form__api_ga720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()} or \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} in the 'args' component of the array. \end{DoxyParams}
\hypertarget{group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34}{
\index{form\_\-api@{form\_\-api}!drupal\_\-validate\_\-form@{drupal\_\-validate\_\-form}}
\index{drupal\_\-validate\_\-form@{drupal\_\-validate\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-validate\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-validate\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34}
Validates user-\/submitted form data in the \$form\_\-state array.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form, which is passed by reference. Form validation handlers are able to alter the form structure (like process and after\_\-build callbacks during form building) in case of a validation error. If a validation handler alters the form structure, it is responsible for validating the values of changed form elements in \$form\_\-state\mbox{[}'values'\mbox{]} to prevent form submit handlers from receiving unvalidated values. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. The current user-\/submitted data is stored in \$form\_\-state\mbox{[}'values'\mbox{]}, though form validation functions are passed an explicit copy of the values for the sake of simplicity. Validation handlers can also use \$form\_\-state to pass information on to submit handlers. For example: \$form\_\-state\mbox{[}'data\_\-for\_\-submission'\mbox{]} = \$data; This technique is useful when validation requires file parsing, web service requests, or other expensive requests that should not be repeated in the submission step. \end{DoxyParams}
\hypertarget{group__form__api_ga6fffa62178c1fc94329e142b083e9b1c}{
\index{form\_\-api@{form\_\-api}!element\_\-validate\_\-integer@{element\_\-validate\_\-integer}}
\index{element\_\-validate\_\-integer@{element\_\-validate\_\-integer}!form_api@{form\_\-api}}
\subsubsection[{element\_\-validate\_\-integer}]{\setlength{\rightskip}{0pt plus 5cm}element\_\-validate\_\-integer (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga6fffa62178c1fc94329e142b083e9b1c}
Form element validation handler for integer elements. \hypertarget{group__form__api_gad8feb4fd6d8404783042cde1146f53cf}{
\index{form\_\-api@{form\_\-api}!element\_\-validate\_\-integer\_\-positive@{element\_\-validate\_\-integer\_\-positive}}
\index{element\_\-validate\_\-integer\_\-positive@{element\_\-validate\_\-integer\_\-positive}!form_api@{form\_\-api}}
\subsubsection[{element\_\-validate\_\-integer\_\-positive}]{\setlength{\rightskip}{0pt plus 5cm}element\_\-validate\_\-integer\_\-positive (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gad8feb4fd6d8404783042cde1146f53cf}
Form element validation handler for integer elements that must be positive. \hypertarget{group__form__api_ga64f40a7bf432284ba5b15021445abd86}{
\index{form\_\-api@{form\_\-api}!element\_\-validate\_\-number@{element\_\-validate\_\-number}}
\index{element\_\-validate\_\-number@{element\_\-validate\_\-number}!form_api@{form\_\-api}}
\subsubsection[{element\_\-validate\_\-number}]{\setlength{\rightskip}{0pt plus 5cm}element\_\-validate\_\-number (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga64f40a7bf432284ba5b15021445abd86}
Form element validation handler for number elements. \hypertarget{group__form__api_gae839323ba1c81ba86030b496fee24f7d}{
\index{form\_\-api@{form\_\-api}!form\_\-builder@{form\_\-builder}}
\index{form\_\-builder@{form\_\-builder}!form_api@{form\_\-api}}
\subsubsection[{form\_\-builder}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-builder (\$ {\em form\_\-id}, \/  \&\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gae839323ba1c81ba86030b496fee24f7d}
Builds and processes all elements in the structured form array.

Adds any required properties to each element, maps the incoming input data to the proper elements, and executes any process handlers attached to a specific element.

This is one of the three primary functions that recursively iterates a form array. This one does it for completing the form building process. The other two are \hyperlink{group__form__api_ga464b4724506722d2a2d482df27736357}{\_\-form\_\-validate()} (invoked via \hyperlink{group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34}{drupal\_\-validate\_\-form()} and used to invoke validation logic for each element) and \hyperlink{common_8inc_a05798b44e8d6c496d4bee5cc32fa7851}{drupal\_\-render()} (for rendering each element). Each of these three pipelines provides ample opportunity for modules to customize what happens. For example, during this function's life cycle, the following functions get called for each element:
\begin{DoxyItemize}
\item \$element\mbox{[}'value\_\-callback'\mbox{]}: A function that implements how user input is mapped to an element's value property. This defaults to a function named 'form\_\-type\_\-TYPE\_\-value' where TYPE is \$element\mbox{[}'type'\mbox{]}.
\item \$element\mbox{[}'process'\mbox{]}: An array of functions called after user input has been mapped to the element's value property. These functions can be used to dynamically add child elements: for example, for the 'date' element type, one of the functions in this array is \hyperlink{group__form__api_gabc6b74cff84954f970d4997390473160}{form\_\-process\_\-date()}, which adds the individual 'year', 'month', 'day', etc. child elements. These functions can also be used to set additional properties or implement special logic other than adding child elements: for example, for the 'fieldset' element type, one of the functions in this array is \hyperlink{group__form__api_gae2acfa7f531c487ac930d3a819ee63b5}{form\_\-process\_\-fieldset()}, which adds the attributes and JavaScript needed to make the fieldset collapsible if the collapsible property is set. The process functions are called in preorder traversal, meaning they are called for the parent element first, then for the child elements.
\item \$element\mbox{[}'after\_\-build'\mbox{]}: An array of functions called after \hyperlink{group__form__api_gae839323ba1c81ba86030b496fee24f7d}{form\_\-builder()} is done with its processing of the element. These are called in postorder traversal, meaning they are called for the child elements first, then for the parent element. There are similar properties containing callback functions invoked by \hyperlink{group__form__api_ga464b4724506722d2a2d482df27736357}{\_\-form\_\-validate()} and \hyperlink{common_8inc_a05798b44e8d6c496d4bee5cc32fa7851}{drupal\_\-render()}, appropriate for those operations.
\end{DoxyItemize}

Developers are strongly encouraged to integrate the functionality needed by their form or module within one of these three pipelines, using the appropriate callback property, rather than implementing their own recursive traversal of a form array. This facilitates proper integration between multiple modules. For example, module developers are familiar with the relative order in which \hyperlink{group__hooks_ga6df3cea27ae1407aeef4eae5444cb213}{hook\_\-form\_\-alter()} implementations and process functions run. A custom traversal function that affects the building of a form is likely to not integrate with \hyperlink{group__hooks_ga6df3cea27ae1407aeef4eae5444cb213}{hook\_\-form\_\-alter()} and process in the expected way. Also, deep recursion within PHP is both slow and memory intensive, so it is best to minimize how often it's done.

As stated above, each element's process functions are executed after its value has been set. This enables those functions to execute conditional logic based on the current value. However, all of \hyperlink{group__form__api_gae839323ba1c81ba86030b496fee24f7d}{form\_\-builder()} runs before \hyperlink{group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34}{drupal\_\-validate\_\-form()} is called, so during process function execution, the element's value has not yet been validated, so any code that requires validated values must reside within a submit handler.

As a security measure, user input is used for an element's value only if the element exists within \$form, is not disabled (as per the disabled property), and can be accessed (as per the access property, except that forms submitted using \hyperlink{group__form__api_ga4312d7fe0602f6359153fc62cba1ca24}{drupal\_\-form\_\-submit()} bypass access restrictions). When user input is ignored due to disabled and access restrictions, the element's default value is used.

Because of the preorder traversal, where process functions of an element run before user input for its child elements is processed, and because of the Form API security of user input processing with respect to access and disabled described above, this generally means that process functions should not use an element's (unvalidated) value to affect the disabled or access of child elements. Use-\/cases where a developer may be tempted to implement such conditional logic usually fall into one of two categories:
\begin{DoxyItemize}
\item Where user input from the current submission must affect the structure of a form, including properties like access and disabled that affect how the next submission needs to be processed, a multi-\/step workflow is needed. This is most commonly implemented with a submit handler setting persistent data within \$form\_\-state based on $\ast$validated$\ast$ values in \$form\_\-state\mbox{[}'values'\mbox{]} and setting \$form\_\-state\mbox{[}'rebuild'\mbox{]}. The form building functions must then be implemented to use the \$form\_\-state data to rebuild the form with the structure appropriate for the new state.
\item Where user input must affect the rendering of the form without affecting its structure, the necessary conditional rendering logic should reside within functions that run during the rendering phase (pre\_\-render, \hyperlink{includes_2theme_8inc_a7c25609a935874541a19657affd30fff}{theme}, theme\_\-wrappers, and post\_\-render).
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$element}]An associative array containing the structure of the current element. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. In this context, it is used to accumulate information about which button was clicked when the form was submitted, as well as the sanitized \$\_\-POST data. \end{DoxyParams}
\hypertarget{group__form__api_ga0e498e7fdd19cabd0b76efbea3e36bba}{
\index{form\_\-api@{form\_\-api}!form\_\-clear\_\-error@{form\_\-clear\_\-error}}
\index{form\_\-clear\_\-error@{form\_\-clear\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-clear\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-clear\_\-error ()}}
\label{group__form__api_ga0e498e7fdd19cabd0b76efbea3e36bba}
Clears all errors against all form elements made by \hyperlink{group__form__api_ga6f4ecbec42e905390e521b393417f97f}{form\_\-set\_\-error()}. \hypertarget{group__form__api_ga0e6b470194005ad3ff2fbf45f671dfa9}{
\index{form\_\-api@{form\_\-api}!form\_\-error@{form\_\-error}}
\index{form\_\-error@{form\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-error (\&\$ {\em element}, \/  \$ {\em message} = {\ttfamily ''})}}
\label{group__form__api_ga0e6b470194005ad3ff2fbf45f671dfa9}
Flags an element as having an error. \hypertarget{group__form__api_ga9e32d49f4ca85da10a29dcfec27dd526}{
\index{form\_\-api@{form\_\-api}!form\_\-execute\_\-handlers@{form\_\-execute\_\-handlers}}
\index{form\_\-execute\_\-handlers@{form\_\-execute\_\-handlers}!form_api@{form\_\-api}}
\subsubsection[{form\_\-execute\_\-handlers}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-execute\_\-handlers (\$ {\em type}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga9e32d49f4ca85da10a29dcfec27dd526}
Executes custom validation and submission handlers for a given form.

Button-\/specific handlers are checked first. If none exist, the function falls back to form-\/level handlers.


\begin{DoxyParams}{Parameters}
\item[{\em \$type}]The type of handler to execute. 'validate' or 'submit' are the defaults used by Form API. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. If the user submitted the form by clicking a button with custom handler functions defined, those handlers will be stored here. \end{DoxyParams}
\hypertarget{group__form__api_gab1da3001a3773a949188b52f61a9cd09}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-cache@{form\_\-get\_\-cache}}
\index{form\_\-get\_\-cache@{form\_\-get\_\-cache}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-cache (\$ {\em form\_\-build\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gab1da3001a3773a949188b52f61a9cd09}
Fetches a form from cache. \hypertarget{group__form__api_gae57581ad2406d61116a133b99142283b}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-error@{form\_\-get\_\-error}}
\index{form\_\-get\_\-error@{form\_\-get\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-error (\$ {\em element})}}
\label{group__form__api_gae57581ad2406d61116a133b99142283b}
Returns the error message filed against the given form element.

Form errors higher up in the form structure override deeper errors as well as errors on the element itself. \hypertarget{group__form__api_ga158b3db5e88e96bf060c524cebcb8130}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-errors@{form\_\-get\_\-errors}}
\index{form\_\-get\_\-errors@{form\_\-get\_\-errors}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-errors}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-errors ()}}
\label{group__form__api_ga158b3db5e88e96bf060c524cebcb8130}
Returns an associative array of all errors. \hypertarget{group__form__api_ga88bf27e1f6246789acc77dd1686e0276}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-options@{form\_\-get\_\-options}}
\index{form\_\-get\_\-options@{form\_\-get\_\-options}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-options (\$ {\em element}, \/  \$ {\em key})}}
\label{group__form__api_ga88bf27e1f6246789acc77dd1686e0276}
Returns the indexes of a select element's options matching a given key.

This function is useful if you need to modify the options that are already in a form element; for example, to remove choices which are not valid because of additional filters imposed by another module. One example might be altering the choices in a taxonomy selector. To correctly handle the case of a multiple hierarchy taxonomy, options arrays can now hold an array of objects, instead of a direct mapping of keys to labels, so that multiple choices in the selector can have the same key (and label). This makes it difficult to manipulate directly, which is why this helper function exists.

This function does not support optgroups (when the elements of the options array are themselves arrays), and will return FALSE if arrays are found. The caller must either flatten/restore or manually do their manipulations in this case, since returning the index is not sufficient, and supporting this would make the \char`\"{}helper\char`\"{} too complicated and cumbersome to be of any help.

As usual with functions that can return array() or FALSE, do not forget to use === and !== if needed.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The select element to search. \item[{\em \$key}]The key to look for.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array of indexes that match the given \$key. Array will be empty if no elements were found. FALSE if optgroups were found. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga9c29fd030cf29d55e40f849de8dde040}{
\index{form\_\-api@{form\_\-api}!form\_\-load\_\-include@{form\_\-load\_\-include}}
\index{form\_\-load\_\-include@{form\_\-load\_\-include}!form_api@{form\_\-api}}
\subsubsection[{form\_\-load\_\-include}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-load\_\-include (\&\$ {\em form\_\-state}, \/  \$ {\em type}, \/  \$ {\em module}, \/  \$ {\em name} = {\ttfamily NULL})}}
\label{group__form__api_ga9c29fd030cf29d55e40f849de8dde040}
Ensures an include file is loaded whenever the form is processed.

Example: 
\begin{DoxyCode}
   // Load node.admin.inc from Node module.
   form_load_include($form_state, 'inc', 'node', 'node.admin');
\end{DoxyCode}


Use this function instead of \hyperlink{module_8inc_a49098ed4d33650ee5ab52aab40982423}{module\_\-load\_\-include()} from inside a form constructor or any form processing logic as it ensures that the include file is loaded whenever the form is processed. In contrast to using \hyperlink{module_8inc_a49098ed4d33650ee5ab52aab40982423}{module\_\-load\_\-include()} directly, \hyperlink{group__form__api_ga9c29fd030cf29d55e40f849de8dde040}{form\_\-load\_\-include()} makes sure the include file is correctly loaded also if the form is cached.


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-state}]The current state of the form. \item[{\em \$type}]The include file's type (file extension). \item[{\em \$module}]The module to which the include file belongs. \item[{\em \$name}](optional) The base file name (without the \$type extension). If omitted, \$module is used; i.e., resulting in \char`\"{}\$module.\$type\char`\"{} by default.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The filepath of the loaded include file, or FALSE if the include file was not found or has been loaded already.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{module_8inc_a49098ed4d33650ee5ab52aab40982423}{module\_\-load\_\-include()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga683d5114e3e455ffee9bbfbb8b947bb7}{
\index{form\_\-api@{form\_\-api}!form\_\-options\_\-flatten@{form\_\-options\_\-flatten}}
\index{form\_\-options\_\-flatten@{form\_\-options\_\-flatten}!form_api@{form\_\-api}}
\subsubsection[{form\_\-options\_\-flatten}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-options\_\-flatten (\$ {\em array})}}
\label{group__form__api_ga683d5114e3e455ffee9bbfbb8b947bb7}
Allows PHP array processing of multiple select options with the same value.

Used for form select elements which need to validate HTML option groups and multiple options which may return the same value. Associative PHP arrays cannot handle these structures, since they share a common key.


\begin{DoxyParams}{Parameters}
\item[{\em \$array}]The form options array to process.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array with all hierarchical elements flattened to a single array. 
\end{DoxyReturn}
\hypertarget{group__form__api_gac0bc3f3520adb84698903c4d0078fe2c}{
\index{form\_\-api@{form\_\-api}!form\_\-pre\_\-render\_\-conditional\_\-form\_\-element@{form\_\-pre\_\-render\_\-conditional\_\-form\_\-element}}
\index{form\_\-pre\_\-render\_\-conditional\_\-form\_\-element@{form\_\-pre\_\-render\_\-conditional\_\-form\_\-element}!form_api@{form\_\-api}}
\subsubsection[{form\_\-pre\_\-render\_\-conditional\_\-form\_\-element}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-pre\_\-render\_\-conditional\_\-form\_\-element (\$ {\em element})}}
\label{group__form__api_gac0bc3f3520adb84698903c4d0078fe2c}
Adds form element theming to an element if its title or description is set.

This is used as a pre render function for checkboxes and radios. \hypertarget{group__form__api_ga10c77d235a5451895a3d2862b1ff4e34}{
\index{form\_\-api@{form\_\-api}!form\_\-pre\_\-render\_\-fieldset@{form\_\-pre\_\-render\_\-fieldset}}
\index{form\_\-pre\_\-render\_\-fieldset@{form\_\-pre\_\-render\_\-fieldset}!form_api@{form\_\-api}}
\subsubsection[{form\_\-pre\_\-render\_\-fieldset}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-pre\_\-render\_\-fieldset (\$ {\em element})}}
\label{group__form__api_ga10c77d235a5451895a3d2862b1ff4e34}
Adds members of this group as actual elements for rendering.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the fieldset.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The modified element with all group members. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga32dae38034437282e774ecf9436fcdaa}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-actions@{form\_\-process\_\-actions}}
\index{form\_\-process\_\-actions@{form\_\-process\_\-actions}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-actions}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-actions (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga32dae38034437282e774ecf9436fcdaa}
Processes a form actions container element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the form actions container. \item[{\em \$form\_\-state}]The \$form\_\-state array for the form this element belongs to.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The processed element. 
\end{DoxyReturn}
\hypertarget{group__form__api_gab1a1b30f07888d0fa0de8b8222ee7994}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-checkbox@{form\_\-process\_\-checkbox}}
\index{form\_\-process\_\-checkbox@{form\_\-process\_\-checkbox}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-checkbox}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-checkbox (\$ {\em element}, \/  \$ {\em form\_\-state})}}
\label{group__form__api_gab1a1b30f07888d0fa0de8b8222ee7994}
Sets the checked property of a checkbox element. \hypertarget{group__form__api_ga916a0224fe0771749af2c05dfdb13df1}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-checkboxes@{form\_\-process\_\-checkboxes}}
\index{form\_\-process\_\-checkboxes@{form\_\-process\_\-checkboxes}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-checkboxes}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-checkboxes (\$ {\em element})}}
\label{group__form__api_ga916a0224fe0771749af2c05dfdb13df1}
Processes a checkboxes form element. \hypertarget{group__form__api_ga8a121eab47e8d864fcc62f8d8443f501}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-container@{form\_\-process\_\-container}}
\index{form\_\-process\_\-container@{form\_\-process\_\-container}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-container}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-container (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga8a121eab47e8d864fcc62f8d8443f501}
Processes a container element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the container. \item[{\em \$form\_\-state}]The \$form\_\-state array for the form this element belongs to.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The processed element. 
\end{DoxyReturn}
\hypertarget{group__form__api_gabc6b74cff84954f970d4997390473160}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-date@{form\_\-process\_\-date}}
\index{form\_\-process\_\-date@{form\_\-process\_\-date}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-date}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-date (\$ {\em element})}}
\label{group__form__api_gabc6b74cff84954f970d4997390473160}
Expands a date element into year, month, and day select elements. \hypertarget{group__form__api_gae2acfa7f531c487ac930d3a819ee63b5}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-fieldset@{form\_\-process\_\-fieldset}}
\index{form\_\-process\_\-fieldset@{form\_\-process\_\-fieldset}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-fieldset}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-fieldset (\&\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gae2acfa7f531c487ac930d3a819ee63b5}
Arranges fieldsets into groups.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the fieldset. Note that \$element must be taken by reference here, so processed child elements are taken over into \$form\_\-state. \item[{\em \$form\_\-state}]The \$form\_\-state array for the form this fieldset belongs to.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The processed element. 
\end{DoxyReturn}
\hypertarget{group__form__api_gacc2045f1fc86919221685bd809d22812}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-machine\_\-name@{form\_\-process\_\-machine\_\-name}}
\index{form\_\-process\_\-machine\_\-name@{form\_\-process\_\-machine\_\-name}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-machine\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-machine\_\-name (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gacc2045f1fc86919221685bd809d22812}
Processes a machine-\/readable name form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element to process. Properties used:
\begin{DoxyItemize}
\item machine\_\-name: An associative array containing:
\begin{DoxyItemize}
\item exists: A function name to invoke for checking whether a submitted machine name value already exists. The submitted value is passed as argument. In most cases, an existing API or menu argument loader function can be re-\/used. The callback is only invoked, if the submitted value differs from the element's default\_\-value.
\item source: (optional) The array\_\-parents of the form element containing the human-\/readable name (i.e., as contained in the \$form structure) to use as source for the machine name. Defaults to array('name').
\item label: (optional) A text to display as label for the machine name value after the human-\/readable name form element. Defaults to \char`\"{}Machine name\char`\"{}.
\item replace\_\-pattern: (optional) A regular expression (without delimiters) matching disallowed characters in the machine name. Defaults to '\mbox{[}$^\wedge$a-\/z0-\/9\_\-\mbox{]}+'.
\item replace: (optional) A character to replace disallowed characters in the machine name via JavaScript. Defaults to '\_\-' (underscore). When using a different character, 'replace\_\-pattern' needs to be set accordingly.
\item error: (optional) A custom form error message string to show, if the machine name contains disallowed characters.
\item standalone: (optional) Whether the live preview should stay in its own form element rather than in the suffix of the source element. Defaults to FALSE.
\end{DoxyItemize}
\item maxlength: (optional) Should be set to the maximum allowed length of the machine name. Defaults to 64.
\item disabled: (optional) Should be set to TRUE in case an existing machine name must not be changed after initial creation. 
\end{DoxyItemize}\end{DoxyParams}
\hypertarget{group__form__api_gae3a3dcd1a5e4e44c5c03bb1426066596}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-password\_\-confirm@{form\_\-process\_\-password\_\-confirm}}
\index{form\_\-process\_\-password\_\-confirm@{form\_\-process\_\-password\_\-confirm}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-password\_\-confirm}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-password\_\-confirm (\$ {\em element})}}
\label{group__form__api_gae3a3dcd1a5e4e44c5c03bb1426066596}
Expand a password\_\-confirm field into two text boxes. \hypertarget{group__form__api_ga61392e82fbc6eeeaf967b864da098ebc}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-radios@{form\_\-process\_\-radios}}
\index{form\_\-process\_\-radios@{form\_\-process\_\-radios}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-radios}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-radios (\$ {\em element})}}
\label{group__form__api_ga61392e82fbc6eeeaf967b864da098ebc}
Expands a radios element into individual radio elements. \hypertarget{group__form__api_ga1a2156b4aa18f567264d8c7aafd85dca}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-select@{form\_\-process\_\-select}}
\index{form\_\-process\_\-select@{form\_\-process\_\-select}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-select}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-select (\$ {\em element})}}
\label{group__form__api_ga1a2156b4aa18f567264d8c7aafd85dca}
Processes a select list form element.

This process callback is mandatory for select fields, since all user agents automatically preselect the first available option of single (non-\/multiple) select lists.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element to process. Properties used:
\begin{DoxyItemize}
\item multiple: (optional) Indicates whether one or more options can be selected. Defaults to FALSE.
\item default\_\-value: Must be NULL or not set in case there is no value for the element yet, in which case a first default option is inserted by default. Whether this first option is a valid option depends on whether the field is required or not.
\item required: (optional) Whether the user needs to select an option (TRUE) or not (FALSE). Defaults to FALSE.
\item empty\_\-option: (optional) The label to show for the first default option. By default, the label is automatically set to \char`\"{}-\/ Please select -\/\char`\"{} for a required field and \char`\"{}-\/ None -\/\char`\"{} for an optional field.
\item empty\_\-value: (optional) The value for the first default option, which is used to determine whether the user submitted a value or not.
\begin{DoxyItemize}
\item If required is TRUE, this defaults to '' (an empty string).
\item If required is not TRUE and this value isn't set, then no extra option is added to the select control, leaving the control in a slightly illogical state, because there's no way for the user to select nothing, since all user agents automatically preselect the first available option. But people are used to this being the behavior of select controls. 
\end{DoxyItemize}
\end{DoxyItemize}\end{DoxyParams}
\begin{Desc}
\item[\hyperlink{todo__todo000006}{Todo}]Address the above issue in Drupal 8.
\begin{DoxyItemize}
\item If required is not TRUE and this value is set (most commonly to an empty string), then an extra option (see empty\_\-option above) representing a \char`\"{}non-\/selection\char`\"{} is added with this as its value.
\end{DoxyItemize}\end{Desc}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__form__api_ga464b4724506722d2a2d482df27736357}{\_\-form\_\-validate()} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga4dc085d5191106b1a649c6df67feee30}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-tableselect@{form\_\-process\_\-tableselect}}
\index{form\_\-process\_\-tableselect@{form\_\-process\_\-tableselect}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-tableselect}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-tableselect (\$ {\em element})}}
\label{group__form__api_ga4dc085d5191106b1a649c6df67feee30}
Creates checkbox or radio elements to populate a tableselect table.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the tableselect element.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The processed element. 
\end{DoxyReturn}
\hypertarget{group__form__api_gaad2f405e02e146b5cfe75912a67964d6}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-vertical\_\-tabs@{form\_\-process\_\-vertical\_\-tabs}}
\index{form\_\-process\_\-vertical\_\-tabs@{form\_\-process\_\-vertical\_\-tabs}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-vertical\_\-tabs}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-vertical\_\-tabs (\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gaad2f405e02e146b5cfe75912a67964d6}
Creates a group formatted as vertical tabs.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties and children of the fieldset. \item[{\em \$form\_\-state}]The \$form\_\-state array for the form this vertical tab widget belongs to.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The processed element. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga8d816602aa24f851579022bb37feac42}{
\index{form\_\-api@{form\_\-api}!form\_\-process\_\-weight@{form\_\-process\_\-weight}}
\index{form\_\-process\_\-weight@{form\_\-process\_\-weight}!form_api@{form\_\-api}}
\subsubsection[{form\_\-process\_\-weight}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-process\_\-weight (\$ {\em element})}}
\label{group__form__api_ga8d816602aa24f851579022bb37feac42}
Expands a weight element into a select element. \hypertarget{group__form__api_ga018022f493d295538cb6d8d312dab866}{
\index{form\_\-api@{form\_\-api}!form\_\-select\_\-options@{form\_\-select\_\-options}}
\index{form\_\-select\_\-options@{form\_\-select\_\-options}!form_api@{form\_\-api}}
\subsubsection[{form\_\-select\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-select\_\-options (\$ {\em element}, \/  \$ {\em choices} = {\ttfamily NULL})}}
\label{group__form__api_ga018022f493d295538cb6d8d312dab866}
Converts a select form element's options array into HTML.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]An associative array containing the properties of the element. \item[{\em \$choices}]Mixed: Either an associative array of items to list as choices, or an object with an 'option' member that is an associative array. This parameter is only used internally and should not be passed.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An HTML string of options for the select form element. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga274fe9a7fe000a43b7f173e3b54dae7f}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-cache@{form\_\-set\_\-cache}}
\index{form\_\-set\_\-cache@{form\_\-set\_\-cache}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-cache (\$ {\em form\_\-build\_\-id}, \/  \$ {\em form}, \/  \$ {\em form\_\-state})}}
\label{group__form__api_ga274fe9a7fe000a43b7f173e3b54dae7f}
Stores a form in the cache. \hypertarget{group__form__api_ga6f4ecbec42e905390e521b393417f97f}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-error@{form\_\-set\_\-error}}
\index{form\_\-set\_\-error@{form\_\-set\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-error (\$ {\em name} = {\ttfamily NULL}, \/  \$ {\em message} = {\ttfamily ''}, \/  \$ {\em limit\_\-validation\_\-errors} = {\ttfamily NULL})}}
\label{group__form__api_ga6f4ecbec42e905390e521b393417f97f}
Files an error against a form element.

When a validation error is detected, the validator calls \hyperlink{group__form__api_ga6f4ecbec42e905390e521b393417f97f}{form\_\-set\_\-error()} to indicate which element needs to be changed and provide an error message. This causes the Form API to not execute the form submit handlers, and instead to re-\/display the form to the user with the corresponding elements rendered with an 'error' CSS class (shown as red by default).

The standard \hyperlink{group__form__api_ga6f4ecbec42e905390e521b393417f97f}{form\_\-set\_\-error()} behavior can be changed if a button provides the limit\_\-validation\_\-errors property. Multistep forms not wanting to validate the whole form can set limit\_\-validation\_\-errors on buttons to limit validation errors to only certain elements. For example, pressing the \char`\"{}Previous\char`\"{} button in a multistep form should not fire validation errors just because the current step has invalid values. If limit\_\-validation\_\-errors is set on a clicked button, the button must also define a submit property (may be set to an empty array). Any submit handlers will be executed even if there is invalid input, so extreme care should be taken with respect to any actions taken by them. This is typically not a problem with buttons like \char`\"{}Previous\char`\"{} or \char`\"{}Add more\char`\"{} that do not invoke persistent storage of the submitted form values. Do not use the limit\_\-validation\_\-errors property on buttons that trigger saving of form values to the database.

The limit\_\-validation\_\-errors property is a list of \char`\"{}sections\char`\"{} within \$form\_\-state\mbox{[}'values'\mbox{]} that must contain valid values. Each \char`\"{}section\char`\"{} is an array with the ordered set of keys needed to reach that part of \$form\_\-state\mbox{[}'values'\mbox{]} (i.e., the parents property of the element).

Example 1: Allow the \char`\"{}Previous\char`\"{} button to function, regardless of whether any user input is valid.


\begin{DoxyCode}
   $form['actions']['previous'] = array(
     '#type' => 'submit',
     '#value' => t('Previous'),
     '#limit_validation_errors' => array(),       // No validation.
     '#submit' => array('some_submit_function'),  // #submit required.
   );
\end{DoxyCode}


Example 2: Require some, but not all, user input to be valid to process the submission of a \char`\"{}Previous\char`\"{} button.


\begin{DoxyCode}
   $form['actions']['previous'] = array(
     '#type' => 'submit',
     '#value' => t('Previous'),
     '#limit_validation_errors' => array(
       array('step1'),       // Validate $form_state['values']['step1'].
       array('foo', 'bar'),  // Validate $form_state['values']['foo']['bar'].
     ),
     '#submit' => array('some_submit_function'), // #submit required.
   );
\end{DoxyCode}


This will require \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'step1'\mbox{]} and everything within it (for example, \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'step1'\mbox{]}\mbox{[}'choice'\mbox{]}) to be valid, so calls to form\_\-set\_\-error('step1', \$message) or form\_\-set\_\-error('step1\mbox{]}\mbox{[}choice', \$message) will prevent the submit handlers from running, and result in the error message being displayed to the user. However, calls to form\_\-set\_\-error('step2', \$message) and form\_\-set\_\-error('step2\mbox{]}\mbox{[}groupX\mbox{]}\mbox{[}choiceY', \$message) will be suppressed, resulting in the message not being displayed to the user, and the submit handlers will run despite \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'step2'\mbox{]} and \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'step2'\mbox{]}\mbox{[}'groupX'\mbox{]}\mbox{[}'choiceY'\mbox{]} containing invalid values. Errors for an invalid \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'foo'\mbox{]} will be suppressed, but errors flagging invalid values for \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'foo'\mbox{]}\mbox{[}'bar'\mbox{]} and everything within it will be flagged and submission prevented.

Partial form validation is implemented by suppressing errors rather than by skipping the input processing and validation steps entirely, because some forms have button-\/level submit handlers that call Drupal API functions that assume that certain data exists within \$form\_\-state\mbox{[}'values'\mbox{]}, and while not doing anything with that data that requires it to be valid, PHP errors would be triggered if the input processing and validation steps were fully skipped.


\begin{DoxyParams}{Parameters}
\item[{\em \$name}]The name of the form element. If the parents property of your form element is array('foo', 'bar', 'baz') then you may set an error on 'foo' or 'foo\mbox{]}\mbox{[}bar\mbox{]}\mbox{[}baz'. Setting an error on 'foo' sets an error for every element where the parents array starts with 'foo'. \item[{\em \$message}]The error message to present to the user. \item[{\em \$limit\_\-validation\_\-errors}]Internal use only. The limit\_\-validation\_\-errors property of the clicked button, if it exists.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return value is for internal use only. To get a list of errors, use \hyperlink{group__form__api_ga158b3db5e88e96bf060c524cebcb8130}{form\_\-get\_\-errors()} or \hyperlink{group__form__api_gae57581ad2406d61116a133b99142283b}{form\_\-get\_\-error()}.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{http://drupal.org/node/370537}{\tt http://drupal.org/node/370537} 

\href{http://drupal.org/node/763376}{\tt http://drupal.org/node/763376} 
\end{DoxySeeAlso}
\hypertarget{group__form__api_ga2a377a1fcccea79d06d1a735dea433f3}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-value@{form\_\-set\_\-value}}
\index{form\_\-set\_\-value@{form\_\-set\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-value (\$ {\em element}, \/  \$ {\em value}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga2a377a1fcccea79d06d1a735dea433f3}
Changes submitted form values during form validation.

Use this function to change the submitted value of a form element in a form validation function, so that the changed value persists in \$form\_\-state through the remaining validation and submission handlers. It does not change the value in \$element\mbox{[}'value'\mbox{]}, only in \$form\_\-state\mbox{[}'values'\mbox{]}, which is where submitted values are always stored.

Note that form validation functions are specified in the 'validate' component of the form array (the value of \$form\mbox{[}'validate'\mbox{]} is an array of validation function names). If the form does not originate in your module, you can implement \hyperlink{group__hooks_ga8d4a4089551493d55911bd5c4f218264}{hook\_\-form\_\-FORM\_\-ID\_\-alter()} to add a validation function to \$form\mbox{[}'validate'\mbox{]}.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element that should have its value updated; in most cases you can just pass in the element from the \$form array, although the only component that is actually used is 'parents'. If constructing yourself, set \$element\mbox{[}'parents'\mbox{]} to be an array giving the path through the form array's keys to the element whose value you want to update. For instance, if you want to update the value of \$form\mbox{[}'elem1'\mbox{]}\mbox{[}'elem2'\mbox{]}, which should be stored in \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'elem1'\mbox{]}\mbox{[}'elem2'\mbox{]}, you would set \$element\mbox{[}'parents'\mbox{]} = array('elem1','elem2'). \item[{\em \$value}]The new value for the form element. \item[{\em \$form\_\-state}]Form state array where the value change should be recorded. \end{DoxyParams}
\hypertarget{group__form__api_ga398705411ef7b0f88e08253a56683987}{
\index{form\_\-api@{form\_\-api}!form\_\-state\_\-defaults@{form\_\-state\_\-defaults}}
\index{form\_\-state\_\-defaults@{form\_\-state\_\-defaults}!form_api@{form\_\-api}}
\subsubsection[{form\_\-state\_\-defaults}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-state\_\-defaults ()}}
\label{group__form__api_ga398705411ef7b0f88e08253a56683987}
Retrieves default values for the \$form\_\-state array. \hypertarget{group__form__api_gabffb5c6a1218bb14db316fe29c4e52af}{
\index{form\_\-api@{form\_\-api}!form\_\-state\_\-keys\_\-no\_\-cache@{form\_\-state\_\-keys\_\-no\_\-cache}}
\index{form\_\-state\_\-keys\_\-no\_\-cache@{form\_\-state\_\-keys\_\-no\_\-cache}!form_api@{form\_\-api}}
\subsubsection[{form\_\-state\_\-keys\_\-no\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-state\_\-keys\_\-no\_\-cache ()}}
\label{group__form__api_gabffb5c6a1218bb14db316fe29c4e52af}
Returns an array of \$form\_\-state keys that shouldn't be cached. \hypertarget{group__form__api_ga012a73101cc9e2bfbb9e9a41c4e0a723}{
\index{form\_\-api@{form\_\-api}!form\_\-state\_\-values\_\-clean@{form\_\-state\_\-values\_\-clean}}
\index{form\_\-state\_\-values\_\-clean@{form\_\-state\_\-values\_\-clean}!form_api@{form\_\-api}}
\subsubsection[{form\_\-state\_\-values\_\-clean}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-state\_\-values\_\-clean (\&\$ {\em form\_\-state})}}
\label{group__form__api_ga012a73101cc9e2bfbb9e9a41c4e0a723}
Removes internal Form API elements and buttons from submitted form values.

This function can be used when a module wants to store all submitted form values, for example, by serializing them into a single database column. In such cases, all internal Form API values and all form button elements should not be contained, and this function allows to remove them before the module proceeds to storage. Next to button elements, the following internal values are removed:
\begin{DoxyItemize}
\item form\_\-id
\item form\_\-token
\item form\_\-build\_\-id
\item op
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em \$form\_\-state}]A keyed array containing the current state of the form, including submitted form values; altered by reference. \end{DoxyParams}
\hypertarget{group__form__api_gae6014b94202e1d6e5c55421fc5b7d368}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-checkbox\_\-value@{form\_\-type\_\-checkbox\_\-value}}
\index{form\_\-type\_\-checkbox\_\-value@{form\_\-type\_\-checkbox\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-checkbox\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-checkbox\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_gae6014b94202e1d6e5c55421fc5b7d368}
Determines the value for a checkbox form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_gaab8c7b8878c056d35d6000bb0fab3b2b}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-checkboxes\_\-value@{form\_\-type\_\-checkboxes\_\-value}}
\index{form\_\-type\_\-checkboxes\_\-value@{form\_\-type\_\-checkboxes\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-checkboxes\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-checkboxes\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_gaab8c7b8878c056d35d6000bb0fab3b2b}
Determines the value for a checkboxes form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga504ddd599ddb4a4992638ec6afb7cd40}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-image\_\-button\_\-value@{form\_\-type\_\-image\_\-button\_\-value}}
\index{form\_\-type\_\-image\_\-button\_\-value@{form\_\-type\_\-image\_\-button\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-image\_\-button\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-image\_\-button\_\-value (\$ {\em form}, \/  \$ {\em input}, \/  \$ {\em form\_\-state})}}
\label{group__form__api_ga504ddd599ddb4a4992638ec6afb7cd40}
Determines the value for an image button form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga3e473dba683cd32c95de1193f2a8fb94}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-password\_\-confirm\_\-value@{form\_\-type\_\-password\_\-confirm\_\-value}}
\index{form\_\-type\_\-password\_\-confirm\_\-value@{form\_\-type\_\-password\_\-confirm\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-password\_\-confirm\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-password\_\-confirm\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_ga3e473dba683cd32c95de1193f2a8fb94}
Determines the value for a password\_\-confirm form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_gaf0ad41f155f7ae8eae8386f3702b56f8}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-radios\_\-value@{form\_\-type\_\-radios\_\-value}}
\index{form\_\-type\_\-radios\_\-value@{form\_\-type\_\-radios\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-radios\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-radios\_\-value (\&\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_gaf0ad41f155f7ae8eae8386f3702b56f8}
Form value callback: Determines the value for a type radios form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}](optional) The incoming input to populate the form element. If FALSE, the element's default value is returned. Defaults to FALSE.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga244474506f87e80bc91f5d1e3be2a35e}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-select\_\-value@{form\_\-type\_\-select\_\-value}}
\index{form\_\-type\_\-select\_\-value@{form\_\-type\_\-select\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-select\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-select\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_ga244474506f87e80bc91f5d1e3be2a35e}
Determines the value for a select form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_gad36759844e875d35e1e220e90c460984}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-tableselect\_\-value@{form\_\-type\_\-tableselect\_\-value}}
\index{form\_\-type\_\-tableselect\_\-value@{form\_\-type\_\-tableselect\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-tableselect\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-tableselect\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_gad36759844e875d35e1e220e90c460984}
Determines the value for a tableselect form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_gaf2e351ecad2b3f0a3b319d110bf4b84b}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-textfield\_\-value@{form\_\-type\_\-textfield\_\-value}}
\index{form\_\-type\_\-textfield\_\-value@{form\_\-type\_\-textfield\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-textfield\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-textfield\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_gaf2e351ecad2b3f0a3b319d110bf4b84b}
Determines the value for a textfield form element.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga0f9d352bfa7b36285b8ba1bf9fe3c9ca}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-token\_\-value@{form\_\-type\_\-token\_\-value}}
\index{form\_\-type\_\-token\_\-value@{form\_\-type\_\-token\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-token\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-token\_\-value (\$ {\em element}, \/  \$ {\em input} = {\ttfamily FALSE})}}
\label{group__form__api_ga0f9d352bfa7b36285b8ba1bf9fe3c9ca}
Determines the value for form's token value.


\begin{DoxyParams}{Parameters}
\item[{\em \$element}]The form element whose value is being populated. \item[{\em \$input}]The incoming input to populate the form element. If this is FALSE, the element's default value should be returned.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data that will appear in the \$element\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. 
\end{DoxyReturn}
\hypertarget{group__form__api_ga22965a0e68fef7765e0eb2c475440e55}{
\index{form\_\-api@{form\_\-api}!form\_\-validate\_\-machine\_\-name@{form\_\-validate\_\-machine\_\-name}}
\index{form\_\-validate\_\-machine\_\-name@{form\_\-validate\_\-machine\_\-name}!form_api@{form\_\-api}}
\subsubsection[{form\_\-validate\_\-machine\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-validate\_\-machine\_\-name (\&\$ {\em element}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga22965a0e68fef7765e0eb2c475440e55}
Form element validation handler for machine\_\-name elements.

Note that maxlength is validated by \hyperlink{group__form__api_ga464b4724506722d2a2d482df27736357}{\_\-form\_\-validate()} already. \hypertarget{group__form__api_ga11e3cb67c8622b662acc4dff61e146a7}{
\index{form\_\-api@{form\_\-api}!map\_\-month@{map\_\-month}}
\index{map\_\-month@{map\_\-month}!form_api@{form\_\-api}}
\subsubsection[{map\_\-month}]{\setlength{\rightskip}{0pt plus 5cm}map\_\-month (\$ {\em month})}}
\label{group__form__api_ga11e3cb67c8622b662acc4dff61e146a7}
Helper function for usage with drupal\_\-map\_\-assoc to display month names. \hypertarget{group__form__api_gafa275652bc0a5641a124bc60727caa8a}{
\index{form\_\-api@{form\_\-api}!password\_\-confirm\_\-validate@{password\_\-confirm\_\-validate}}
\index{password\_\-confirm\_\-validate@{password\_\-confirm\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{password\_\-confirm\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}password\_\-confirm\_\-validate (\$ {\em element}, \/  \&\$ {\em element\_\-state})}}
\label{group__form__api_gafa275652bc0a5641a124bc60727caa8a}
Validates a password\_\-confirm element. \hypertarget{group__form__api_gad80eba4897b841808cb71e6ba97603b2}{
\index{form\_\-api@{form\_\-api}!weight\_\-value@{weight\_\-value}}
\index{weight\_\-value@{weight\_\-value}!form_api@{form\_\-api}}
\subsubsection[{weight\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}weight\_\-value (\&\$ {\em form})}}
\label{group__form__api_gad80eba4897b841808cb71e6ba97603b2}
Sets the value for a weight element, with zero as a default. 