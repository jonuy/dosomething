\hypertarget{wysiwyg_8dialog_8inc}{
\section{html/profiles/dosomething/modules/contrib/wysiwyg/wysiwyg.dialog.inc File Reference}
\label{wysiwyg_8dialog_8inc}\index{html/profiles/dosomething/modules/contrib/wysiwyg/wysiwyg.dialog.inc@{html/profiles/dosomething/modules/contrib/wysiwyg/wysiwyg.dialog.inc}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{wysiwyg_8dialog_8inc_a57c7ce003075f4a07b9a555a822755b8}{wysiwyg\_\-dialog} (\$plugin, \$instance)
\item 
\hyperlink{wysiwyg_8dialog_8inc_a11742186be99db206b09a5682afa2130}{wysiwyg\_\-deliver\_\-dialog\_\-page} (\$page\_\-callback\_\-result)
\item 
\hyperlink{wysiwyg_8dialog_8inc_a7c9acb68c62f91fa07a346e18d70407f}{wysiwyg\_\-render\_\-dialog\_\-page} (\$page)
\item 
\hyperlink{wysiwyg_8dialog_8inc_a01e89cc085ea9214d877749b55f50639}{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page} (\&\$variables)
\item 
\hyperlink{wysiwyg_8dialog_8inc_ac59a9d7f504a104da018256132f53b60}{template\_\-process\_\-wysiwyg\_\-dialog\_\-page} (\&\$variables)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Wysiwyg dialog page handling functions. 

\subsection{Function Documentation}
\hypertarget{wysiwyg_8dialog_8inc_a01e89cc085ea9214d877749b55f50639}{
\index{wysiwyg.dialog.inc@{wysiwyg.dialog.inc}!template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page@{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page}}
\index{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page@{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page}!wysiwyg.dialog.inc@{wysiwyg.dialog.inc}}
\subsubsection[{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page (\&\$ {\em variables})}}
\label{wysiwyg_8dialog_8inc_a01e89cc085ea9214d877749b55f50639}
Template preprocess function for theme\_\-wysiwyg\_\-dialog\_\-page().

\begin{DoxySeeAlso}{See also}
\hyperlink{wysiwyg_8dialog_8inc_a57c7ce003075f4a07b9a555a822755b8}{wysiwyg\_\-dialog()} 

\hyperlink{wysiwyg-dialog-page_8tpl_8php}{wysiwyg-\/dialog-\/page.tpl.php} 

template\_\-preprocess\_\-page() 
\end{DoxySeeAlso}
\hypertarget{wysiwyg_8dialog_8inc_ac59a9d7f504a104da018256132f53b60}{
\index{wysiwyg.dialog.inc@{wysiwyg.dialog.inc}!template\_\-process\_\-wysiwyg\_\-dialog\_\-page@{template\_\-process\_\-wysiwyg\_\-dialog\_\-page}}
\index{template\_\-process\_\-wysiwyg\_\-dialog\_\-page@{template\_\-process\_\-wysiwyg\_\-dialog\_\-page}!wysiwyg.dialog.inc@{wysiwyg.dialog.inc}}
\subsubsection[{template\_\-process\_\-wysiwyg\_\-dialog\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}template\_\-process\_\-wysiwyg\_\-dialog\_\-page (\&\$ {\em variables})}}
\label{wysiwyg_8dialog_8inc_ac59a9d7f504a104da018256132f53b60}
Template process function for theme\_\-wysiwyg\_\-dialog\_\-page().

\begin{DoxySeeAlso}{See also}
\hyperlink{wysiwyg_8dialog_8inc_a57c7ce003075f4a07b9a555a822755b8}{wysiwyg\_\-dialog()} 

\hyperlink{wysiwyg-dialog-page_8tpl_8php}{wysiwyg-\/dialog-\/page.tpl.php} 

template\_\-process\_\-page() 
\end{DoxySeeAlso}
\hypertarget{wysiwyg_8dialog_8inc_a11742186be99db206b09a5682afa2130}{
\index{wysiwyg.dialog.inc@{wysiwyg.dialog.inc}!wysiwyg\_\-deliver\_\-dialog\_\-page@{wysiwyg\_\-deliver\_\-dialog\_\-page}}
\index{wysiwyg\_\-deliver\_\-dialog\_\-page@{wysiwyg\_\-deliver\_\-dialog\_\-page}!wysiwyg.dialog.inc@{wysiwyg.dialog.inc}}
\subsubsection[{wysiwyg\_\-deliver\_\-dialog\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}wysiwyg\_\-deliver\_\-dialog\_\-page (\$ {\em page\_\-callback\_\-result})}}
\label{wysiwyg_8dialog_8inc_a11742186be99db206b09a5682afa2130}
\begin{DoxySeeAlso}{See also}
drupal\_\-deliver\_\-html\_\-page() 
\end{DoxySeeAlso}
\hypertarget{wysiwyg_8dialog_8inc_a57c7ce003075f4a07b9a555a822755b8}{
\index{wysiwyg.dialog.inc@{wysiwyg.dialog.inc}!wysiwyg\_\-dialog@{wysiwyg\_\-dialog}}
\index{wysiwyg\_\-dialog@{wysiwyg\_\-dialog}!wysiwyg.dialog.inc@{wysiwyg.dialog.inc}}
\subsubsection[{wysiwyg\_\-dialog}]{\setlength{\rightskip}{0pt plus 5cm}wysiwyg\_\-dialog (\$ {\em plugin}, \/  \$ {\em instance})}}
\label{wysiwyg_8dialog_8inc_a57c7ce003075f4a07b9a555a822755b8}
Page callback; Outputs a dialog page for a wysiwyg plugin.

A Wysiwyg dialog is a bare minimum, simple HTML page; presented in a modal/popup window, triggered via JavaScript.

However, Drupal core does not support such a concept, at all. Insanity happens on two separate layers:
\begin{DoxyItemize}
\item All HTML pages go through the default delivery callback of drupal\_\-deliver\_\-html\_\-page(), which calls into drupal\_\-render\_\-page(), which in turn $\ast$unconditionally$\ast$ invokes hook\_\-page\_\-build() implementations. Thus, block\_\-page\_\-build() and similar implementations add the entirety of their page regions and blocks to our simple dialog page. Obviously, we don't want that.
\item There is a nice default 'page' theme template implementation, which performs all the heavy-\/lifting that is required for outputting a sane HTML page through preprocess and process functions. The theme system does not support to \char`\"{}inherit\char`\"{} preprocess and process hooks to alternative implementations. Even a very basic HTML page requires almost all of that. However, the default page template (normally overridden by a theme) contains too many regions and usually also huge a header and footer. Obviously, we don't want that.
\end{DoxyItemize}

The poor workaround would be to follow the Overlay module's implementation in core: override the theme, build everything, and after doing all of that, strip away what isn't needed. Obviously, we don't want that.

Instead, we bend Drupal to sane rules:
\begin{DoxyItemize}
\item This page callback returns the actual main content.
\item \hyperlink{wysiwyg_8module_a7bbcb615ff86965ede6de1ebdaf1f360}{wysiwyg\_\-menu()} defines a custom delivery callback that replaces drupal\_\-deliver\_\-html\_\-page(), just because we need to replace drupal\_\-render\_\-page().
\item Our replacement for drupal\_\-render\_\-page() builds a \$page that does not use type 'page' but type 'wysiwyg\_\-dialog\_\-page' instead.
\item type 'wysiwyg\_\-dialog\_\-page' is defined like type 'page' in system\_\-element\_\-info(), but is required, because there's no way to inherit a theme definition but override the page template file to be used.
\item As a consequence, type 'wysiwyg\_\-dialog\_\-page' uses theme 'wysiwyg\_\-dialog\_\-page', for which we have to implement stub preprocess and process callbacks in order to call into the ones for theme 'page'.
\end{DoxyItemize}

As a result we get:
\begin{DoxyItemize}
\item A HTML response.
\item A HTML page wrapped into html.tpl.php.
\item A page title, title prefix/suffix, messages, help, etc.pp.
\item A simple page without regions and blocks (neither built nor rendered).
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
\hyperlink{wysiwyg_8module_a7bbcb615ff86965ede6de1ebdaf1f360}{wysiwyg\_\-menu()} 

\hyperlink{wysiwyg_8dialog_8inc_a11742186be99db206b09a5682afa2130}{wysiwyg\_\-deliver\_\-dialog\_\-page} 

\hyperlink{wysiwyg_8dialog_8inc_a7c9acb68c62f91fa07a346e18d70407f}{wysiwyg\_\-render\_\-dialog\_\-page()} 

\hyperlink{wysiwyg_8module_a558b7da961229a8d501fa8581d802093}{wysiwyg\_\-element\_\-info()} 

\hyperlink{wysiwyg_8module_a03b61c521946527bba7ecee753da3256}{wysiwyg\_\-theme()} 

\hyperlink{wysiwyg_8dialog_8inc_a01e89cc085ea9214d877749b55f50639}{template\_\-preprocess\_\-wysiwyg\_\-dialog\_\-page()} 

\hyperlink{wysiwyg_8dialog_8inc_ac59a9d7f504a104da018256132f53b60}{template\_\-process\_\-wysiwyg\_\-dialog\_\-page()}

drupal\_\-deliver\_\-page() 

drupal\_\-deliver\_\-html\_\-page() 

drupal\_\-render\_\-page() 

system\_\-element\_\-info() 

drupal\_\-common\_\-theme() 

template\_\-preprocess\_\-page() 

template\_\-process\_\-page() 
\end{DoxySeeAlso}
\hypertarget{wysiwyg_8dialog_8inc_a7c9acb68c62f91fa07a346e18d70407f}{
\index{wysiwyg.dialog.inc@{wysiwyg.dialog.inc}!wysiwyg\_\-render\_\-dialog\_\-page@{wysiwyg\_\-render\_\-dialog\_\-page}}
\index{wysiwyg\_\-render\_\-dialog\_\-page@{wysiwyg\_\-render\_\-dialog\_\-page}!wysiwyg.dialog.inc@{wysiwyg.dialog.inc}}
\subsubsection[{wysiwyg\_\-render\_\-dialog\_\-page}]{\setlength{\rightskip}{0pt plus 5cm}wysiwyg\_\-render\_\-dialog\_\-page (\$ {\em page})}}
\label{wysiwyg_8dialog_8inc_a7c9acb68c62f91fa07a346e18d70407f}
\begin{DoxySeeAlso}{See also}
drupal\_\-render\_\-page() 
\end{DoxySeeAlso}
