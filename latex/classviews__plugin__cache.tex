\hypertarget{classviews__plugin__cache}{
\section{views\_\-plugin\_\-cache Class Reference}
\label{classviews__plugin__cache}\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}}
}
Inheritance diagram for views\_\-plugin\_\-cache::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{classviews__plugin__cache}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classviews__plugin__cache_a6cecf3993f6314215559c6a914f8a96b}{init} (\&\$\hyperlink{classview}{view}, \&\$display)
\item 
\hyperlink{classviews__plugin__cache_a35e5232e39c8148476328e302787d16b}{summary\_\-title} ()
\item 
\hyperlink{classviews__plugin__cache_ababefa702965b1e9123a9cdc620f7d52}{cache\_\-expire} (\$type)
\item 
\hyperlink{classviews__plugin__cache_a1b96b0d016d91c5885592d3eaf1c8fca}{cache\_\-set\_\-expire} (\$type)
\item 
\hyperlink{classviews__plugin__cache_a4089f1652603b3e1012a8b0f00407c05}{cache\_\-set} (\$type)
\item 
\hyperlink{classviews__plugin__cache_a77d1ef6d62d4eb84209cf310194b173b}{cache\_\-get} (\$type)
\item 
\hyperlink{classviews__plugin__cache_a412bdc7ee43c6c26903d22b636ea96c8}{cache\_\-flush} ()
\item 
\hyperlink{classviews__plugin__cache_aac0aacd51f591fd161fb5fb1d735e3a8}{post\_\-render} (\&\$output)
\item 
\hyperlink{classviews__plugin__cache_aa59c91a728401e1a49857346ae665ce7}{cache\_\-start} ()
\item 
\hyperlink{classviews__plugin__cache_a557cef7540eec7d0a6ad9cd030724ef7}{gather\_\-headers} ()
\item 
\hyperlink{classviews__plugin__cache_a950552f19c93dc2132e73acc4c9198ac}{restore\_\-headers} ()
\item 
\hypertarget{classviews__plugin__cache_a91e1e17b18f19de9efb5365a78bd9585}{
{\bfseries get\_\-results\_\-key} ()}
\label{classviews__plugin__cache_a91e1e17b18f19de9efb5365a78bd9585}

\item 
\hypertarget{classviews__plugin__cache_a2c3ae60daf3a17787b37f1266a329135}{
{\bfseries get\_\-output\_\-key} ()}
\label{classviews__plugin__cache_a2c3ae60daf3a17787b37f1266a329135}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classviews__plugin__cache_adedb6ce98b20d56856176eb732887c89}{\$storage} = array()
\item 
\hyperlink{classviews__plugin__cache_ab87d5a0d212d539d19825a26e88fc070}{\$table} = 'cache\_\-views\_\-data'
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The base plugin to handle caching. 

\subsection{Member Function Documentation}
\hypertarget{classviews__plugin__cache_ababefa702965b1e9123a9cdc620f7d52}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-expire@{cache\_\-expire}}
\index{cache\_\-expire@{cache\_\-expire}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-expire}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-expire (\$ {\em type})}}
\label{classviews__plugin__cache_ababefa702965b1e9123a9cdc620f7d52}
Determine the expiration time of the cache type, or NULL if no expire.

Plugins must override this to implement expiration.


\begin{DoxyParams}{Parameters}
\item[{\em \$type}]The cache type, either 'query', 'result' or 'output'. \end{DoxyParams}


Reimplemented in \hyperlink{classviews__plugin__cache__time_a6e04720a6807812cfb5840ea7b49baaa}{views\_\-plugin\_\-cache\_\-time}.\hypertarget{classviews__plugin__cache_a412bdc7ee43c6c26903d22b636ea96c8}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-flush@{cache\_\-flush}}
\index{cache\_\-flush@{cache\_\-flush}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-flush}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-flush ()}}
\label{classviews__plugin__cache_a412bdc7ee43c6c26903d22b636ea96c8}
Clear out cached data for a \hyperlink{classview}{view}.

We're just going to nuke anything related to the \hyperlink{classview}{view}, regardless of display, to be sure that we catch everything. Maybe that's a bad idea. \hypertarget{classviews__plugin__cache_a77d1ef6d62d4eb84209cf310194b173b}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-get@{cache\_\-get}}
\index{cache\_\-get@{cache\_\-get}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-get (\$ {\em type})}}
\label{classviews__plugin__cache_a77d1ef6d62d4eb84209cf310194b173b}
Retrieve data from the cache.

A plugin should override this to provide specialized caching behavior. 

Reimplemented in \hyperlink{classviews__plugin__cache__none_a8c0a82cd971ea8abc1045107726a3f1d}{views\_\-plugin\_\-cache\_\-none}.\hypertarget{classviews__plugin__cache_a4089f1652603b3e1012a8b0f00407c05}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-set@{cache\_\-set}}
\index{cache\_\-set@{cache\_\-set}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-set (\$ {\em type})}}
\label{classviews__plugin__cache_a4089f1652603b3e1012a8b0f00407c05}
Save data to the cache.

A plugin should override this to provide specialized caching behavior. 

Reimplemented in \hyperlink{classviews__plugin__cache__none_a0c66f7c812356a9327ec968c7de6dc47}{views\_\-plugin\_\-cache\_\-none}.\hypertarget{classviews__plugin__cache_a1b96b0d016d91c5885592d3eaf1c8fca}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-set\_\-expire@{cache\_\-set\_\-expire}}
\index{cache\_\-set\_\-expire@{cache\_\-set\_\-expire}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-set\_\-expire}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-set\_\-expire (\$ {\em type})}}
\label{classviews__plugin__cache_a1b96b0d016d91c5885592d3eaf1c8fca}
Determine expiration time in the cache table of the cache type or CACHE\_\-PERMANENT if item shouldn't be removed automatically from cache.

Plugins must override this to implement expiration in the cache table.


\begin{DoxyParams}{Parameters}
\item[{\em \$type}]The cache type, either 'query', 'result' or 'output'. \end{DoxyParams}


Reimplemented in \hyperlink{classviews__plugin__cache__time_ab816b7a602e3225387b41c0e7950a54c}{views\_\-plugin\_\-cache\_\-time}.\hypertarget{classviews__plugin__cache_aa59c91a728401e1a49857346ae665ce7}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!cache\_\-start@{cache\_\-start}}
\index{cache\_\-start@{cache\_\-start}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{cache\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::cache\_\-start ()}}
\label{classviews__plugin__cache_aa59c91a728401e1a49857346ae665ce7}
Start caching javascript, css and other out of band info.

This takes a snapshot of the current system state so that we don't duplicate it. Later on, when \hyperlink{classviews__plugin__cache_a557cef7540eec7d0a6ad9cd030724ef7}{gather\_\-headers()} is run, this information will be removed so that we don't hold onto it. 

Reimplemented in \hyperlink{classviews__plugin__cache__none_a17f65a53d00a8c51865027c3bce8172a}{views\_\-plugin\_\-cache\_\-none}.\hypertarget{classviews__plugin__cache_a557cef7540eec7d0a6ad9cd030724ef7}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!gather\_\-headers@{gather\_\-headers}}
\index{gather\_\-headers@{gather\_\-headers}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{gather\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::gather\_\-headers ()}}
\label{classviews__plugin__cache_a557cef7540eec7d0a6ad9cd030724ef7}
Gather out of band data, compare it to what we started with and store the difference. \hypertarget{classviews__plugin__cache_a6cecf3993f6314215559c6a914f8a96b}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!init@{init}}
\index{init@{init}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::init (\&\$ {\em view}, \/  \&\$ {\em display})}}
\label{classviews__plugin__cache_a6cecf3993f6314215559c6a914f8a96b}
Initialize the plugin.


\begin{DoxyParams}{Parameters}
\item[{\em \$view}]The \hyperlink{classview}{view} object. \item[{\em \$display}]The display handler. \end{DoxyParams}
\hypertarget{classviews__plugin__cache_aac0aacd51f591fd161fb5fb1d735e3a8}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!post\_\-render@{post\_\-render}}
\index{post\_\-render@{post\_\-render}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{post\_\-render}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::post\_\-render (\&\$ {\em output})}}
\label{classviews__plugin__cache_aac0aacd51f591fd161fb5fb1d735e3a8}
Post process any rendered data.

This can be valuable to be able to cache a \hyperlink{classview}{view} and still have some level of dynamic output. In an ideal world, the actual output will include HTML comment based tokens, and then the post process can replace those tokens.

Example usage. If it is known that the \hyperlink{classview}{view} is a node \hyperlink{classview}{view} and that the primary field will be a nid, you can do something like this:

And then in the post render, create an array with the text that should go there:

strtr(\$output, array('', 'output for FIELD of nid 1');

All of the cached result data will be available in \$view-\/$>$result, as well, so all ids used in the query should be discoverable. \hypertarget{classviews__plugin__cache_a950552f19c93dc2132e73acc4c9198ac}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!restore\_\-headers@{restore\_\-headers}}
\index{restore\_\-headers@{restore\_\-headers}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{restore\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::restore\_\-headers ()}}
\label{classviews__plugin__cache_a950552f19c93dc2132e73acc4c9198ac}
Restore out of band data saved to cache. Copied from Panels. \hypertarget{classviews__plugin__cache_a35e5232e39c8148476328e302787d16b}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!summary\_\-title@{summary\_\-title}}
\index{summary\_\-title@{summary\_\-title}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{summary\_\-title}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::summary\_\-title ()}}
\label{classviews__plugin__cache_a35e5232e39c8148476328e302787d16b}
Return a string to display as the clickable title for the access control. 

Reimplemented from \hyperlink{classviews__plugin_a9a4aaece48a7cf465dd95d59a3bc5ea1}{views\_\-plugin}.

Reimplemented in \hyperlink{classviews__plugin__cache__none_a52838d0e7db62b5e92f837df6a4931b9}{views\_\-plugin\_\-cache\_\-none}, and \hyperlink{classviews__plugin__cache__time_ac8eaac0cd0c620c7583dbbe0481ca62c}{views\_\-plugin\_\-cache\_\-time}.

\subsection{Member Data Documentation}
\hypertarget{classviews__plugin__cache_adedb6ce98b20d56856176eb732887c89}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!\$storage@{\$storage}}
\index{\$storage@{\$storage}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{\$storage}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::\$storage = array()}}
\label{classviews__plugin__cache_adedb6ce98b20d56856176eb732887c89}
Contains all data that should be written/read from cache. \hypertarget{classviews__plugin__cache_ab87d5a0d212d539d19825a26e88fc070}{
\index{views\_\-plugin\_\-cache@{views\_\-plugin\_\-cache}!\$table@{\$table}}
\index{\$table@{\$table}!views_plugin_cache@{views\_\-plugin\_\-cache}}
\subsubsection[{\$table}]{\setlength{\rightskip}{0pt plus 5cm}views\_\-plugin\_\-cache::\$table = 'cache\_\-views\_\-data'}}
\label{classviews__plugin__cache_ab87d5a0d212d539d19825a26e88fc070}
What table to store data in. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
html/profiles/dosomething/modules/contrib/views/plugins/\hyperlink{views__plugin__cache_8inc}{views\_\-plugin\_\-cache.inc}\end{DoxyCompactItemize}
