\hypertarget{group__rdf}{
\section{RDF Mapping API}
\label{group__rdf}\index{RDF Mapping API@{RDF Mapping API}}
}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__rdf_ga4f749985c55ac04563d6446524062ac9}{RDF\_\-DEFAULT\_\-BUNDLE} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__rdf_gae3e7f047bdcb9309b323e2af09966765}{hook\_\-rdf\_\-mapping} ()
\item 
\hyperlink{group__rdf_ga32e59c5e172304a5f49ec7d76ee6bf3b}{hook\_\-rdf\_\-namespaces} ()
\item 
\hyperlink{group__rdf_gaed65d375e129af058947c2d614eb1d3c}{rdf\_\-rdf\_\-namespaces} ()
\item 
\hyperlink{group__rdf_ga395ff70b78c0363ca9ce631b3d15e774}{rdf\_\-get\_\-namespaces} ()
\item 
\hyperlink{group__rdf_ga130340d3ee5b36d5f7da31160b9460ac}{rdf\_\-mapping\_\-load} (\$type, \$bundle=\hyperlink{group__rdf_ga4f749985c55ac04563d6446524062ac9}{RDF\_\-DEFAULT\_\-BUNDLE})
\item 
\hyperlink{group__rdf_ga1e628638b2684b9a5ebc0847066d9131}{rdf\_\-mapping\_\-save} (\$mapping)
\item 
\hyperlink{group__rdf_ga59c3470135f39d1b607e03a0aa774470}{rdf\_\-mapping\_\-delete} (\$type, \$bundle)
\item 
\hyperlink{group__rdf_ga9b02589c8277c732de8c035d5a606de9}{rdf\_\-rdfa\_\-attributes} (\$mapping, \$data=NULL)
\item 
\hyperlink{group__rdf_ga3bb0346c634262f7b193957cc26d38ca}{theme\_\-rdf\_\-template\_\-variable\_\-wrapper} (\$variables)
\item 
\hyperlink{group__rdf_ga74f92e91794fd4f2fcb9abfd777a5955}{theme\_\-rdf\_\-metadata} (\$variables)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions to describe entities and bundles in RDF.

The RDF module introduces RDF and RDFa to Drupal. RDF is a W3C standard to describe structured data. RDF can be serialized as RDFa in XHTML attributes to augment visual data with machine-\/readable hints. \begin{DoxySeeAlso}{See also}
\href{http://www.w3.org/RDF/}{\tt http://www.w3.org/RDF/} 

\href{http://www.w3.org/TR/xhtml-rdfa-primer/}{\tt http://www.w3.org/TR/xhtml-\/rdfa-\/primer/}
\end{DoxySeeAlso}
Modules can provide mappings of their bundles' data and metadata to RDF classes and properties. This module takes care of injecting these mappings into variables available to theme functions and templates. All Drupal core themes are coded to be RDFa compatible.

Example mapping from \hyperlink{node_8module}{node.module}: 
\begin{DoxyCode}
   array(
     'type' => 'node',
     'bundle' => RDF_DEFAULT_BUNDLE,
     'mapping' => array(
       'rdftype' => array('sioc:Item', 'foaf:Document'),
       'title' => array(
         'predicates' => array('dc:title'),
       ),
       'created' => array(
         'predicates' => array('dc:date', 'dc:created'),
         'datatype' => 'xsd:dateTime',
         'callback' => 'date_iso8601',
       ),
      'body' => array(
         'predicates' => array('content:encoded'),
       ),
       'uid' => array(
         'predicates' => array('sioc:has_creator'),
       ),
       'name' => array(
         'predicates' => array('foaf:name'),
       ),
     ),
   );
\end{DoxyCode}
 

\subsection{Enumeration Type Documentation}
\hypertarget{group__rdf_ga4f749985c55ac04563d6446524062ac9}{
\index{rdf@{rdf}!RDF\_\-DEFAULT\_\-BUNDLE@{RDF\_\-DEFAULT\_\-BUNDLE}}
\index{RDF\_\-DEFAULT\_\-BUNDLE@{RDF\_\-DEFAULT\_\-BUNDLE}!rdf@{rdf}}
\subsubsection[{RDF\_\-DEFAULT\_\-BUNDLE}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf RDF\_\-DEFAULT\_\-BUNDLE}}}
\label{group__rdf_ga4f749985c55ac04563d6446524062ac9}
RDF bundle flag: Default bundle.

Implementations of \hyperlink{group__rdf_gae3e7f047bdcb9309b323e2af09966765}{hook\_\-rdf\_\-mapping()} should use this constant for the 'bundle' key when defining a default set of RDF mappings for an entity type. Each bundle will inherit the default mappings defined for the entity type unless the bundle defines its own specific mappings. 

\subsection{Function Documentation}
\hypertarget{group__rdf_gae3e7f047bdcb9309b323e2af09966765}{
\index{rdf@{rdf}!hook\_\-rdf\_\-mapping@{hook\_\-rdf\_\-mapping}}
\index{hook\_\-rdf\_\-mapping@{hook\_\-rdf\_\-mapping}!rdf@{rdf}}
\subsubsection[{hook\_\-rdf\_\-mapping}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-rdf\_\-mapping ()}}
\label{group__rdf_gae3e7f047bdcb9309b323e2af09966765}
Allow modules to define RDF mappings for field bundles.

Modules defining their own field bundles can specify which RDF semantics should be used to annotate these bundles. These mappings are then used for automatic RDFa output in the HTML code.

\begin{DoxyReturn}{Returns}
A list of mapping structures, where each mapping is an associative array:
\begin{DoxyItemize}
\item type: The name of an entity type (e.g., 'node', 'comment', and so on.)
\item bundle: The name of the bundle (e.g., 'page', 'blog', or RDF\_\-DEFAULT\_\-BUNDLE for default mappings.)
\item mapping: The mapping structure which applies to the entity type and bundle. A mapping structure is an array with keys corresponding to existing field instances in the bundle. Each field is then described in terms of the RDF mapping:
\begin{DoxyItemize}
\item predicates: An array of RDF predicates which describe the relation between the bundle (RDF subject) and the value of the field (RDF object). This value is either some text, another bundle, or a URI in general.
\item datatype: Is used along with 'callback' to format data so that it is readable by machines. A typical example is a date which can be written in many different formats but should be translated into a uniform format for machine consumption.
\item callback: A function name to invoke for 'datatype'.
\item type: A string used to determine the type of RDFa markup which will be used in the final HTML output, depending on whether the RDF object is a literal text or another RDF resource.
\item rdftype: A special property used to define the type of the instance. Its value should be an array of RDF classes. 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{group__rdf_ga32e59c5e172304a5f49ec7d76ee6bf3b}{
\index{rdf@{rdf}!hook\_\-rdf\_\-namespaces@{hook\_\-rdf\_\-namespaces}}
\index{hook\_\-rdf\_\-namespaces@{hook\_\-rdf\_\-namespaces}!rdf@{rdf}}
\subsubsection[{hook\_\-rdf\_\-namespaces}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-rdf\_\-namespaces ()}}
\label{group__rdf_ga32e59c5e172304a5f49ec7d76ee6bf3b}
Allow modules to define namespaces for RDF mappings.

Many common namespace prefixes are defined in \hyperlink{group__rdf_gaed65d375e129af058947c2d614eb1d3c}{rdf\_\-rdf\_\-namespaces()}. However, if a module implements \hyperlink{group__rdf_gae3e7f047bdcb9309b323e2af09966765}{hook\_\-rdf\_\-mapping()} and uses a prefix that is not defined in \hyperlink{group__rdf_gaed65d375e129af058947c2d614eb1d3c}{rdf\_\-rdf\_\-namespaces()}, this hook should be used to define the new namespace prefix.

\begin{DoxyReturn}{Returns}
An associative array of namespaces where the key is the namespace prefix and the value is the namespace URI. 
\end{DoxyReturn}
\hypertarget{group__rdf_ga395ff70b78c0363ca9ce631b3d15e774}{
\index{rdf@{rdf}!rdf\_\-get\_\-namespaces@{rdf\_\-get\_\-namespaces}}
\index{rdf\_\-get\_\-namespaces@{rdf\_\-get\_\-namespaces}!rdf@{rdf}}
\subsubsection[{rdf\_\-get\_\-namespaces}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-get\_\-namespaces ()}}
\label{group__rdf_ga395ff70b78c0363ca9ce631b3d15e774}
Returns an array of RDF namespaces defined in modules that implement \hyperlink{group__rdf_ga32e59c5e172304a5f49ec7d76ee6bf3b}{hook\_\-rdf\_\-namespaces()}. \hypertarget{group__rdf_ga59c3470135f39d1b607e03a0aa774470}{
\index{rdf@{rdf}!rdf\_\-mapping\_\-delete@{rdf\_\-mapping\_\-delete}}
\index{rdf\_\-mapping\_\-delete@{rdf\_\-mapping\_\-delete}!rdf@{rdf}}
\subsubsection[{rdf\_\-mapping\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-mapping\_\-delete (\$ {\em type}, \/  \$ {\em bundle})}}
\label{group__rdf_ga59c3470135f39d1b607e03a0aa774470}
Deletes the mapping for the given bundle from the database.


\begin{DoxyParams}{Parameters}
\item[{\em \$type}]The entity type the mapping refers to. \item[{\em \$bundle}]The bundle the mapping refers to.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return boolean TRUE if mapping deleted, FALSE if not. 
\end{DoxyReturn}
\hypertarget{group__rdf_ga130340d3ee5b36d5f7da31160b9460ac}{
\index{rdf@{rdf}!rdf\_\-mapping\_\-load@{rdf\_\-mapping\_\-load}}
\index{rdf\_\-mapping\_\-load@{rdf\_\-mapping\_\-load}!rdf@{rdf}}
\subsubsection[{rdf\_\-mapping\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-mapping\_\-load (\$ {\em type}, \/  \$ {\em bundle} = {\ttfamily {\bf RDF\_\-DEFAULT\_\-BUNDLE}})}}
\label{group__rdf_ga130340d3ee5b36d5f7da31160b9460ac}
Returns the mapping for attributes of a given entity type/bundle pair.


\begin{DoxyParams}{Parameters}
\item[{\em \$type}]An entity type. \item[{\em \$bundle}](optional) A bundle name.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The mapping corresponding to the requested entity type/bundle pair or an empty array. 
\end{DoxyReturn}
\hypertarget{group__rdf_ga1e628638b2684b9a5ebc0847066d9131}{
\index{rdf@{rdf}!rdf\_\-mapping\_\-save@{rdf\_\-mapping\_\-save}}
\index{rdf\_\-mapping\_\-save@{rdf\_\-mapping\_\-save}!rdf@{rdf}}
\subsubsection[{rdf\_\-mapping\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-mapping\_\-save (\$ {\em mapping})}}
\label{group__rdf_ga1e628638b2684b9a5ebc0847066d9131}
Saves an RDF mapping to the database.

Takes a mapping structure returned by \hyperlink{group__rdf_gae3e7f047bdcb9309b323e2af09966765}{hook\_\-rdf\_\-mapping()} implementations and creates or updates a record mapping for each encountered entity type/bundle pair. If available, adds default values for non-\/existent mapping keys.


\begin{DoxyParams}{Parameters}
\item[{\em \$mapping}]The RDF mapping to save, as an array.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status flag indicating the outcome of the operation. 
\end{DoxyReturn}
\hypertarget{group__rdf_gaed65d375e129af058947c2d614eb1d3c}{
\index{rdf@{rdf}!rdf\_\-rdf\_\-namespaces@{rdf\_\-rdf\_\-namespaces}}
\index{rdf\_\-rdf\_\-namespaces@{rdf\_\-rdf\_\-namespaces}!rdf@{rdf}}
\subsubsection[{rdf\_\-rdf\_\-namespaces}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-rdf\_\-namespaces ()}}
\label{group__rdf_gaed65d375e129af058947c2d614eb1d3c}
Implements \hyperlink{group__rdf_ga32e59c5e172304a5f49ec7d76ee6bf3b}{hook\_\-rdf\_\-namespaces()}. \hypertarget{group__rdf_ga9b02589c8277c732de8c035d5a606de9}{
\index{rdf@{rdf}!rdf\_\-rdfa\_\-attributes@{rdf\_\-rdfa\_\-attributes}}
\index{rdf\_\-rdfa\_\-attributes@{rdf\_\-rdfa\_\-attributes}!rdf@{rdf}}
\subsubsection[{rdf\_\-rdfa\_\-attributes}]{\setlength{\rightskip}{0pt plus 5cm}rdf\_\-rdfa\_\-attributes (\$ {\em mapping}, \/  \$ {\em data} = {\ttfamily NULL})}}
\label{group__rdf_ga9b02589c8277c732de8c035d5a606de9}
Builds an array of RDFa attributes for a given mapping. This array will typically be passed through \hyperlink{group__sanitization_gacf11629fb3d1ebf200863e2d15380b4a}{drupal\_\-attributes()} to create the attributes variables that are available to template files. These include \$attributes, \$title\_\-attributes, \$content\_\-attributes and the field-\/specific \$item\_\-attributes variables. For more information, see \hyperlink{group__rdf_ga3bb0346c634262f7b193957cc26d38ca}{theme\_\-rdf\_\-template\_\-variable\_\-wrapper()}.


\begin{DoxyParams}{Parameters}
\item[{\em \$mapping}]An array containing a mandatory 'predicates' key and optional 'datatype', 'callback' and 'type' keys. For example: 
\begin{DoxyCode}
     array(
       'predicates' => array('dc:created'),
       'datatype' => 'xsd:dateTime',
       'callback' => 'date_iso8601',
       ),
     );
\end{DoxyCode}
 \item[{\em \$data}]A value that needs to be converted by the provided callback function.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An array containing RDFa attributes suitable for \hyperlink{group__sanitization_gacf11629fb3d1ebf200863e2d15380b4a}{drupal\_\-attributes()}. 
\end{DoxyReturn}
\hypertarget{group__rdf_ga74f92e91794fd4f2fcb9abfd777a5955}{
\index{rdf@{rdf}!theme\_\-rdf\_\-metadata@{theme\_\-rdf\_\-metadata}}
\index{theme\_\-rdf\_\-metadata@{theme\_\-rdf\_\-metadata}!rdf@{rdf}}
\subsubsection[{theme\_\-rdf\_\-metadata}]{\setlength{\rightskip}{0pt plus 5cm}theme\_\-rdf\_\-metadata (\$ {\em variables})}}
\label{group__rdf_ga74f92e91794fd4f2fcb9abfd777a5955}
Returns HTML for a series of empty spans for exporting RDF metadata in RDFa.

Sometimes it is useful to export data which is not semantically present in the HTML output. For example, a hierarchy of comments is visible for a human but not for machines because this hiearchy is not present in the DOM tree. We can express it in RDFa via empty  tags. These aren't visible and give machines extra information about the content and its structure.

 
\begin{DoxyParams}{Parameters}
\item[{\em \$variables}]An associative array containing:
\begin{DoxyItemize}
\item metadata: An array of attribute arrays. Each item in the array corresponds to its own set of attributes, and therefore, needs its own element.
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{rdf_8module_a33cf33f554fea60776a23c543557ff7b}{rdf\_\-process()} 
\end{DoxySeeAlso}
\hypertarget{group__rdf_ga3bb0346c634262f7b193957cc26d38ca}{
\index{rdf@{rdf}!theme\_\-rdf\_\-template\_\-variable\_\-wrapper@{theme\_\-rdf\_\-template\_\-variable\_\-wrapper}}
\index{theme\_\-rdf\_\-template\_\-variable\_\-wrapper@{theme\_\-rdf\_\-template\_\-variable\_\-wrapper}!rdf@{rdf}}
\subsubsection[{theme\_\-rdf\_\-template\_\-variable\_\-wrapper}]{\setlength{\rightskip}{0pt plus 5cm}theme\_\-rdf\_\-template\_\-variable\_\-wrapper (\$ {\em variables})}}
\label{group__rdf_ga3bb0346c634262f7b193957cc26d38ca}
Returns HTML for a template variable wrapped in an HTML element with the RDF attributes.

This is called by \hyperlink{rdf_8module_a33cf33f554fea60776a23c543557ff7b}{rdf\_\-process()} shortly before the theme system renders a template file. It is called once for each template variable for which additional attributes are needed. While template files are responsible for rendering the attributes for the template's primary object (via the \$attributes variable), title (via the \$title\_\-attributes variable), and content (via the \$content\_\-attributes variable), additional template variables that need containing attributes are routed through this function, allowing the template file to receive properly wrapped variables.

Tip for themers: if you're already outputting a wrapper element around a particular template variable in your template file, and if you don't want an extra wrapper element, you can override this function to not wrap that variable and instead print the following inside your template file: 
\begin{DoxyCode}
   drupal_attributes($rdf_template_variable_attributes_array[$variable_name])
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
\item[{\em \$variables}]An associative array containing:
\begin{DoxyItemize}
\item content: A string of content to be wrapped with attributes.
\item attributes: An array of attributes to be placed on the wrapping element.
\item context: An array of context information about the content to be wrapped:
\begin{DoxyItemize}
\item hook: The theme hook that will use the wrapped content. This corresponds to the key within the theme registry for this template. For example, if this content is about to be used in node.tpl.php or node-\/\mbox{[}type\mbox{]}.tpl.php, then the 'hook' is 'node'.
\item variable\_\-name: The name of the variable by which the template will refer to this content. Each template file has documentation about the variables it uses. For example, if this function is called in preparing the \$author variable for comment.tpl.php, then the 'variable\_\-name' is 'author'.
\item variables: The full array of variables about to be passed to the template.
\end{DoxyItemize}
\item inline: TRUE if the content contains only inline HTML elements and therefore can be validly wrapped by a  tag. FALSE if the content might contain block level HTML elements and therefore cannot be validly wrapped by a  tag. Modules implementing preprocess functions that set 'rdf\_\-template\_\-variable\_\-attributes\_\-array' for a particular template variable that might contain block level HTML must also implement hook\_\-preprocess\_\-rdf\_\-template\_\-variable\_\-wrapper() and set 'inline' to FALSE for that context. Themes that render normally inline content with block level HTML must similarly implement hook\_\-preprocess\_\-rdf\_\-template\_\-variable\_\-wrapper() and set 'inline' accordingly.
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
 \hyperlink{rdf_8module_a33cf33f554fea60776a23c543557ff7b}{rdf\_\-process()} 
\end{DoxySeeAlso}
