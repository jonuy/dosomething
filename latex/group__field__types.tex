\hypertarget{group__field__types}{
\section{Field Types API}
\label{group__field__types}\index{Field Types API@{Field Types API}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info} ()
\item 
\hyperlink{group__field__types_ga62d5e308d07e62b096d13714ae42335f}{hook\_\-field\_\-info\_\-alter} (\&\$info)
\item 
\hyperlink{group__field__types_gaae7d9348e56f207a8be0b866d25252b7}{hook\_\-field\_\-schema} (\$field)
\item 
\hyperlink{group__field__types_ga37f2456e9b5b8b39dc11cffd59163c19}{hook\_\-field\_\-load} (\$entity\_\-type, \$entities, \$field, \$instances, \$langcode, \&\$items, \$age)
\item 
\hyperlink{group__field__types_ga02a3004a67ecba2b81eaa63b05d08cc8}{hook\_\-field\_\-prepare\_\-view} (\$entity\_\-type, \$entities, \$field, \$instances, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_gaa7d8846e8fe3766e1b3435cd50b965be}{hook\_\-field\_\-validate} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \$items, \&\$errors)
\item 
\hyperlink{group__field__types_ga5ab3a9e3c8ebccb8ca151790ec07809d}{hook\_\-field\_\-presave} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_ga2d29ec2e4a47170d5aaaf41bdd4813df}{hook\_\-field\_\-insert} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_gaca5bc4f8ab69818f23783af24454d9c4}{hook\_\-field\_\-update} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_gae38c5e194a4bf43e2af3dba6b62da25b}{hook\_\-field\_\-storage\_\-update\_\-field} (\$field, \$prior\_\-field, \$has\_\-data)
\item 
\hyperlink{group__field__types_gaf1e5787044b83d34cf7daed3d5297336}{hook\_\-field\_\-delete} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_gaef667d4ba12f6fb9950876e6f4f63878}{hook\_\-field\_\-delete\_\-revision} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items)
\item 
\hyperlink{group__field__types_ga551145e42b305ccf93e325fc590fa379}{hook\_\-field\_\-prepare\_\-translation} (\$entity\_\-type, \$entity, \$field, \$instance, \$langcode, \&\$items, \$source\_\-entity, \$source\_\-langcode)
\item 
\hyperlink{group__field__types_ga192dd7e7a02a7bc9e0af8b67b187b071}{hook\_\-field\_\-is\_\-empty} (\$item, \$field)
\item 
\hyperlink{group__field__types_gab8a2ed808857cc6f3cb661fbc99d30d4}{hook\_\-field\_\-settings\_\-form} (\$field, \$instance, \$has\_\-data)
\item 
\hyperlink{group__field__types_gacce0ff92e36c0054ad131d95e576a13a}{hook\_\-field\_\-instance\_\-settings\_\-form} (\$field, \$instance)
\item 
\hyperlink{group__field__types_gabe5ece2134d0cbdfc3c4793f24c5866c}{hook\_\-field\_\-widget\_\-settings\_\-form} (\$field, \$instance)
\item 
\hyperlink{group__field__types_gaf9b6aefe0b4fe6c03ebd5bd9bd1b891b}{hook\_\-field\_\-formatter\_\-settings\_\-form} (\$field, \$instance, \$view\_\-mode, \$form, \&\$form\_\-state)
\item 
\hyperlink{group__field__types_ga0cdef0fb8588dde07292df1b86f06d81}{hook\_\-field\_\-formatter\_\-settings\_\-summary} (\$field, \$instance, \$view\_\-mode)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Define field types.

In the Field API, each field has a type, which determines what kind of data (integer, string, date, etc.) the field can hold, which settings it provides, and so on. The data type(s) accepted by a field are defined in \hyperlink{group__field__types_gaae7d9348e56f207a8be0b866d25252b7}{hook\_\-field\_\-schema()}; other basic properties of a field are defined in \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()}. The other hooks below are called by the Field Attach API to perform field-\/type-\/specific actions.

The Field Types API also defines two kinds of pluggable handlers: widgets and formatters. \hyperlink{group__field__widget}{Widgets } specify how the field appears in edit forms, while \hyperlink{group__field__formatter}{formatters } specify how the field appears in displayed entities.

A third kind of pluggable handlers, storage backends, is defined by the \hyperlink{group__field__storage}{Field Storage API }.

See \hyperlink{group__field}{Field API } for information about the other parts of the Field API. 

\subsection{Function Documentation}
\hypertarget{group__field__types_gaf1e5787044b83d34cf7daed3d5297336}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-delete@{hook\_\-field\_\-delete}}
\index{hook\_\-field\_\-delete@{hook\_\-field\_\-delete}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-delete (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_gaf1e5787044b83d34cf7daed3d5297336}
Define custom delete behavior for this module's field data.

This hook is invoked from \hyperlink{group__field__attach_gac2e3658c9c02d0d0e71359f9ef2f207a}{field\_\-attach\_\-delete()} on the module that defines a field, during the process of deleting an entity object (node, taxonomy term, etc.). It is invoked just before the data for this field on the particular entity object is deleted from field storage. Only field modules that are storing or tracking information outside the standard field storage mechanism need to implement this hook.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__types_ga2d29ec2e4a47170d5aaaf41bdd4813df}{hook\_\-field\_\-insert()} 

\hyperlink{group__field__types_gaca5bc4f8ab69818f23783af24454d9c4}{hook\_\-field\_\-update()} 
\end{DoxySeeAlso}
\hypertarget{group__field__types_gaef667d4ba12f6fb9950876e6f4f63878}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-delete\_\-revision@{hook\_\-field\_\-delete\_\-revision}}
\index{hook\_\-field\_\-delete\_\-revision@{hook\_\-field\_\-delete\_\-revision}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-delete\_\-revision}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-delete\_\-revision (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_gaef667d4ba12f6fb9950876e6f4f63878}
Define custom revision delete behavior for this module's field types.

This hook is invoked just before the data is deleted from field storage in \hyperlink{group__field__attach_gaa9eae65e6d9f1996cb27a55ba25b56e9}{field\_\-attach\_\-delete\_\-revision()}, and will only be called for fieldable types that are versioned.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset. \end{DoxyParams}
\hypertarget{group__field__types_gaf9b6aefe0b4fe6c03ebd5bd9bd1b891b}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-formatter\_\-settings\_\-form@{hook\_\-field\_\-formatter\_\-settings\_\-form}}
\index{hook\_\-field\_\-formatter\_\-settings\_\-form@{hook\_\-field\_\-formatter\_\-settings\_\-form}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-formatter\_\-settings\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-formatter\_\-settings\_\-form (\$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em view\_\-mode}, \/  \$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__field__types_gaf9b6aefe0b4fe6c03ebd5bd9bd1b891b}
Specify the form elements for a formatter's settings.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field structure being configured. \item[{\em \$instance}]The instance structure being configured. \item[{\em \$view\_\-mode}]The \hyperlink{classview}{view} mode being configured. \item[{\em \$form}]The (entire) configuration form array, which will usually have no use here. \item[{\em \$form\_\-state}]The form state of the (entire) configuration form.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The form elements for the formatter settings. 
\end{DoxyReturn}
\hypertarget{group__field__types_ga0cdef0fb8588dde07292df1b86f06d81}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-formatter\_\-settings\_\-summary@{hook\_\-field\_\-formatter\_\-settings\_\-summary}}
\index{hook\_\-field\_\-formatter\_\-settings\_\-summary@{hook\_\-field\_\-formatter\_\-settings\_\-summary}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-formatter\_\-settings\_\-summary}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-formatter\_\-settings\_\-summary (\$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em view\_\-mode})}}
\label{group__field__types_ga0cdef0fb8588dde07292df1b86f06d81}
Return a short summary for the current formatter settings of an instance.

If an empty result is returned, the formatter is assumed to have no configurable settings, and no UI will be provided to display a settings form.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field structure. \item[{\em \$instance}]The instance structure. \item[{\em \$view\_\-mode}]The \hyperlink{classview}{view} mode for which a settings summary is requested.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A string containing a short summary of the formatter settings. 
\end{DoxyReturn}
\hypertarget{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-info@{hook\_\-field\_\-info}}
\index{hook\_\-field\_\-info@{hook\_\-field\_\-info}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-info ()}}
\label{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}
Define Field API field types.

\begin{DoxyReturn}{Returns}
An array whose keys are field type names and whose values are arrays describing the field type, with the following key/value pairs:
\begin{DoxyItemize}
\item label: The human-\/readable name of the field type.
\item description: A short description for the field type.
\item settings: An array whose keys are the names of the settings available for the field type, and whose values are the default values for those settings.
\item instance\_\-settings: An array whose keys are the names of the settings available for instances of the field type, and whose values are the default values for those settings. Instance-\/level settings can have different values on each field instance, and thus allow greater flexibility than field-\/level settings. It is recommended to put settings at the instance level whenever possible. Notable exceptions: settings acting on the schema definition, or settings that Views needs to use across field instances (for example, the list of allowed values).
\item default\_\-widget: The machine name of the default widget to be used by instances of this field type, when no widget is specified in the instance definition. This widget must be available whenever the field type is available (i.e. provided by the field type module, or by a module the field type module depends on).
\item default\_\-formatter: The machine name of the default formatter to be used by instances of this field type, when no formatter is specified in the instance definition. This formatter must be available whenever the field type is available (i.e. provided by the field type module, or by a module the field type module depends on).
\item no\_\-ui: (optional) A boolean specifying that users should not be allowed to create fields and instances of this field type through the UI. Such fields can only be created programmatically with \hyperlink{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{field\_\-create\_\-field()} and \hyperlink{group__field__crud_ga3a1e23613d572a6e908e063c3a0335f8}{field\_\-create\_\-instance()}. Defaults to FALSE.
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__types_ga62d5e308d07e62b096d13714ae42335f}{hook\_\-field\_\-info\_\-alter()} 
\end{DoxySeeAlso}
\hypertarget{group__field__types_ga62d5e308d07e62b096d13714ae42335f}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-info\_\-alter@{hook\_\-field\_\-info\_\-alter}}
\index{hook\_\-field\_\-info\_\-alter@{hook\_\-field\_\-info\_\-alter}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-info\_\-alter}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-info\_\-alter (\&\$ {\em info})}}
\label{group__field__types_ga62d5e308d07e62b096d13714ae42335f}
Perform alterations on Field API field types.


\begin{DoxyParams}{Parameters}
\item[{\em \$info}]Array of information on field types exposed by \hyperlink{group__field__types_gad3eb779f26f41b520f19af011ece3eb1}{hook\_\-field\_\-info()} implementations. \end{DoxyParams}
\hypertarget{group__field__types_ga2d29ec2e4a47170d5aaaf41bdd4813df}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-insert@{hook\_\-field\_\-insert}}
\index{hook\_\-field\_\-insert@{hook\_\-field\_\-insert}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-insert}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-insert (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_ga2d29ec2e4a47170d5aaaf41bdd4813df}
Define custom insert behavior for this module's field data.

This hook is invoked from \hyperlink{group__field__attach_gad7c37d577b97db5e0c182bc570ed7cf4}{field\_\-attach\_\-insert()} on the module that defines a field, during the process of inserting an entity object (node, taxonomy term, etc.). It is invoked just before the data for this field on the particular entity object is inserted into field storage. Only field modules that are storing or tracking information outside the standard field storage mechanism need to implement this hook.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__types_gaca5bc4f8ab69818f23783af24454d9c4}{hook\_\-field\_\-update()} 

\hyperlink{group__field__types_gaf1e5787044b83d34cf7daed3d5297336}{hook\_\-field\_\-delete()} 
\end{DoxySeeAlso}
\hypertarget{group__field__types_gacce0ff92e36c0054ad131d95e576a13a}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-instance\_\-settings\_\-form@{hook\_\-field\_\-instance\_\-settings\_\-form}}
\index{hook\_\-field\_\-instance\_\-settings\_\-form@{hook\_\-field\_\-instance\_\-settings\_\-form}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-instance\_\-settings\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-instance\_\-settings\_\-form (\$ {\em field}, \/  \$ {\em instance})}}
\label{group__field__types_gacce0ff92e36c0054ad131d95e576a13a}
Add settings to an instance field settings form.

Invoked from \hyperlink{group__forms_ga11660e91b3649ff30bf665c00f1a9af2}{field\_\-ui\_\-field\_\-edit\_\-form()} to allow the module defining the field to add settings for a field instance.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field structure being configured. \item[{\em \$instance}]The instance structure being configured.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The form definition for the field instance settings. 
\end{DoxyReturn}
\hypertarget{group__field__types_ga192dd7e7a02a7bc9e0af8b67b187b071}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-is\_\-empty@{hook\_\-field\_\-is\_\-empty}}
\index{hook\_\-field\_\-is\_\-empty@{hook\_\-field\_\-is\_\-empty}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-is\_\-empty}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-is\_\-empty (\$ {\em item}, \/  \$ {\em field})}}
\label{group__field__types_ga192dd7e7a02a7bc9e0af8b67b187b071}
Define what constitutes an empty item for a field type.


\begin{DoxyParams}{Parameters}
\item[{\em \$item}]An item that may or may not be empty. \item[{\em \$field}]The field to which \$item belongs.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if \$field's type considers \$item not to contain any data; FALSE otherwise. 
\end{DoxyReturn}
\hypertarget{group__field__types_ga37f2456e9b5b8b39dc11cffd59163c19}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-load@{hook\_\-field\_\-load}}
\index{hook\_\-field\_\-load@{hook\_\-field\_\-load}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-load (\$ {\em entity\_\-type}, \/  \$ {\em entities}, \/  \$ {\em field}, \/  \$ {\em instances}, \/  \$ {\em langcode}, \/  \&\$ {\em items}, \/  \$ {\em age})}}
\label{group__field__types_ga37f2456e9b5b8b39dc11cffd59163c19}
Define custom load behavior for this module's field types.

Unlike most other field hooks, this hook operates on multiple entities. The \$entities, \$instances and \$items parameters are arrays keyed by entity ID. For performance reasons, information for all available entity should be loaded in a single query where possible.

Note that the changes made to the field values get cached by the field cache for subsequent loads. You should never use this hook to load fieldable entities, since this is likely to cause infinite recursions when \hyperlink{group__field__types_ga37f2456e9b5b8b39dc11cffd59163c19}{hook\_\-field\_\-load()} is run on those as well. Use \hyperlink{group__field__formatter_ga2c1856869caa776fd9e5db4af4e0b57b}{hook\_\-field\_\-formatter\_\-prepare\_\-view()} instead.

Make changes or additions to field values by altering the \$items parameter by reference. There is no return value.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entities}]Array of entities being loaded, keyed by entity ID. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instances}]Array of instance structures for \$field for each entity, keyed by entity ID. \item[{\em \$langcode}]The language code associated with \$items. \item[{\em \$items}]Array of field values already loaded for the entities, keyed by entity ID. Store your changes in this parameter (passed by reference). \item[{\em \$age}]FIELD\_\-LOAD\_\-CURRENT to load the most recent revision for all fields, or FIELD\_\-LOAD\_\-REVISION to load the version indicated by each entity. \end{DoxyParams}
\hypertarget{group__field__types_ga551145e42b305ccf93e325fc590fa379}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-prepare\_\-translation@{hook\_\-field\_\-prepare\_\-translation}}
\index{hook\_\-field\_\-prepare\_\-translation@{hook\_\-field\_\-prepare\_\-translation}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-prepare\_\-translation}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-prepare\_\-translation (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items}, \/  \$ {\em source\_\-entity}, \/  \$ {\em source\_\-langcode})}}
\label{group__field__types_ga551145e42b305ccf93e325fc590fa379}
Define custom prepare\_\-translation behavior for this module's field types.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated to \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset. \item[{\em \$source\_\-entity}]The source entity from which field values are being copied. \item[{\em \$source\_\-langcode}]The source language from which field values are being copied. \end{DoxyParams}
\hypertarget{group__field__types_ga02a3004a67ecba2b81eaa63b05d08cc8}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-prepare\_\-view@{hook\_\-field\_\-prepare\_\-view}}
\index{hook\_\-field\_\-prepare\_\-view@{hook\_\-field\_\-prepare\_\-view}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-prepare\_\-view}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-prepare\_\-view (\$ {\em entity\_\-type}, \/  \$ {\em entities}, \/  \$ {\em field}, \/  \$ {\em instances}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_ga02a3004a67ecba2b81eaa63b05d08cc8}
Prepare field values prior to display.

This hook is invoked before the field values are handed to formatters for display, and runs before the formatters' own \hyperlink{group__field__formatter_ga2c1856869caa776fd9e5db4af4e0b57b}{hook\_\-field\_\-formatter\_\-prepare\_\-view()}.

Unlike most other field hooks, this hook operates on multiple entities. The \$entities, \$instances and \$items parameters are arrays keyed by entity ID. For performance reasons, information for all available entities should be loaded in a single query where possible.

Make changes or additions to field values by altering the \$items parameter by reference. There is no return value.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entities}]Array of entities being displayed, keyed by entity ID. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instances}]Array of instance structures for \$field for each entity, keyed by entity ID. \item[{\em \$langcode}]The language associated to \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}, or an empty array if unset. \end{DoxyParams}
\hypertarget{group__field__types_ga5ab3a9e3c8ebccb8ca151790ec07809d}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-presave@{hook\_\-field\_\-presave}}
\index{hook\_\-field\_\-presave@{hook\_\-field\_\-presave}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-presave}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-presave (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_ga5ab3a9e3c8ebccb8ca151790ec07809d}
Define custom presave behavior for this module's field types.

Make changes or additions to field values by altering the \$items parameter by reference. There is no return value.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset. \end{DoxyParams}
\hypertarget{group__field__types_gaae7d9348e56f207a8be0b866d25252b7}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-schema@{hook\_\-field\_\-schema}}
\index{hook\_\-field\_\-schema@{hook\_\-field\_\-schema}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-schema}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-schema (\$ {\em field})}}
\label{group__field__types_gaae7d9348e56f207a8be0b866d25252b7}
Define the Field API schema for a field structure.

This hook MUST be defined in .install for it to be detected during installation and upgrade.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]A field structure.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An associative array with the following keys:
\begin{DoxyItemize}
\item columns: An array of Schema API column specifications, keyed by column name. This specifies what comprises a value for a given field. For example, a value for a number field is simply 'value', while a value for a formatted text field is the combination of 'value' and 'format'. It is recommended to avoid having the column definitions depend on field settings when possible. No assumptions should be made on how storage engines internally use the original column name to structure their storage.
\item indexes: (optional) An array of Schema API indexes definitions. Only columns that appear in the 'columns' array are allowed. Those indexes will be used as default indexes. Callers of \hyperlink{group__field__crud_ga0f879889d2da2b5d638252d7eb027746}{field\_\-create\_\-field()} can specify additional indexes, or, at their own risk, modify the default indexes specified by the field-\/type module. Some storage engines might not support indexes.
\item foreign keys: (optional) An array of Schema API foreign keys definitions. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{group__field__types_gab8a2ed808857cc6f3cb661fbc99d30d4}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-settings\_\-form@{hook\_\-field\_\-settings\_\-form}}
\index{hook\_\-field\_\-settings\_\-form@{hook\_\-field\_\-settings\_\-form}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-settings\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-settings\_\-form (\$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em has\_\-data})}}
\label{group__field__types_gab8a2ed808857cc6f3cb661fbc99d30d4}
Add settings to a field settings form.

Invoked from \hyperlink{group__forms_gaf347f488d97997991b92aae7060a10f2}{field\_\-ui\_\-field\_\-settings\_\-form()} to allow the module defining the field to add global settings (i.e. settings that do not depend on the bundle or instance) to the field settings form. If the field already has data, only include settings that are safe to change.

\begin{Desc}
\item[\hyperlink{todo__todo000015}{Todo}]: Only the field type module knows which settings will affect the field's schema, but only the field storage module knows what schema changes are permitted once a field already has data. Probably we need an easy way for a field type module to ask whether an update to a new schema will be allowed without having to build up a fake \$prior\_\-field structure for \hyperlink{group__field__crud_ga7bd0ccd40a9a3690b697b68d03f660a4}{hook\_\-field\_\-update\_\-forbid()}.\end{Desc}

\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field structure being configured. \item[{\em \$instance}]The instance structure being configured. \item[{\em \$has\_\-data}]TRUE if the field already has data, FALSE if not.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The form definition for the field settings. 
\end{DoxyReturn}
\hypertarget{group__field__types_gae38c5e194a4bf43e2af3dba6b62da25b}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-storage\_\-update\_\-field@{hook\_\-field\_\-storage\_\-update\_\-field}}
\index{hook\_\-field\_\-storage\_\-update\_\-field@{hook\_\-field\_\-storage\_\-update\_\-field}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-storage\_\-update\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-storage\_\-update\_\-field (\$ {\em field}, \/  \$ {\em prior\_\-field}, \/  \$ {\em has\_\-data})}}
\label{group__field__types_gae38c5e194a4bf43e2af3dba6b62da25b}
Update the storage information for a field.

This is invoked on the field's storage module from \hyperlink{group__field__crud_gacca7d1f76963048aa84b1c9a271876f5}{field\_\-update\_\-field()}, before the new field information is saved to the database. The field storage module should update its storage tables to agree with the new field information. If there is a problem, the field storage module should throw an exception.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The updated field structure to be saved. \item[{\em \$prior\_\-field}]The previously-\/saved field structure. \item[{\em \$has\_\-data}]TRUE if the field has data in storage currently. \end{DoxyParams}
\hypertarget{group__field__types_gaca5bc4f8ab69818f23783af24454d9c4}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-update@{hook\_\-field\_\-update}}
\index{hook\_\-field\_\-update@{hook\_\-field\_\-update}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-update}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-update (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \&\$ {\em items})}}
\label{group__field__types_gaca5bc4f8ab69818f23783af24454d9c4}
Define custom update behavior for this module's field data.

This hook is invoked from \hyperlink{group__field__attach_ga8d15efdca36306ea04552bed4986e77b}{field\_\-attach\_\-update()} on the module that defines a field, during the process of updating an entity object (node, taxonomy term, etc.). It is invoked just before the data for this field on the particular entity object is updated into field storage. Only field modules that are storing or tracking information outside the standard field storage mechanism need to implement this hook.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__field__types_ga2d29ec2e4a47170d5aaaf41bdd4813df}{hook\_\-field\_\-insert()} 

\hyperlink{group__field__types_gaf1e5787044b83d34cf7daed3d5297336}{hook\_\-field\_\-delete()} 
\end{DoxySeeAlso}
\hypertarget{group__field__types_gaa7d8846e8fe3766e1b3435cd50b965be}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-validate@{hook\_\-field\_\-validate}}
\index{hook\_\-field\_\-validate@{hook\_\-field\_\-validate}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-validate (\$ {\em entity\_\-type}, \/  \$ {\em entity}, \/  \$ {\em field}, \/  \$ {\em instance}, \/  \$ {\em langcode}, \/  \$ {\em items}, \/  \&\$ {\em errors})}}
\label{group__field__types_gaa7d8846e8fe3766e1b3435cd50b965be}
Validate this module's field data.

If there are validation problems, add to the \$errors array (passed by reference). There is no return value.


\begin{DoxyParams}{Parameters}
\item[{\em \$entity\_\-type}]The type of \$entity. \item[{\em \$entity}]The entity for the operation. \item[{\em \$field}]The field structure for the operation. \item[{\em \$instance}]The instance structure for \$field on \$entity's bundle. \item[{\em \$langcode}]The language associated with \$items. \item[{\em \$items}]\$entity-\/$>$\{\$field\mbox{[}'field\_\-name'\mbox{]}\}\mbox{[}\$langcode\mbox{]}, or an empty array if unset. \item[{\em \$errors}]The array of errors (keyed by field name, language code, and delta) that have already been reported for the entity. The function should add its errors to this array. Each error is an associative array with the following keys and values:
\begin{DoxyItemize}
\item error: An error code (should be a string prefixed with the module name).
\item message: The human readable message to be displayed. 
\end{DoxyItemize}\end{DoxyParams}
\hypertarget{group__field__types_gabe5ece2134d0cbdfc3c4793f24c5866c}{
\index{field\_\-types@{field\_\-types}!hook\_\-field\_\-widget\_\-settings\_\-form@{hook\_\-field\_\-widget\_\-settings\_\-form}}
\index{hook\_\-field\_\-widget\_\-settings\_\-form@{hook\_\-field\_\-widget\_\-settings\_\-form}!field_types@{field\_\-types}}
\subsubsection[{hook\_\-field\_\-widget\_\-settings\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}hook\_\-field\_\-widget\_\-settings\_\-form (\$ {\em field}, \/  \$ {\em instance})}}
\label{group__field__types_gabe5ece2134d0cbdfc3c4793f24c5866c}
Add settings to a widget settings form.

Invoked from \hyperlink{group__forms_ga11660e91b3649ff30bf665c00f1a9af2}{field\_\-ui\_\-field\_\-edit\_\-form()} to allow the module defining the widget to add settings for a widget instance.


\begin{DoxyParams}{Parameters}
\item[{\em \$field}]The field structure being configured. \item[{\em \$instance}]The instance structure being configured.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The form definition for the widget settings. 
\end{DoxyReturn}
