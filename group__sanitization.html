<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: Sanitization functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Sanitization functions</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga46ff2822d576a77317f9045d65317b4f">drupal_strip_dangerous_protocols</a> ($uri)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#gac024315b69035ef05c33674838707919">check_url</a> ($uri)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga97dcceb77b76539219af2a85eacbe18d">filter_xss_admin</a> ($string)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga8864a29ffa8de5c9f8dc9e417060660d">filter_xss</a> ($string, $allowed_tags=array('a', 'em', 'strong', 'cite', 'blockquote', 'code', 'ul', 'ol', 'li', 'dl', 'dt', 'dd'))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga1cc6cca885f021adcf11970b8ec4c846">_filter_xss_split</a> ($m, $store=FALSE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga3c24df8bdf07aa972dd82aa2ab35858f">_filter_xss_attributes</a> ($attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga81affabdadf9d999874d5a69316ec8c8">filter_xss_bad_protocol</a> ($string, $decode=TRUE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes</a> (array $attributes=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#gabc78d1b88aa8081093abbbf71a516c7c">st</a> ($string, array $args=array(), array $options=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#gaa3872d938cf9ba93ed0621a6b26eaa59">check_markup</a> ($text, $format_id=NULL, $langcode= '', $cache=FALSE)</td></tr>
<tr><td colspan="2"><h2>into your string, and t() will</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpc24520cd0c9d113d5113bfec581ba6b9"></a> Translates a string to the current language or to a given language.</p>
<p>The t() function serves two purposes. First, at run-time it translates user-visible text into the appropriate language. Second, various mechanisms that figure out what text needs to be translated work off t() -- the text inside t() calls is added to the database of strings to be translated. These strings are expected to be in English, so the first argument should always be in English. To enable a fully-translatable site, it is important that all human-readable text that will be displayed on the site or sent to a user is passed through the t() function, or a related function. See the <a class="el" href="">Localization API </a> pages for more information, including recommendations on how to break up or not break up strings for translation.</p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga8da272cf93fb6ba229eca7c0b06ea4d2">format_string</a> ($string, array $args=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain</a> ($text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions to sanitize values.</p>
<p>See <a href="http://drupal.org/writing-secure-code">http://drupal.org/writing-secure-code</a> for information on writing secure code. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga3c24df8bdf07aa972dd82aa2ab35858f"></a><!-- doxytag: member="common.inc::_filter_xss_attributes" ref="ga3c24df8bdf07aa972dd82aa2ab35858f" args="($attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_filter_xss_attributes </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes a string of HTML attributes.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Cleaned up version of the HTML attributes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1cc6cca885f021adcf11970b8ec4c846"></a><!-- doxytag: member="common.inc::_filter_xss_split" ref="ga1cc6cca885f021adcf11970b8ec4c846" args="($m, $store=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_filter_xss_split </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>store</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes an HTML tag.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$m</em>&nbsp;</td><td>An array with various meaning depending on the value of $store. If $store is TRUE then the array contains the allowed tags. If $store is FALSE then the array has one element, the HTML tag to process. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$store</em>&nbsp;</td><td>Whether to store $m.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the element isn't allowed, an empty string. Otherwise, the cleaned up version of the HTML element. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa3872d938cf9ba93ed0621a6b26eaa59"></a><!-- doxytag: member="filter.module::check_markup" ref="gaa3872d938cf9ba93ed0621a6b26eaa59" args="($text, $format_id=NULL, $langcode= '', $cache=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_markup </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>format_id</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>langcode</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cache</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Runs all the enabled filters on a piece of text.</p>
<p>Note: Because filters can inject JavaScript or execute PHP code, security is vital here. When a user supplies a text format, you should validate it using <a class="el" href="filter_8module.html#aff74c90622b601df8e088f6b5c125bb7">filter_access()</a> before accepting/using it. This is normally done in the validation stage of the Form API. You should for example never make a preview of content in a disallowed format.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The text to be filtered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$format_id</em>&nbsp;</td><td>(optional) The format ID of the text to be filtered. If no format is assigned, the fallback format will be used. Defaults to NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$langcode</em>&nbsp;</td><td>(optional) The language code of the text to be filtered, e.g. 'en' for English. This allows filters to be language aware so language specific text replacement can be implemented. Defaults to an empty string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$cache</em>&nbsp;</td><td>(optional) A Boolean indicating whether to cache the filtered output in the {cache_filter} table. The caller may set this to FALSE when the output is already cached elsewhere to avoid duplicate cache lookups and storage. Defaults to FALSE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The filtered text. </dd></dl>

</div>
</div>
<a class="anchor" id="ga76fc67a30fd8d75ddd80565e6e65a13d"></a><!-- doxytag: member="bootstrap.inc::check_plain" ref="ga76fc67a30fd8d75ddd80565e6e65a13d" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_plain </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encodes special characters in a plain-text string for display as HTML.</p>
<p>Also validates strings as UTF-8 to prevent cross site scripting attacks on Internet Explorer 6.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The text to be checked or processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An HTML safe version of $text, or an empty string if $text is not valid UTF-8.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="bootstrap_8inc.html#abf62947a33393477301b0070b1ff0c7a">drupal_validate_utf8()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gac024315b69035ef05c33674838707919"></a><!-- doxytag: member="common.inc::check_url" ref="gac024315b69035ef05c33674838707919" args="($uri)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_url </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>uri</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Strips dangerous protocols from a URI and encodes it for output to HTML.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$uri</em>&nbsp;</td><td>A plain-text URI that might contain dangerous protocols.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A URI stripped of dangerous protocols and encoded for output to an HTML attribute value. Because it is already encoded, it should not be set as a value within a $attributes array passed to <a class="el" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes()</a>, because <a class="el" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes()</a> expects those values to be plain-text strings. To pass a filtered URI to <a class="el" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes()</a>, call <a class="el" href="group__sanitization.html#ga46ff2822d576a77317f9045d65317b4f">drupal_strip_dangerous_protocols()</a> instead.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__sanitization.html#ga46ff2822d576a77317f9045d65317b4f">drupal_strip_dangerous_protocols()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gacf11629fb3d1ebf200863e2d15380b4a"></a><!-- doxytag: member="common.inc::drupal_attributes" ref="gacf11629fb3d1ebf200863e2d15380b4a" args="(array $attributes=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_attributes </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>attributes</em> = <code>array()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts an associative array to an XML/HTML tag attribute string.</p>
<p>Each array key and its value will be formatted into an attribute string. If a value is itself an array, then its elements are concatenated to a single space-delimited string (for example, a class attribute with multiple values).</p>
<p>Attribute values are sanitized by running them through <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a>. Attribute names are not automatically sanitized. When using user-supplied attribute names, it is strongly recommended to allow only white-listed names, since certain attributes carry security risks and can be abused.</p>
<p>Examples of security aspects when using drupal_attributes: </p>
<div class="fragment"><pre class="fragment">   <span class="comment">// By running the value in the following statement through check_plain,</span>
   <span class="comment">// the malicious script is neutralized.</span>
   <a class="code" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes</a>(array(<span class="stringliteral">&apos;title&apos;</span> =&gt; t(<span class="stringliteral">&apos;&lt;script&gt;steal_cookie();&lt;/script&gt;&apos;</span>)));

   <span class="comment">// The statement below demonstrates dangerous use of drupal_attributes, and</span>
   <span class="comment">// will return an onmouseout attribute with JavaScript code that, when used</span>
   <span class="comment">// as attribute in a tag, will cause users to be redirected to another site.</span>
   <span class="comment">//</span>
   <span class="comment">// In this case, the &apos;onmouseout&apos; attribute should not be whitelisted --</span>
   <span class="comment">// you don&apos;t want users to have the ability to add this attribute or others</span>
   <span class="comment">// that take JavaScript commands.</span>
   <a class="code" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes</a>(array(<span class="stringliteral">&apos;onmouseout&apos;</span> =&gt; <span class="stringliteral">&apos;window.location=&quot;http://malicious.com/&quot;;&apos;</span>)));
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$attributes</em>&nbsp;</td><td>An associative array of key-value pairs to be converted to attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A string ready for insertion in a tag (starts with a space). </dd></dl>

</div>
</div>
<a class="anchor" id="ga46ff2822d576a77317f9045d65317b4f"></a><!-- doxytag: member="common.inc::drupal_strip_dangerous_protocols" ref="ga46ff2822d576a77317f9045d65317b4f" args="($uri)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_strip_dangerous_protocols </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>uri</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Strips dangerous protocols (e.g. 'javascript:') from a URI.</p>
<p>This function must be called for all URIs within user-entered input prior to being output to an HTML attribute value. It is often called as part of <a class="el" href="group__sanitization.html#gac024315b69035ef05c33674838707919">check_url()</a> or <a class="el" href="group__sanitization.html#ga8864a29ffa8de5c9f8dc9e417060660d">filter_xss()</a>, but those functions return an HTML-encoded string, so this function can be called independently when the output needs to be a plain-text string for passing to t(), <a class="el" href="common_8inc.html#ad3b36c06dc46250b8d22b8d0d2e7bd97">l()</a>, <a class="el" href="group__sanitization.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes()</a>, or another function that will call <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a> separately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$uri</em>&nbsp;</td><td>A plain-text URI that might contain dangerous protocols.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A plain-text URI stripped of dangerous protocols. As with all plain-text strings, this return value must not be output to an HTML page without <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a> being called on it. However, it can be passed to functions expecting plain-text strings.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__sanitization.html#gac024315b69035ef05c33674838707919">check_url()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8864a29ffa8de5c9f8dc9e417060660d"></a><!-- doxytag: member="common.inc::filter_xss" ref="ga8864a29ffa8de5c9f8dc9e417060660d" args="($string, $allowed_tags=array('a', 'em', 'strong', 'cite', 'blockquote', 'code', 'ul', 'ol', 'li', 'dl', 'dt', 'dd'))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filter_xss </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>allowed_tags</em> = <code>array('a',&nbsp;'em',&nbsp;'strong',&nbsp;'cite',&nbsp;'blockquote',&nbsp;'code',&nbsp;'ul',&nbsp;'ol',&nbsp;'li',&nbsp;'dl',&nbsp;'dt',&nbsp;'dd')</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Filters HTML to prevent cross-site-scripting (XSS) vulnerabilities.</p>
<p>Based on kses by Ulf Harnhammar, see <a href="http://sourceforge.net/projects/kses.">http://sourceforge.net/projects/kses.</a> For examples of various XSS attacks, see: <a href="http://ha.ckers.org/xss.html.">http://ha.ckers.org/xss.html.</a></p>
<p>This code does four things:</p>
<ul>
<li>Removes characters and constructs that can trick browsers.</li>
<li>Makes sure all HTML entities are well-formed.</li>
<li>Makes sure all HTML tags and attributes are well-formed.</li>
<li>Makes sure no HTML tags contain URLs with a disallowed protocol (e.g. javascript:).</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$string</em>&nbsp;</td><td>The string with raw HTML in it. It will be stripped of everything that can cause an XSS attack. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$allowed_tags</em>&nbsp;</td><td>An array of allowed tags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An XSS safe version of $string, or an empty string if $string is not valid UTF-8.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="bootstrap_8inc.html#abf62947a33393477301b0070b1ff0c7a">drupal_validate_utf8()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga97dcceb77b76539219af2a85eacbe18d"></a><!-- doxytag: member="common.inc::filter_xss_admin" ref="ga97dcceb77b76539219af2a85eacbe18d" args="($string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filter_xss_admin </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Applies a very permissive XSS/HTML filter for admin-only use.</p>
<p>Use only for fields where it is impractical to use the whole filter system, but where some (mainly inline) mark-up is desired (so <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a> is not acceptable).</p>
<p>Allows all tags that can be used inside an HTML body, save for scripts and styles. </p>

</div>
</div>
<a class="anchor" id="ga81affabdadf9d999874d5a69316ec8c8"></a><!-- doxytag: member="common.inc::filter_xss_bad_protocol" ref="ga81affabdadf9d999874d5a69316ec8c8" args="($string, $decode=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filter_xss_bad_protocol </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>decode</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes an HTML attribute value and strips dangerous protocols from URLs.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$string</em>&nbsp;</td><td>The string with the attribute value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$decode</em>&nbsp;</td><td>(deprecated) Whether to decode entities in the $string. Set to FALSE if the $string is in plain text, TRUE otherwise. Defaults to TRUE. This parameter is deprecated and will be removed in Drupal 8. To process a plain-text URI, call <a class="el" href="group__sanitization.html#ga46ff2822d576a77317f9045d65317b4f">drupal_strip_dangerous_protocols()</a> or <a class="el" href="group__sanitization.html#gac024315b69035ef05c33674838707919">check_url()</a> instead.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Cleaned up and HTML-escaped version of $string. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8da272cf93fb6ba229eca7c0b06ea4d2"></a><!-- doxytag: member="bootstrap.inc::format_string" ref="ga8da272cf93fb6ba229eca7c0b06ea4d2" args="($string, array $args=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">format_string </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>args</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Formats a string for HTML display by replacing variable placeholders.</p>
<p>This function replaces variable placeholders in a string with the requested values and escapes the values so they can be safely displayed as HTML. It should be used on any unknown text that is intended to be printed to an HTML page (especially text that may have come from untrusted users, since in that case it prevents cross-site scripting and other security problems).</p>
<p>In most cases, you should use t() rather than calling this function directly, since it will translate the text (on non-English-only sites) in addition to formatting it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$string</em>&nbsp;</td><td>A string containing placeholders. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$args</em>&nbsp;</td><td>An associative array of replacements to make. Occurrences in $string of any key in $args are replaced with the corresponding value, after optional sanitization and formatting. The type of sanitization and formatting depends on the first character of the key:</p>
<ul>
<li>: Escaped to HTML using <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a>. Use this as the default choice for anything displayed on a page on the site.</li>
<li>variable: Escaped to HTML and formatted using <a class="el" href="group__schemaapi.html#ga4ab49ad51d8b93bb296a8492296d655b">drupal_placeholder()</a>, which makes it display as <em>emphasized</em> text.</li>
<li>!variable: Inserted as is, with no sanitization or formatting. Only use this for text that has already been prepared for HTML display (for example, user-supplied text that has already been run through <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a> previously, or is expected to contain some limited HTML tags and has already been run through <a class="el" href="group__sanitization.html#ga8864a29ffa8de5c9f8dc9e417060660d">filter_xss()</a> previously).</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>t() </dd></dl>

</div>
</div>
<a class="anchor" id="gaa50232f577883a48731fc93530628a79"></a><!-- doxytag: member="bootstrap.inc::get_t" ref="gaa50232f577883a48731fc93530628a79" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_t </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the name of the proper localization function.</p>
<p><a class="el" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t()</a> exists to support localization for code that might run during the installation phase, when some elements of the system might not have loaded.</p>
<p>This would include implementations of <a class="el" href="group__hooks.html#ga1ecdb5a2a046ea63dc790c3ed90338e5">hook_install()</a>, which could run during the Drupal installation phase, and might also be run during non-installation time, such as while installing the module from the the module administration page.</p>
<p>Example usage: </p>
<div class="fragment"><pre class="fragment">   $t = <a class="code" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t</a>();
   $translated = $t(<span class="stringliteral">&apos;translate this&apos;</span>);
</pre></div><p>Use t() if your code will never run during the Drupal installation phase. Use <a class="el" href="group__sanitization.html#gabc78d1b88aa8081093abbbf71a516c7c">st()</a> if your code will only run during installation and never any other time. Use <a class="el" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t()</a> if your code could run in either circumstance.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>t() </dd>
<dd>
<a class="el" href="group__sanitization.html#gabc78d1b88aa8081093abbbf71a516c7c">st()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gabc78d1b88aa8081093abbbf71a516c7c"></a><!-- doxytag: member="install.inc::st" ref="gabc78d1b88aa8081093abbbf71a516c7c" args="($string, array $args=array(), array $options=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">st </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>args</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>options</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Translates a string when some systems are not available.</p>
<p>Used during the install process, when database, theme, and localization system is possibly not yet available.</p>
<p>Use t() if your code will never run during the Drupal installation phase. Use <a class="el" href="group__sanitization.html#gabc78d1b88aa8081093abbbf71a516c7c">st()</a> if your code will only run during installation and never any other time. Use <a class="el" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t()</a> if your code could run in either circumstance.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>t() </dd>
<dd>
<a class="el" href="group__sanitization.html#gaa50232f577883a48731fc93530628a79">get_t()</a> </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
