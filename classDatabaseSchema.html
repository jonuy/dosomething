<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: DatabaseSchema Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>DatabaseSchema Class Reference<br/>
<small>
[<a class="el" href="group__schemaapi.html">Schema API</a>]</small>
</h1><!-- doxytag: class="DatabaseSchema" --><!-- doxytag: inherits="QueryPlaceholderInterface" --><div class="dynheader">
Inheritance diagram for DatabaseSchema:</div>
<div class="dynsection">
 <div class="center">
  <img src="classDatabaseSchema.gif" usemap="#DatabaseSchema_map" alt=""/>
  <map id="DatabaseSchema_map" name="DatabaseSchema_map">
<area href="interfaceQueryPlaceholderInterface.html" alt="QueryPlaceholderInterface" shape="rect" coords="176,0,342,24"/>
<area href="classDatabaseSchema__mysql.html" alt="DatabaseSchema_mysql" shape="rect" coords="0,112,166,136"/>
<area href="classDatabaseSchema__pgsql.html" alt="DatabaseSchema_pgsql" shape="rect" coords="176,112,342,136"/>
<area href="classDatabaseSchema__sqlite.html" alt="DatabaseSchema_sqlite" shape="rect" coords="352,112,518,136"/>
</map>
 </div>
</div>

<p><a href="classDatabaseSchema-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dbadc4c37f3232abea2d64667329223"></a><!-- doxytag: member="DatabaseSchema::__construct" ref="a8dbadc4c37f3232abea2d64667329223" args="($connection)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ($connection)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a31371e9f44ef54d75fce3746b83a5d76">__clone</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a50324931213b40d68037c184a0061cf0">uniqueIdentifier</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a25bdbd4eb743fcd4db4809451ad5e8c9">nextPlaceholder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a6ed5776d1fdc2790123dd5e03571ba77">prefixNonTable</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#acf4650f58bed6fc76d94d49a72e5d706">tableExists</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#aecbf376fb9d85811278ee6448e99feca">findTables</a> ($table_expression)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a1f657a73ea94b4fa0de1d1954350b4e7">fieldExists</a> ($table, $column)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a82022c76c3131c4d745736d08321b788">getFieldTypeMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#aaa0b6f32797505bdfc9ed953e10a486e">renameTable</a> ($table, $new_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a61a37e713374b88d28161e0ade1a5c78">dropTable</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a54800af6c4094cea196e1c66b5106c99">addField</a> ($table, $field, $spec, $keys_new=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a9eee3ae81e40bba206015a83450e1d56">dropField</a> ($table, $field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a0e7b9c13344b59584bf6e1ddea009592">fieldSetDefault</a> ($table, $field, $default)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ae4de35c98eed09a4c38d82e3f17ed8a6">fieldSetNoDefault</a> ($table, $field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ae343d2fd453d51d9df43d439af0a22e2">indexExists</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#abe9490392e8408eb3847256aeb15bba0">addPrimaryKey</a> ($table, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a08057609758a32c13c4d1863da54b63e">dropPrimaryKey</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ac2e6358da1c2d38fe6a1a1d003dac8ca">addUniqueKey</a> ($table, $name, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a40519a35f27d1bfe0f2eb0e759df1afd">dropUniqueKey</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a12f4b519abe55aaef3e4d736dbb27ab7">addIndex</a> ($table, $name, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#adf5467aa59e462857527d8f1a5988a81">dropIndex</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ab2470d34145fdbb413dd952baf7067be">changeField</a> ($table, $field, $field_new, $spec, $keys_new=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a0117d8198d2da93013fe5bf823649fd6">createTable</a> ($name, $table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a7255734df8d5b7a1475f8cd0d8320e06">fieldNames</a> ($fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a45f043158682052792524ab48a188dc5">prepareComment</a> ($comment, $length=NULL)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a8acae6a4bd3e5ba89aaddc8133927ee2">getPrefixInfo</a> ($table= 'default', $add_prefix=TRUE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a4a2510c6b95598b613355d1a9b9a706f">buildTableNameCondition</a> ($table_name, $operator= '=', $add_prefix=TRUE)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd465dd5d817360083d0ff87971f692b"></a><!-- doxytag: member="DatabaseSchema::$connection" ref="acd465dd5d817360083d0ff87971f692b" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$connection</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#a113f21a5dcec8719b09a09d422a9dfc9">$placeholder</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ad1b406aa6605327a3f5c910e0fd37816">$defaultSchema</a> = 'public'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html#ab8e3b674c237c9f4590c38d6ebf8a3d1">$uniqueIdentifier</a></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a31371e9f44ef54d75fce3746b83a5d76"></a><!-- doxytag: member="DatabaseSchema::__clone" ref="a31371e9f44ef54d75fce3746b83a5d76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::__clone </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements the magic __clone function. </p>

</div>
</div>
<a class="anchor" id="a54800af6c4094cea196e1c66b5106c99"></a><!-- doxytag: member="DatabaseSchema::addField" ref="a54800af6c4094cea196e1c66b5106c99" args="($table, $field, $spec, $keys_new=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::addField </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys_new</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a new field to a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>Name of the field to be added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$spec</em>&nbsp;</td><td>The field specification array, as taken from a schema definition. The specification may also contain the key 'initial', the newly created field will be set to the value of the key in all rows. This is most useful for creating NOT NULL columns with no default value in existing tables. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys_new</em>&nbsp;</td><td>Optional keys and indexes specification to be created on the table along with adding the field. The format is the same as a table specification but without the 'fields' element. If you are adding a type 'serial' field, you MUST specify at least one key or index including it in this array. See <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a> for more explanation why.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified table already has a field by that name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#ae30b5689e92ccfc88f2dc2b7964d0234">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#ad2dad402ce094b71c40136b02c70bc3f">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#ae55ed07d32dcc323c699b490e0dc137b">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a12f4b519abe55aaef3e4d736dbb27ab7"></a><!-- doxytag: member="DatabaseSchema::addIndex" ref="a12f4b519abe55aaef3e4d736dbb27ab7" args="($table, $name, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::addIndex </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of field names.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified table already has an index by that name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a18bb0f395ccfb5bab5385485d1b8b12a">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#afced2f073c4a42004d74b6feb1f3f46e">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#af6c71cb38c8cf5b8e37fe00d9c32861c">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="abe9490392e8408eb3847256aeb15bba0"></a><!-- doxytag: member="DatabaseSchema::addPrimaryKey" ref="abe9490392e8408eb3847256aeb15bba0" args="($table, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::addPrimaryKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a primary key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>Fields for the primary key.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified table already has a primary key. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#af133b10cf19353fef894d1a0550f7b2b">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#ad6f1224f726c193393c134c975a0cd50">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a00b3d8c7ebad2d9ca71d41e3caab7624">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="ac2e6358da1c2d38fe6a1a1d003dac8ca"></a><!-- doxytag: member="DatabaseSchema::addUniqueKey" ref="ac2e6358da1c2d38fe6a1a1d003dac8ca" args="($table, $name, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::addUniqueKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a unique key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of field names.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified table already has a key by that name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a5e5e984d6f48b61962290a4715e3c143">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a950dbc66389f5bf5028dfd6b310e4092">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#ad180a50d157cd3488cf81f8cc08dd80f">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a4a2510c6b95598b613355d1a9b9a706f"></a><!-- doxytag: member="DatabaseSchema::buildTableNameCondition" ref="a4a2510c6b95598b613355d1a9b9a706f" args="($table_name, $operator= '=', $add_prefix=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::buildTableNameCondition </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>operator</em> = <code>'='</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>add_prefix</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build a condition to match a table name against a standard information_schema.</p>
<p>The information_schema is a SQL standard that provides information about the database server and the databases, schemas, tables, columns and users within it. This makes information_schema a useful tool to use across the drupal database drivers and is used by a few different functions. The function below describes the conditions to be meet when querying information_schema.tables for drupal tables or information associated with drupal tables. Even though this is the standard method, not all databases follow standards and so this method should be overwritten by a database driver if the database provider uses alternate methods. Because information_schema.tables is used in a few different functions, a database driver will only need to override this function to make all the others work. For example see includes/databases/mysql/schema.inc.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table_name</em>&nbsp;</td><td>The name of the table in question. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$operator</em>&nbsp;</td><td>The operator to apply on the 'table' part of the condition. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$add_prefix</em>&nbsp;</td><td>Boolean to indicate whether the table name needs to be prefixed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="interfaceQueryConditionInterface.html">QueryConditionInterface</a> A <a class="el" href="classDatabaseCondition.html">DatabaseCondition</a> object. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#ae4fdb93f71666ee453610344b34d6763">DatabaseSchema_mysql</a>.</p>

</div>
</div>
<a class="anchor" id="ab2470d34145fdbb413dd952baf7067be"></a><!-- doxytag: member="DatabaseSchema::changeField" ref="ab2470d34145fdbb413dd952baf7067be" args="($table, $field, $field_new, $spec, $keys_new=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::changeField </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys_new</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Change a field definition.</p>
<p>IMPORTANT NOTE: To maintain database portability, you have to explicitly recreate all indices and primary keys that are using the changed field.</p>
<p>That means that you have to drop all affected keys and indexes with db_drop_{primary_key,unique_key,index}() before calling <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a>. To recreate the keys and indices, pass the key definitions as the optional $keys_new argument directly to <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a>.</p>
<p>For example, suppose you have: </p>
<div class="fragment"><pre class="fragment"> $schema[<span class="stringliteral">&apos;foo&apos;</span>] = array(
   <span class="stringliteral">&apos;fields&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;bar&apos;</span> =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE)
   ),
   <span class="stringliteral">&apos;primary key&apos;</span> =&gt; array(<span class="stringliteral">&apos;bar&apos;</span>)
 );
</pre></div><p> and you want to change foo.bar to be type serial, leaving it as the primary key. The correct sequence is: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group__schemaapi.html#ga733a41de3d8b74798a8cf3c87ae33715">db_drop_primary_key</a>(<span class="stringliteral">&apos;foo&apos;</span>);
 <a class="code" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field</a>(<span class="stringliteral">&apos;foo&apos;</span>, <span class="stringliteral">&apos;bar&apos;</span>, <span class="stringliteral">&apos;bar&apos;</span>,
   array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;serial&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE),
   array(<span class="stringliteral">&apos;primary key&apos;</span> =&gt; array(<span class="stringliteral">&apos;bar&apos;</span>)));
</pre></div><p>The reasons for this are due to the different database engines:</p>
<p>On PostgreSQL, changing a field definition involves adding a new field and dropping an old one which* causes any indices, primary keys and sequences (from serial-type fields) that use the changed field to be dropped.</p>
<p>On MySQL, all type 'serial' fields must be part of at least one key or index as soon as they are created. You cannot use db_add_{primary_key,unique_key,index}() for this purpose because the ALTER TABLE command will fail to add the column without a key or index specification. The solution is to use the optional $keys_new argument to create the key or index at the same time as field.</p>
<p>You could use db_add_{primary_key,unique_key,index}() in all cases unless you are converting a field to be type serial. You can use the $keys_new argument in all cases.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>Name of the field to change. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field_new</em>&nbsp;</td><td>New name for the field (set to the same as $field if you don't want to change the name). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$spec</em>&nbsp;</td><td>The field specification for the new field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys_new</em>&nbsp;</td><td>Optional keys and indexes specification to be created on the table along with changing the field. The format is the same as a table specification but without the 'fields' element.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table or source field doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified destination field already exists. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a7da23695df0408c0b8d0bbb95bf32ef6">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#adae800c8871e30a70f3896b730c12ed3">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#ada4db729f33e2ac55a9d886f30b7b3ad">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a0117d8198d2da93013fe5bf823649fd6"></a><!-- doxytag: member="DatabaseSchema::createTable" ref="a0117d8198d2da93013fe5bf823649fd6" args="($name, $table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::createTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new table from a Drupal table definition.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the table to create. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>A Schema API table definition array.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If the specified table already exists. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9eee3ae81e40bba206015a83450e1d56"></a><!-- doxytag: member="DatabaseSchema::dropField" ref="a9eee3ae81e40bba206015a83450e1d56" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::dropField </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drop a field.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be dropped.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the field was successfully dropped, FALSE if there was no field by that name to begin with. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a87bb4ca35f69061ca489d45d4f74b3c7">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a08e3aef1903dc40b2f0c75d4f18507bf">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a724d96040dfa30f34e5f0278525774bf">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="adf5467aa59e462857527d8f1a5988a81"></a><!-- doxytag: member="DatabaseSchema::dropIndex" ref="adf5467aa59e462857527d8f1a5988a81" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::dropIndex </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drop an index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the index was successfully dropped, FALSE if there was no index by that name to begin with. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a2bd472fc5238f3b5d53284768475881c">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a6c04b76c95ca7f68995baae8b0fe5b08">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a876b9d643b03532cf0be81f6ea13ad9f">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a08057609758a32c13c4d1863da54b63e"></a><!-- doxytag: member="DatabaseSchema::dropPrimaryKey" ref="a08057609758a32c13c4d1863da54b63e" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::dropPrimaryKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drop the primary key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the primary key was successfully dropped, FALSE if there was no primary key on this table to begin with. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#adf1b000bebd7b19a83506a01dab36972">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#ae1548317341c45c01e0c67f9ebd9a057">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a2fe8b467c14e7fca2f24b2af6487db4c">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a61a37e713374b88d28161e0ade1a5c78"></a><!-- doxytag: member="DatabaseSchema::dropTable" ref="a61a37e713374b88d28161e0ade1a5c78" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::dropTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drop a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be dropped.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the table was successfully dropped, FALSE if there was no table by that name to begin with. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a9dbfabde4257668bdeb08965735fb823">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a7d84e7dde7dfcf415b5732eb6f97fbe0">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#adfb4c367167a77d523c3d002af1fc7cc">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a40519a35f27d1bfe0f2eb0e759df1afd"></a><!-- doxytag: member="DatabaseSchema::dropUniqueKey" ref="a40519a35f27d1bfe0f2eb0e759df1afd" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::dropUniqueKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drop a unique key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the key was successfully dropped, FALSE if there was no key by that name to begin with. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a7301360fe0f030204827f75495448c41">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a1fd8f4f016bf0b242448dc60506ab6cf">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a93c409d48623019e1a5c1a2ff881c2c7">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a1f657a73ea94b4fa0de1d1954350b4e7"></a><!-- doxytag: member="DatabaseSchema::fieldExists" ref="a1f657a73ea94b4fa0de1d1954350b4e7" args="($table, $column)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::fieldExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>column</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a column exists in the given table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the column.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given column exists, otherwise FALSE. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a3f375da9ca1d0e8c7000820366457256">DatabaseSchema_mysql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a0ed3e65a49d4d1fc0db835ed5e49bf45">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a7255734df8d5b7a1475f8cd0d8320e06"></a><!-- doxytag: member="DatabaseSchema::fieldNames" ref="a7255734df8d5b7a1475f8cd0d8320e06" args="($fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::fieldNames </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return an array of field names from an array of key/index column specifiers.</p>
<p>This is usually an identity function but if a key/index uses a column prefix specification, this function extracts just the name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of key/index column specifiers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of field names. </dd></dl>

</div>
</div>
<a class="anchor" id="a0e7b9c13344b59584bf6e1ddea009592"></a><!-- doxytag: member="DatabaseSchema::fieldSetDefault" ref="a0e7b9c13344b59584bf6e1ddea009592" args="($table, $field, $default)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::fieldSetDefault </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>default</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the default value for a field.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$default</em>&nbsp;</td><td>Default value to be set. NULL for 'default NULL'.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table or field doesn't exist. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#ae88383059811a3c3328455ef04aea15a">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a2f17e2a4831ccba761ff37080acad92b">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a357cd81ce4c000c77592cdcea4bc8d06">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="ae4de35c98eed09a4c38d82e3f17ed8a6"></a><!-- doxytag: member="DatabaseSchema::fieldSetNoDefault" ref="ae4de35c98eed09a4c38d82e3f17ed8a6" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::fieldSetNoDefault </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a field to have no default value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be altered.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table or field doesn't exist. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#abf4208a396175d211decc395ea6cc63f">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#ab2d9f824a7b01c5b6ed218cd6beae1cb">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a607aa7b0fef26ab3dfd08d46103ad4ce">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="aecbf376fb9d85811278ee6448e99feca"></a><!-- doxytag: member="DatabaseSchema::findTables" ref="aecbf376fb9d85811278ee6448e99feca" args="($table_expression)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::findTables </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table_expression</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find all tables that are like the specified base table name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table_expression</em>&nbsp;</td><td>An SQL expression, for example "simpletest%" (without the quotes). BEWARE: this is not prefixed, the caller should take care of that.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array, both the keys and the values are the matching tables. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__sqlite.html#a7cfb91db091c6f998be9d660ea5c63ae">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a82022c76c3131c4d745736d08321b788"></a><!-- doxytag: member="DatabaseSchema::getFieldTypeMap" ref="a82022c76c3131c4d745736d08321b788" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::getFieldTypeMap </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a mapping of Drupal schema field names to DB-native field types.</p>
<p>Because different field types do not map 1:1 between databases, Drupal has its own normalized field type names. This function returns a driver-specific mapping table from Drupal names to the native names for each database.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array An array of Schema API field types to driver-specific field types. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#abe6bab05d4dca80ecad5fcd0fb17145e">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a918cab53fb09222d7b017c527bb9534e">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a0acdc6880132e45933c71928ca9d0ea7">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a8acae6a4bd3e5ba89aaddc8133927ee2"></a><!-- doxytag: member="DatabaseSchema::getPrefixInfo" ref="a8acae6a4bd3e5ba89aaddc8133927ee2" args="($table= 'default', $add_prefix=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::getPrefixInfo </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>'default'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>add_prefix</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get information about the table name and schema from the prefix.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>of table to look prefix up for. Defaults to 'default' because thats default key for prefix. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$add_prefix</em>&nbsp;</td><td>Boolean that indicates whether the given table name should be prefixed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A keyed array with information about the schema, table name and prefix. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a83aac7da38db04087cd040d93facf5e7">DatabaseSchema_mysql</a>.</p>

</div>
</div>
<a class="anchor" id="ae343d2fd453d51d9df43d439af0a22e2"></a><!-- doxytag: member="DatabaseSchema::indexExists" ref="ae343d2fd453d51d9df43d439af0a22e2" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::indexExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if an index exists in the given table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index in drupal (no prefixing).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given index exists, otherwise FALSE. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#aeef6ccd88482787cdbb4ff4e65bed2dd">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#aee7c3f672034280888fd9533a7c98835">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#ac3f44b37b0b2d08a47433b5b4120aa6b">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a25bdbd4eb743fcd4db4809451ad5e8c9"></a><!-- doxytag: member="DatabaseSchema::nextPlaceholder" ref="a25bdbd4eb743fcd4db4809451ad5e8c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::nextPlaceholder </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements QueryPlaceHolderInterface::nextPlaceholder(). </p>

<p>Implements <a class="el" href="interfaceQueryPlaceholderInterface.html#a6ec3008deb25380042178419cc601b37">QueryPlaceholderInterface</a>.</p>

</div>
</div>
<a class="anchor" id="a6ed5776d1fdc2790123dd5e03571ba77"></a><!-- doxytag: member="DatabaseSchema::prefixNonTable" ref="a6ed5776d1fdc2790123dd5e03571ba77" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::prefixNonTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create names for indexes, primary keys and constraints.</p>
<p>This prevents using {} around non-table names like indexes and keys. </p>

</div>
</div>
<a class="anchor" id="a45f043158682052792524ab48a188dc5"></a><!-- doxytag: member="DatabaseSchema::prepareComment" ref="a45f043158682052792524ab48a188dc5" args="($comment, $length=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::prepareComment </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>length</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prepare a table or column comment for database query.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$comment</em>&nbsp;</td><td>The comment string to prepare. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$length</em>&nbsp;</td><td>Optional upper limit on the returned string length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The prepared comment. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a3769228a1a4831bc1dd75d9d4c5802dc">DatabaseSchema_mysql</a>.</p>

</div>
</div>
<a class="anchor" id="aaa0b6f32797505bdfc9ed953e10a486e"></a><!-- doxytag: member="DatabaseSchema::renameTable" ref="aaa0b6f32797505bdfc9ed953e10a486e" args="($table, $new_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::renameTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>new_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rename a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be renamed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$new_name</em>&nbsp;</td><td>The new name for the table.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></em>&nbsp;</td><td>If the specified table doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></em>&nbsp;</td><td>If a table with the specified new name already exists. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#acd72dda186ab4889a8d5ae2f51b92dba">DatabaseSchema_mysql</a>, <a class="el" href="classDatabaseSchema__pgsql.html#a899f676d802888ded3f6d4a171794f53">DatabaseSchema_pgsql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a3ca3d490665805d43e6c143b90de0cf9">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="acf4650f58bed6fc76d94d49a72e5d706"></a><!-- doxytag: member="DatabaseSchema::tableExists" ref="acf4650f58bed6fc76d94d49a72e5d706" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::tableExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a table exists.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given table exists, otherwise FALSE. </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__mysql.html#a3590c4ea18bb4d950f1595370f4ae211">DatabaseSchema_mysql</a>, and <a class="el" href="classDatabaseSchema__sqlite.html#a8799172b7c34295d232f0335af6ddc08">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a50324931213b40d68037c184a0061cf0"></a><!-- doxytag: member="DatabaseSchema::uniqueIdentifier" ref="a50324931213b40d68037c184a0061cf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::uniqueIdentifier </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements QueryPlaceHolderInterface::uniqueIdentifier(). </p>

<p>Implements <a class="el" href="interfaceQueryPlaceholderInterface.html#a5f4eb118f1894f0b5785d78d4dbe9847">QueryPlaceholderInterface</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad1b406aa6605327a3f5c910e0fd37816"></a><!-- doxytag: member="DatabaseSchema::$defaultSchema" ref="ad1b406aa6605327a3f5c910e0fd37816" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::$defaultSchema = 'public'<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Definition of prefixInfo array structure.</p>
<p>Rather than redefining <a class="el" href="classDatabaseSchema.html#a8acae6a4bd3e5ba89aaddc8133927ee2">DatabaseSchema::getPrefixInfo()</a> for each driver, by defining the defaultSchema variable only MySQL has to re-write the method.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classDatabaseSchema.html#a8acae6a4bd3e5ba89aaddc8133927ee2">DatabaseSchema::getPrefixInfo()</a> </dd></dl>

<p>Reimplemented in <a class="el" href="classDatabaseSchema__sqlite.html#ab0f2d6c0731bffc8a88b64cad3a60a3f">DatabaseSchema_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a113f21a5dcec8719b09a09d422a9dfc9"></a><!-- doxytag: member="DatabaseSchema::$placeholder" ref="a113f21a5dcec8719b09a09d422a9dfc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::$placeholder = 0<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The placeholder counter. </p>

</div>
</div>
<a class="anchor" id="ab8e3b674c237c9f4590c38d6ebf8a3d1"></a><!-- doxytag: member="DatabaseSchema::$uniqueIdentifier" ref="ab8e3b674c237c9f4590c38d6ebf8a3d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DatabaseSchema::$uniqueIdentifier<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A unique identifier for this query object. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>html/includes/database/<a class="el" href="schema_8inc.html">schema.inc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
