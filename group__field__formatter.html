<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: Field Formatter API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Field Formatter API<br/>
<small>
[<a class="el" href="group__hooks.html">Hooks</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga42c57fcac0e7a09f757983224136a850">hook_field_formatter_info_alter</a> (&amp;$info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga2c1856869caa776fd9e5db4af4e0b57b">hook_field_formatter_prepare_view</a> ($entity_type, $entities, $field, $instances, $langcode, &amp;$items, $displays)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#gaa588d99481fa147a1c88416e55fdfad6">hook_field_formatter_view</a> ($entity_type, $entity, $field, $instance, $langcode, $items, $display)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>End of "defgroup field_widget".</p>
<p>Define Field API formatter types.</p>
<p>Field API formatters specify how fields are displayed when the entity to which the field is attached is displayed. Fields of a given <a class="el" href="group__field__types.html">field type </a> may be displayed using more than one formatter. In this case, the Field UI module allows the site builder to choose which formatter to use. Field formatters are defined by implementing <a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__field.html">Field API</a> </dd>
<dd>
<a class="el" href="group__field__types.html">Field Types API</a> </dd>
<dd>
<a class="el" href="group__field__widget.html">Field Widget API</a> </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2f5aa1c7455f55dffd84a48efa57f987"></a><!-- doxytag: member="field.api.php::hook_field_formatter_info" ref="ga2f5aa1c7455f55dffd84a48efa57f987" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_field_formatter_info </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Expose Field API formatter types.</p>
<p>Formatters handle the display of field values. Formatter hooks are typically called by the Field Attach API <a class="el" href="group__field__attach.html#ga12b5fce5e2b2adb487c485c63bfe0298">field_attach_prepare_view()</a> and <a class="el" href="group__field__attach.html#gaa752a8fd31173fd2308d71eb059e00c7">field_attach_view()</a> functions.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array describing the formatter types implemented by the module. The keys are formatter type names. To avoid name clashes, formatter type names should be prefixed with the name of the module that exposes them. The values are arrays describing the formatter type, with the following key/value pairs:<ul>
<li>label: The human-readable name of the formatter type.</li>
<li>description: A short description for the formatter type.</li>
<li>field types: An array of field types the formatter supports.</li>
<li>settings: An array whose keys are the names of the settings available for the formatter type, and whose values are the default values for those settings.</li>
</ul>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__field__formatter.html#ga42c57fcac0e7a09f757983224136a850">hook_field_formatter_info_alter()</a> </dd>
<dd>
<a class="el" href="group__field__formatter.html#gaa588d99481fa147a1c88416e55fdfad6">hook_field_formatter_view()</a> </dd>
<dd>
<a class="el" href="group__field__formatter.html#ga2c1856869caa776fd9e5db4af4e0b57b">hook_field_formatter_prepare_view()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga42c57fcac0e7a09f757983224136a850"></a><!-- doxytag: member="field.api.php::hook_field_formatter_info_alter" ref="ga42c57fcac0e7a09f757983224136a850" args="(&amp;$info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_field_formatter_info_alter </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform alterations on Field API formatter types.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$info</em>&nbsp;</td><td>An array of information on formatter types exposed by <a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info()</a> implementations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2c1856869caa776fd9e5db4af4e0b57b"></a><!-- doxytag: member="field.api.php::hook_field_formatter_prepare_view" ref="ga2c1856869caa776fd9e5db4af4e0b57b" args="($entity_type, $entities, $field, $instances, $langcode, &amp;$items, $displays)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_field_formatter_prepare_view </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>instances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>langcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>displays</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allow formatters to load information for field values being displayed.</p>
<p>This should be used when a formatter needs to load additional information from the database in order to render a field, for example a reference field which displays properties of the referenced entities such as name or type.</p>
<p>This hook is called after the field type's own <a class="el" href="group__field__types.html#ga02a3004a67ecba2b81eaa63b05d08cc8">hook_field_prepare_view()</a>.</p>
<p>Unlike most other field hooks, this hook operates on multiple entities. The $entities, $instances and $items parameters are arrays keyed by entity ID. For performance reasons, information for all available entities should be loaded in a single query where possible.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$entity_type</em>&nbsp;</td><td>The type of $entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$entities</em>&nbsp;</td><td>Array of entities being displayed, keyed by entity ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field structure for the operation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$instances</em>&nbsp;</td><td>Array of instance structures for $field for each entity, keyed by entity ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$langcode</em>&nbsp;</td><td>The language the field values are to be shown in. If no language is provided the current language is used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$items</em>&nbsp;</td><td>Array of field values for the entities, keyed by entity ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$displays</em>&nbsp;</td><td>Array of display settings to use for each entity, keyed by entity ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Changes or additions to field values are done by altering the $items parameter by reference. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa588d99481fa147a1c88416e55fdfad6"></a><!-- doxytag: member="field.api.php::hook_field_formatter_view" ref="gaa588d99481fa147a1c88416e55fdfad6" args="($entity_type, $entity, $field, $instance, $langcode, $items, $display)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_field_formatter_view </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>langcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>display</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build a renderable array for a field value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$entity_type</em>&nbsp;</td><td>The type of $entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$entity</em>&nbsp;</td><td>The entity being displayed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$instance</em>&nbsp;</td><td>The field instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$langcode</em>&nbsp;</td><td>The language associated with $items. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$items</em>&nbsp;</td><td>Array of values for this field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$display</em>&nbsp;</td><td>The display settings to use, as found in the 'display' entry of instance definitions. The array notably contains the following keys and values;</p>
<ul>
<li>type: The name of the formatter to use.</li>
<li>settings: The array of formatter settings.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A renderable array for the $items, as an array of child elements keyed by numeric indexes starting from 0. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
