<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: html/profiles/dosomething/modules/contrib/ctools/includes/dependent.inc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>html/profiles/dosomething/modules/contrib/ctools/includes/dependent.inc File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dependent_8inc.html#aa4105a7a7db8a659ab7d7a76a4c541e0">ctools_dependent_process</a> ($element, &amp;$form_state, &amp;$form)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3efb9147fdb16e36de9219f3cae4f60c"></a><!-- doxytag: member="dependent.inc::ctools_dependent_pre_render" ref="a3efb9147fdb16e36de9219f3cae4f60c" args="($element)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>ctools_dependent_pre_render</b> ($element)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dependent_8inc.html#a47834c9e31868db6efb1d5d04e34dbfc">ctools_dependent_element_info_alter</a> (&amp;$type)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Provide dependent checkboxes that can be easily used in forms.</p>
<p>This system will ensure that form items are invisible if the dependency is not met. What this means is that you set the dependency of an item to a list of form ids that must be set, and the list of values that qualify.</p>
<p>For a simple use, setting an item to be dependent upon a select box, if any of the listed values are selected, the item will be visible. Otherwise, the item will be invisible.</p>
<p>If dependent upon multiple items, use dependency_count = X to set the number of items that must be set in order to make this item visible. This defaults to 1. If set to 2, then at least 2 form items in the list must have their items set for the item to become visible.</p>
<p>When hiding checkboxes and radios you need to add their id in a div manually via prefix and suffix since they don't have their own id. You actually need to add TWO divs because it's the parent that gets hidden.</p>
<p>Fieldsets can not be hidden by default. Adding 'input' =&gt; TRUE to the fieldset works around that.</p>
<p>For radios, because they are selected a little bit differently, instead of using the CSS id, use: radio:NAME where NAME is the name of the property. This can be quickly found by looking at the HTML of the generated form, but it is usually derived from the array which contains the item. For example, $form['menu']['type'] would have a name of menu[type]. This name is the same field that is used to determine where in $form_state['values'] you will find the value of the form.</p>
<p>The item that is dependent on, should be set to tree = TRUE.</p>
<p>Usage:</p>
<p>First, ensure this tool is loaded: </p>
<div class="fragment"><pre class="fragment"> { <a class="code" href="ctools_8module.html#aab220ed5e60234f37c77bedbdb8a4905">ctools_include</a>(<span class="stringliteral">&apos;dependent&apos;</span>); }

 On any form item, add
 - @code <span class="stringliteral">&apos;#dependency&apos;</span> =&gt; array(<span class="stringliteral">&apos;id-of-form-without-the-#&apos;</span> =&gt; array(list, of, values, that, make, <span class="keyword">this</span>, gadget, visible)), 
</pre></div><p>A fuller example, that hides the menu title when no menu is selected: </p>
<div class="fragment"><pre class="fragment"> *function ctools_dependent_example() {
  $form = array();
  $form[<span class="stringliteral">&apos;menu&apos;</span>] = array(
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;fieldset&apos;</span>,
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Menu settings&apos;</span>),
    <span class="stringliteral">&apos;#tree&apos;</span> =&gt; TRUE,
  );
  $form[<span class="stringliteral">&apos;menu&apos;</span>][<span class="stringliteral">&apos;type&apos;</span>] = array(
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Menu type&apos;</span>),
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;radios&apos;</span>,
    <span class="stringliteral">&apos;#options&apos;</span> =&gt; array(
      <span class="stringliteral">&apos;none&apos;</span> =&gt; t(<span class="stringliteral">&apos;No menu entry&apos;</span>),
      <span class="stringliteral">&apos;normal&apos;</span> =&gt; t(<span class="stringliteral">&apos;Normal menu entry&apos;</span>),
      <span class="stringliteral">&apos;tab&apos;</span> =&gt; t(<span class="stringliteral">&apos;Menu tab&apos;</span>),
      <span class="stringliteral">&apos;default tab&apos;</span> =&gt; t(<span class="stringliteral">&apos;Default menu tab&apos;</span>),
    ),
    <span class="stringliteral">&apos;#default_value&apos;</span> =&gt; <span class="stringliteral">&apos;none&apos;</span>,
  );

  $form[<span class="stringliteral">&apos;menu&apos;</span>][<span class="stringliteral">&apos;title&apos;</span>] = array(
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Title&apos;</span>),
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;textfield&apos;</span>,
    <span class="stringliteral">&apos;#default_value&apos;</span> =&gt; <span class="stringliteral">&apos;&apos;</span>,
    <span class="stringliteral">&apos;#description&apos;</span> =&gt; t(<span class="stringliteral">&apos;If set to normal or tab, enter the text to use for the menu item.&apos;</span>),
    <span class="stringliteral">&apos;#dependency&apos;</span> =&gt; array(<span class="stringliteral">&apos;radio:menu[type]&apos;</span> =&gt; array(<span class="stringliteral">&apos;normal&apos;</span>, <span class="stringliteral">&apos;tab&apos;</span>, <span class="stringliteral">&apos;default tab&apos;</span>)),
   );

  <span class="keywordflow">return</span> system_settings_form($form);
 *}
</pre></div><p>An example for hiding checkboxes using prefix and suffix: </p>
<div class="fragment"><pre class="fragment"> *function ctools_dependent_example_checkbox() {
  $form = array();
  $form[<span class="stringliteral">&apos;object&apos;</span>] = array(
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;fieldset&apos;</span>,
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Select object type&apos;</span>),
    <span class="stringliteral">&apos;#tree&apos;</span> =&gt; TRUE,
  );
  $form[<span class="stringliteral">&apos;object&apos;</span>][<span class="stringliteral">&apos;type&apos;</span>] = array(
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Object type&apos;</span>),
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;radios&apos;</span>,
    <span class="stringliteral">&apos;#options&apos;</span> =&gt; array(
      <span class="stringliteral">&apos;view&apos;</span> =&gt; t(<span class="stringliteral">&apos;View&apos;</span>),
      <span class="stringliteral">&apos;node&apos;</span> =&gt; t(<span class="stringliteral">&apos;Node&apos;</span>),
      <span class="stringliteral">&apos;field&apos;</span> =&gt; t(<span class="stringliteral">&apos;Field&apos;</span>),
      <span class="stringliteral">&apos;term&apos;</span> =&gt; t(<span class="stringliteral">&apos;Term&apos;</span>),
    ),
    <span class="stringliteral">&apos;#default_value&apos;</span> =&gt; <span class="stringliteral">&apos;view&apos;</span>,
  );

  $form[<span class="stringliteral">&apos;object&apos;</span>][<span class="stringliteral">&apos;elements&apos;</span>] = array(
    <span class="stringliteral">&apos;#title&apos;</span> =&gt; t(<span class="stringliteral">&apos;Select the elements to load from the node.&apos;</span>),
    <span class="stringliteral">&apos;#type&apos;</span> =&gt; <span class="stringliteral">&apos;checkboxes&apos;</span>,
    <span class="stringliteral">&apos;#prefix&apos;</span> =&gt; <span class="stringliteral">&apos;&lt;div id=&quot;edit-elements-wrapper&quot;&gt;&lt;div id=&quot;edit-elements&quot;&gt;&apos;</span>,
    <span class="stringliteral">&apos;#suffix&apos;</span> =&gt; <span class="stringliteral">&apos;&lt;/div&gt;&lt;/div&gt;&apos;</span>,
    <span class="stringliteral">&apos;#dependency&apos;</span> =&gt; array(<span class="stringliteral">&apos;radio:menu[type]&apos;</span> =&gt; array(<span class="stringliteral">&apos;node&apos;</span>)),
    <span class="stringliteral">&apos;#options&apos;</span> =&gt; array(
      <span class="stringliteral">&apos;body&apos;</span> =&gt; t(<span class="stringliteral">&apos;Body&apos;</span>),
      <span class="stringliteral">&apos;fields&apos;</span> =&gt; t(<span class="stringliteral">&apos;Fields&apos;</span>),
      <span class="stringliteral">&apos;taxonomy&apos;</span> =&gt; t(<span class="stringliteral">&apos;Taxonomy&apos;</span>),
    ),
    <span class="stringliteral">&apos;#default_value&apos;</span> =&gt; array(<span class="stringliteral">&apos;body&apos;</span>, <span class="stringliteral">&apos;fields&apos;</span>),
   );

  <span class="keywordflow">return</span> system_settings_form($form);
 *}
</pre></div><p>Deprecated:</p>
<p>You no longer use <a class="el" href="dependent_8inc.html#aa4105a7a7db8a659ab7d7a76a4c541e0">ctools_dependent_process()</a>, and it should be removed completely.</p>
<p>If you have a form element which isn't listed in ctools_dependent_element_info_alter you have to add [pre_render'][] =&gt; 'ctools_dependent_pre_render' to your form. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a47834c9e31868db6efb1d5d04e34dbfc"></a><!-- doxytag: member="dependent.inc::ctools_dependent_element_info_alter" ref="a47834c9e31868db6efb1d5d04e34dbfc" args="(&amp;$type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ctools_dependent_element_info_alter </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>CTools alters the element_info to be able to add process functions to every major form element to make it much more handy to use dependency, because you don't have to add process. </p>

</div>
</div>
<a class="anchor" id="aa4105a7a7db8a659ab7d7a76a4c541e0"></a><!-- doxytag: member="dependent.inc::ctools_dependent_process" ref="aa4105a7a7db8a659ab7d7a76a4c541e0" args="($element, &amp;$form_state, &amp;$form)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ctools_dependent_process </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process callback to add dependency to form items. </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
