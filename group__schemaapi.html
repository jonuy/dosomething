<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DoSomething.org: Schema API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Schema API</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchemaCache.html">SchemaCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema__mysql.html">DatabaseSchema_mysql</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema__pgsql.html">DatabaseSchema_pgsql</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema.html">DatabaseSchema</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchemaObjectExistsException.html">DatabaseSchemaObjectExistsException</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchemaObjectDoesNotExistException.html">DatabaseSchemaObjectDoesNotExistException</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatabaseSchema__sqlite.html">DatabaseSchema_sqlite</a></td></tr>
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__registry.html">Code registry</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gadbc374d9057276944d38062e769a1a99">DrupalCacheArray::__construct</a> ($cid, $bin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gabec90ca8c02f7c14dfbf66fd9e6bb5dd">DrupalCacheArray::offsetExists</a> ($offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga57be4d1b39bee68ee1c395c1cd9a2de5">DrupalCacheArray::offsetGet</a> ($offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga0d3377e6f4b8c592f006a75f8eadf21a">DrupalCacheArray::offsetSet</a> ($offset, $value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga8bb43551e89c35590c56a49f8fb54e3f">DrupalCacheArray::offsetUnset</a> ($offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga27687007f42979bdb8999683f3270c4a">DrupalCacheArray::persist</a> ($offset, $persist=TRUE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga33d892a839b353177e2483f6946178e9">DrupalCacheArray::resolveCacheMiss</a> ($offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga9d99af903ba2660c09ca835e63c79118">DrupalCacheArray::set</a> ($data, $lock=TRUE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga63c3aa47f3a451f0c5182800d29d5d9f">DrupalCacheArray::__destruct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gadb0a973c0269c37d3389946d5b57c01c">SchemaCache::resolveCacheMiss</a> ($offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static</a> ($name, $default_value=NULL, $reset=FALSE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga714b5ed0b14c43b61eef0c895598c5c4">drupal_static_reset</a> ($name=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gac880b82ae302f9d15c64d264a269d1f4">drupal_is_cli</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga4ab49ad51d8b93bb296a8492296d655b">drupal_placeholder</a> ($text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga8da38564ce2a3c92aa5103da6ae2a315">_drupal_shutdown_function</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gad3a1c91d672f6e9cf9be66557db148fe">drupal_check_memory_limit</a> ($required, $memory_limit=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga9706b8d6ecdac10302d83bd50935a698">drupal_install_schema</a> ($module)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga0688b6627af9dc05f2618f81489c3db0">drupal_uninstall_schema</a> ($module)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gaecb0d63f03b96dd1426298804e091d3b">drupal_get_schema_unprocessed</a> ($module, $table=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gad4ce891e1e944b1d6eee7253448a0178">_drupal_schema_initialize</a> (&amp;$schema, $module, $remove_descriptions=TRUE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gaacfcd6f676ee9062f0ba50a008a05443">drupal_schema_fields_sql</a> ($table, $prefix=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga96f707de751a962bf21b6cb0cb4f2ae6">drupal_write_record</a> ($table, &amp;$record, $primary_keys=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gaf3a8307693d6b28374665c72531b429f">db_create_table</a> ($name, $table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gaeb423ba53e5133548abe3d999f86e787">db_field_names</a> ($fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga0c10c365922d538e4d5d17fb314d4b79">db_index_exists</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga78809300cee80db034832825aed55b70">db_table_exists</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga6b39d7c0876ab53b1588ff9e40677c42">db_field_exists</a> ($table, $field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gac723bfddd5f133eb4d3dcec84c3c3f3c">db_find_tables</a> ($table_expression)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa4be538758cb8279d3aeed18e1b25c2d"></a><!-- doxytag: member="schemaapi::_db_create_keys_sql" ref="gaa4be538758cb8279d3aeed18e1b25c2d" args="($spec)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_db_create_keys_sql</b> ($spec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga629fe4d738f4caeb9d8c8acc2cc4d05b">db_rename_table</a> ($table, $new_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga5d744ae7a6fe2c9eaa1c7bd350a071d3">db_drop_table</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga10bc9c435dd6d36c112d7ec179840cff">db_add_field</a> ($table, $field, $spec, $keys_new=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga0e404d9200bf56fbed738aa4f57b3ec4">db_drop_field</a> ($table, $field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga63a499297d184dba68309dcd1b7e17d4">db_field_set_default</a> ($table, $field, $default)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gad1714b6920155f673f4291845fdb5f62">db_field_set_no_default</a> ($table, $field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga666b117ebedc9b50dacf193c6ba4dcf8">db_add_primary_key</a> ($table, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga733a41de3d8b74798a8cf3c87ae33715">db_drop_primary_key</a> ($table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gad6dd1c6f39d180bc21853ac6118a8f40">db_add_unique_key</a> ($table, $name, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gab06ca0fe63625f37a649cf3432fd8ffe">db_drop_unique_key</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gafb7153a65df9b5a0877a602cde86a0cc">db_add_index</a> ($table, $name, $fields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#gaa59d447eb4a7b25350fb7404f9a70ec0">db_drop_index</a> ($table, $name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field</a> ($table, $field, $field_new, $spec, $keys_new=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter</a> (&amp;$schema)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga29eeef3160c70f129c447e796e330cdb">DrupalCacheArray::$bin</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga0ba2e712f18ec2c8ee8bf97d115c85d1">DrupalCacheArray::$keysToPersist</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga696fd96aa3639a9d7d968961db9d5819">DrupalCacheArray::$storage</a> = array()</td></tr>
<tr><td colspan="2"><h2>into your string, and t() will</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpc24520cd0c9d113d5113bfec581ba6b9"></a> Translates a string to the current language or to a given language.</p>
<p>The t() function serves two purposes. First, at run-time it translates user-visible text into the appropriate language. Second, various mechanisms that figure out what text needs to be translated work off t() -- the text inside t() calls is added to the database of strings to be translated. These strings are expected to be in English, so the first argument should always be in English. To enable a fully-translatable site, it is important that all human-readable text that will be displayed on the site or sent to a user is passed through the t() function, or a related function. See the <a class="el" href="">Localization API </a> pages for more information, including recommendations on how to break up or not break up strings for translation.</p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga979670bd6bd2e34337ffc5f0810f2d71">drupal_get_schema</a> ($table=NULL, $rebuild=FALSE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__schemaapi.html#ga31cee7d4c13fafc15c69304f16e34686">drupal_get_complete_schema</a> ($rebuild=FALSE)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>API to handle database schemas.</p>
<p>A Drupal schema definition is an array structure representing one or more tables and their related keys and indexes. A schema is defined by <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>, which usually lives in a modulename.install file.</p>
<p>By implementing <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> and specifying the tables your module declares, you can easily create and drop these tables on all supported database engines. You don't have to deal with the different SQL dialects for table creation and alteration of the supported database engines.</p>
<p><a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> should return an array with a key for each table that the module defines.</p>
<p>The following keys are defined:</p>
<ul>
<li>'description': A string in non-markup plain text describing this table and its purpose. References to other tables should be enclosed in curly-brackets. For example, the node_revisions table description field might contain "Stores per-revision title and
     body data for each {node}."</li>
<li>'fields': An associative array ('fieldname' =&gt; specification) that describes the table's database columns. The specification is also an array. The following specification parameters are defined:<ul>
<li>'description': A string in non-markup plain text describing this field and its purpose. References to other tables should be enclosed in curly-brackets. For example, the node table vid field description might contain "Always holds the largest (most
       recent) {node_revision}.vid value for this nid."</li>
<li>'type': The generic datatype: 'char', 'varchar', 'text', 'blob', 'int', 'float', 'numeric', or 'serial'. Most types just map to the according database engine specific datatypes. Use 'serial' for auto incrementing fields. This will expand to 'INT auto_increment' on MySQL.</li>
<li>'mysql_type', 'pgsql_type', 'sqlite_type', etc.: If you need to use a record type not included in the officially supported list of types above, you can specify a type for each database backend. In this case, you can leave out the type parameter, but be advised that your schema will fail to load on backends that do not have a type specified. A possible solution can be to use the "text" type as a fallback.</li>
<li>'serialize': A boolean indicating whether the field will be stored as a serialized string.</li>
<li>'size': The data size: 'tiny', 'small', 'medium', 'normal', 'big'. This is a hint about the largest value the field will store and determines which of the database engine specific datatypes will be used (e.g. on MySQL, TINYINT vs. INT vs. BIGINT). 'normal', the default, selects the base type (e.g. on MySQL, INT, VARCHAR, BLOB, etc.). Not all sizes are available for all data types. See <a class="el" href="classDatabaseSchema.html#a82022c76c3131c4d745736d08321b788">DatabaseSchema::getFieldTypeMap()</a> for possible combinations.</li>
<li>'not null': If true, no NULL values will be allowed in this database column. Defaults to false.</li>
<li>'default': The field's default value. The PHP type of the value matters: '', '0', and 0 are all different. If you specify '0' as the default value for a type 'int' field it will not work because '0' is a string containing the character "zero", not an integer.</li>
<li>'length': The maximal length of a type 'char', 'varchar' or 'text' field. Ignored for other field types.</li>
<li>'unsigned': A boolean indicating whether a type 'int', 'float' and 'numeric' only is signed or unsigned. Defaults to FALSE. Ignored for other field types.</li>
<li>'precision', 'scale': For type 'numeric' fields, indicates the precision (total number of significant digits) and scale (decimal digits right of the decimal point). Both values are mandatory. Ignored for other field types.</li>
<li>'binary': A boolean indicating that MySQL should force 'char', 'varchar' or 'text' fields to use case-sensitive binary collation. This has no effect on other database types for which case sensitivity is already the default behavior. All parameters apart from 'type' are optional except that type 'numeric' columns must specify 'precision' and 'scale', and type 'varchar' must specify the 'length' parameter.</li>
</ul>
</li>
</ul>
<p>'primary key': An array of one or more key column specifiers (see below) that form the primary key.</p>
<ul>
<li>'unique keys': An associative array of unique keys ('keyname' =&gt; specification). Each specification is an array of one or more key column specifiers (see below) that form a unique key on the table.</li>
<li>'foreign keys': An associative array of relations ('my_relation' =&gt; specification). Each specification is an array containing the name of the referenced table ('table'), and an array of column mappings ('columns'). Column mappings are defined by key pairs ('source_column' =&gt; 'referenced_column').</li>
<li>'indexes': An associative array of indexes ('indexname' =&gt; specification). Each specification is an array of one or more key column specifiers (see below) that form an index on the table.</li>
</ul>
<p>A key column specifier is either a string naming a column or an array of two elements, column name and length, specifying a prefix of the named column.</p>
<p>As an example, here is a SUBSET of the schema definition for Drupal's 'node' table. It show four fields (nid, vid, type, and title), the primary key on field 'nid', a unique key named 'vid' on field 'vid', and two indexes, one named 'nid' on field 'nid' and one named 'node_title_type' on the field 'title' and the first four bytes of the field 'type':</p>
<div class="fragment"><pre class="fragment"> $schema[<span class="stringliteral">&apos;node&apos;</span>] = array(
   <span class="stringliteral">&apos;description&apos;</span> =&gt; <span class="stringliteral">&apos;The base table for nodes.&apos;</span>,
   <span class="stringliteral">&apos;fields&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;nid&apos;</span>       =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;serial&apos;</span>, <span class="stringliteral">&apos;unsigned&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE),
     <span class="stringliteral">&apos;vid&apos;</span>       =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;unsigned&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE,<span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;type&apos;</span>      =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;varchar&apos;</span>,<span class="stringliteral">&apos;length&apos;</span> =&gt; 32,<span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; <span class="stringliteral">&apos;&apos;</span>),
     <span class="stringliteral">&apos;language&apos;</span>  =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;varchar&apos;</span>,<span class="stringliteral">&apos;length&apos;</span> =&gt; 12,<span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE,<span class="stringliteral">&apos;default&apos;</span> =&gt; <span class="stringliteral">&apos;&apos;</span>),
     <span class="stringliteral">&apos;title&apos;</span>     =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;varchar&apos;</span>,<span class="stringliteral">&apos;length&apos;</span> =&gt; 255,<span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; <span class="stringliteral">&apos;&apos;</span>),
     <span class="stringliteral">&apos;uid&apos;</span>       =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;status&apos;</span>    =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 1),
     <span class="stringliteral">&apos;created&apos;</span>   =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;changed&apos;</span>   =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;comment&apos;</span>   =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;promote&apos;</span>   =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;moderate&apos;</span>  =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE,<span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;sticky&apos;</span>    =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;tnid&apos;</span>      =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;unsigned&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
     <span class="stringliteral">&apos;translate&apos;</span> =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE, <span class="stringliteral">&apos;default&apos;</span> =&gt; 0),
   ),
   <span class="stringliteral">&apos;indexes&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;node_changed&apos;</span>        =&gt; array(<span class="stringliteral">&apos;changed&apos;</span>),
     <span class="stringliteral">&apos;node_created&apos;</span>        =&gt; array(<span class="stringliteral">&apos;created&apos;</span>),
     <span class="stringliteral">&apos;node_moderate&apos;</span>       =&gt; array(<span class="stringliteral">&apos;moderate&apos;</span>),
     <span class="stringliteral">&apos;node_frontpage&apos;</span>      =&gt; array(<span class="stringliteral">&apos;promote&apos;</span>, <span class="stringliteral">&apos;status&apos;</span>, <span class="stringliteral">&apos;sticky&apos;</span>, <span class="stringliteral">&apos;created&apos;</span>),
     <span class="stringliteral">&apos;node_status_type&apos;</span>    =&gt; array(<span class="stringliteral">&apos;status&apos;</span>, <span class="stringliteral">&apos;type&apos;</span>, <span class="stringliteral">&apos;nid&apos;</span>),
     <span class="stringliteral">&apos;node_title_type&apos;</span>     =&gt; array(<span class="stringliteral">&apos;title&apos;</span>, array(<span class="stringliteral">&apos;type&apos;</span>, 4)),
     <span class="stringliteral">&apos;node_type&apos;</span>           =&gt; array(array(<span class="stringliteral">&apos;type&apos;</span>, 4)),
     <span class="stringliteral">&apos;uid&apos;</span>                 =&gt; array(<span class="stringliteral">&apos;uid&apos;</span>),
     <span class="stringliteral">&apos;tnid&apos;</span>                =&gt; array(<span class="stringliteral">&apos;tnid&apos;</span>),
     <span class="stringliteral">&apos;translate&apos;</span>           =&gt; array(<span class="stringliteral">&apos;translate&apos;</span>),
   ),
   <span class="stringliteral">&apos;unique keys&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;vid&apos;</span> =&gt; array(<span class="stringliteral">&apos;vid&apos;</span>),
   ),
   <span class="stringliteral">&apos;foreign keys&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;node_revision&apos;</span> =&gt; array(
       <span class="stringliteral">&apos;table&apos;</span> =&gt; <span class="stringliteral">&apos;node_revision&apos;</span>,
       <span class="stringliteral">&apos;columns&apos;</span> =&gt; array(<span class="stringliteral">&apos;vid&apos;</span> =&gt; <span class="stringliteral">&apos;vid&apos;</span>),
      ),
     <span class="stringliteral">&apos;node_author&apos;</span> =&gt; array(
       <span class="stringliteral">&apos;table&apos;</span> =&gt; <span class="stringliteral">&apos;users&apos;</span>,
       <span class="stringliteral">&apos;columns&apos;</span> =&gt; array(<span class="stringliteral">&apos;uid&apos;</span> =&gt; <span class="stringliteral">&apos;uid&apos;</span>),
      ),
    ),
   <span class="stringliteral">&apos;primary key&apos;</span> =&gt; array(<span class="stringliteral">&apos;nid&apos;</span>),
 );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__schemaapi.html#ga9706b8d6ecdac10302d83bd50935a698">drupal_install_schema()</a></dd></dl>
<p>End of "defgroup database". </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gadbc374d9057276944d38062e769a1a99"></a><!-- doxytag: member="DrupalCacheArray::__construct" ref="gadbc374d9057276944d38062e769a1a99" args="($cid, $bin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bin</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a <a class="el" href="classDrupalCacheArray.html">DrupalCacheArray</a> object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$cid</em>&nbsp;</td><td>The cid for the array being cached. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$bin</em>&nbsp;</td><td>The bin to cache the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga63c3aa47f3a451f0c5182800d29d5d9f"></a><!-- doxytag: member="DrupalCacheArray::__destruct" ref="ga63c3aa47f3a451f0c5182800d29d5d9f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::__destruct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructs the <a class="el" href="classDrupalCacheArray.html">DrupalCacheArray</a> object. </p>

</div>
</div>
<a class="anchor" id="gad4ce891e1e944b1d6eee7253448a0178"></a><!-- doxytag: member="common.inc::_drupal_schema_initialize" ref="gad4ce891e1e944b1d6eee7253448a0178" args="(&amp;$schema, $module, $remove_descriptions=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_drupal_schema_initialize </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>schema</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>remove_descriptions</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fills in required default values for table definitions from <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$schema</em>&nbsp;</td><td>The schema definition array as it was returned by the module's <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The module for which <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> was invoked. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$remove_descriptions</em>&nbsp;</td><td>(optional) Whether to additionally remove 'description' keys of all tables and fields to improve performance of serialize() and unserialize(). Defaults to TRUE. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8da38564ce2a3c92aa5103da6ae2a315"></a><!-- doxytag: member="bootstrap.inc::_drupal_shutdown_function" ref="ga8da38564ce2a3c92aa5103da6ae2a315" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_drupal_shutdown_function </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes registered shutdown functions. </p>

</div>
</div>
<a class="anchor" id="ga10bc9c435dd6d36c112d7ec179840cff"></a><!-- doxytag: member="database.inc::db_add_field" ref="ga10bc9c435dd6d36c112d7ec179840cff" args="($table, $field, $spec, $keys_new=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_add_field </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys_new</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new field to a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>Name of the field to be added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$spec</em>&nbsp;</td><td>The field specification array, as taken from a schema definition. The specification may also contain the key 'initial'; the newly-created field will be set to the value of the key in all rows. This is most useful for creating NOT NULL columns with no default value in existing tables. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys_new</em>&nbsp;</td><td>Optional keys and indexes specification to be created on the table along with adding the field. The format is the same as a table specification, but without the 'fields' element. If you are adding a type 'serial' field, you MUST specify at least one key or index including it in this array. See <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a> for more explanation why.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafb7153a65df9b5a0877a602cde86a0cc"></a><!-- doxytag: member="database.inc::db_add_index" ref="gafb7153a65df9b5a0877a602cde86a0cc" args="($table, $name, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_add_index </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of field names. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga666b117ebedc9b50dacf193c6ba4dcf8"></a><!-- doxytag: member="database.inc::db_add_primary_key" ref="ga666b117ebedc9b50dacf193c6ba4dcf8" args="($table, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_add_primary_key </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a primary key to a database table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>Array of fields for the primary key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad6dd1c6f39d180bc21853ac6118a8f40"></a><!-- doxytag: member="database.inc::db_add_unique_key" ref="gad6dd1c6f39d180bc21853ac6118a8f40" args="($table, $name, $fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_add_unique_key </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a unique key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of field names. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9e0a4211eb8137e187d5f3f4fa716cea"></a><!-- doxytag: member="database.inc::db_change_field" ref="ga9e0a4211eb8137e187d5f3f4fa716cea" args="($table, $field, $field_new, $spec, $keys_new=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_change_field </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys_new</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes a field definition.</p>
<p>IMPORTANT NOTE: To maintain database portability, you have to explicitly recreate all indices and primary keys that are using the changed field.</p>
<p>That means that you have to drop all affected keys and indexes with db_drop_{primary_key,unique_key,index}() before calling <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a>. To recreate the keys and indices, pass the key definitions as the optional $keys_new argument directly to <a class="el" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field()</a>.</p>
<p>For example, suppose you have: </p>
<div class="fragment"><pre class="fragment"> $schema[<span class="stringliteral">&apos;foo&apos;</span>] = array(
   <span class="stringliteral">&apos;fields&apos;</span> =&gt; array(
     <span class="stringliteral">&apos;bar&apos;</span> =&gt; array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;int&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE)
   ),
   <span class="stringliteral">&apos;primary key&apos;</span> =&gt; array(<span class="stringliteral">&apos;bar&apos;</span>)
 );
</pre></div><p> and you want to change foo.bar to be type serial, leaving it as the primary key. The correct sequence is: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group__schemaapi.html#ga733a41de3d8b74798a8cf3c87ae33715">db_drop_primary_key</a>(<span class="stringliteral">&apos;foo&apos;</span>);
 <a class="code" href="group__schemaapi.html#ga9e0a4211eb8137e187d5f3f4fa716cea">db_change_field</a>(<span class="stringliteral">&apos;foo&apos;</span>, <span class="stringliteral">&apos;bar&apos;</span>, <span class="stringliteral">&apos;bar&apos;</span>,
   array(<span class="stringliteral">&apos;type&apos;</span> =&gt; <span class="stringliteral">&apos;serial&apos;</span>, <span class="stringliteral">&apos;not null&apos;</span> =&gt; TRUE),
   array(<span class="stringliteral">&apos;primary key&apos;</span> =&gt; array(<span class="stringliteral">&apos;bar&apos;</span>)));
</pre></div><p>The reasons for this are due to the different database engines:</p>
<p>On PostgreSQL, changing a field definition involves adding a new field and dropping an old one which causes any indices, primary keys and sequences (from serial-type fields) that use the changed field to be dropped.</p>
<p>On MySQL, all type 'serial' fields must be part of at least one key or index as soon as they are created. You cannot use db_add_{primary_key,unique_key,index}() for this purpose because the ALTER TABLE command will fail to add the column without a key or index specification. The solution is to use the optional $keys_new argument to create the key or index at the same time as field.</p>
<p>You could use db_add_{primary_key,unique_key,index}() in all cases unless you are converting a field to be type serial. You can use the $keys_new argument in all cases.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>Name of the field to change. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field_new</em>&nbsp;</td><td>New name for the field (set to the same as $field if you don't want to change the name). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$spec</em>&nbsp;</td><td>The field specification for the new field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys_new</em>&nbsp;</td><td>Optional keys and indexes specification to be created on the table along with changing the field. The format is the same as a table specification but without the 'fields' element. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf3a8307693d6b28374665c72531b429f"></a><!-- doxytag: member="database.inc::db_create_table" ref="gaf3a8307693d6b28374665c72531b429f" args="($name, $table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_create_table </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new table from a Drupal table definition.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the table to create. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>A Schema API table definition array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0e404d9200bf56fbed738aa4f57b3ec4"></a><!-- doxytag: member="database.inc::db_drop_field" ref="ga0e404d9200bf56fbed738aa4f57b3ec4" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_drop_field </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drops a field.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be dropped. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa59d447eb4a7b25350fb7404f9a70ec0"></a><!-- doxytag: member="database.inc::db_drop_index" ref="gaa59d447eb4a7b25350fb7404f9a70ec0" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_drop_index </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drops an index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga733a41de3d8b74798a8cf3c87ae33715"></a><!-- doxytag: member="database.inc::db_drop_primary_key" ref="ga733a41de3d8b74798a8cf3c87ae33715" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_drop_primary_key </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drops the primary key of a database table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Name of the table to be altered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5d744ae7a6fe2c9eaa1c7bd350a071d3"></a><!-- doxytag: member="database.inc::db_drop_table" ref="ga5d744ae7a6fe2c9eaa1c7bd350a071d3" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_drop_table </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drops a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be dropped. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab06ca0fe63625f37a649cf3432fd8ffe"></a><!-- doxytag: member="database.inc::db_drop_unique_key" ref="gab06ca0fe63625f37a649cf3432fd8ffe" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_drop_unique_key </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drops a unique key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6b39d7c0876ab53b1588ff9e40677c42"></a><!-- doxytag: member="database.inc::db_field_exists" ref="ga6b39d7c0876ab53b1588ff9e40677c42" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_field_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if a column exists in the given table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The name of the field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given column exists, otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeb423ba53e5133548abe3d999f86e787"></a><!-- doxytag: member="database.inc::db_field_names" ref="gaeb423ba53e5133548abe3d999f86e787" args="($fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_field_names </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an array of field names from an array of key/index column specifiers.</p>
<p>This is usually an identity function but if a key/index uses a column prefix specification, this function extracts just the name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$fields</em>&nbsp;</td><td>An array of key/index column specifiers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of field names. </dd></dl>

</div>
</div>
<a class="anchor" id="ga63a499297d184dba68309dcd1b7e17d4"></a><!-- doxytag: member="database.inc::db_field_set_default" ref="ga63a499297d184dba68309dcd1b7e17d4" args="($table, $field, $default)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_field_set_default </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>default</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the default value for a field.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$default</em>&nbsp;</td><td>Default value to be set. NULL for 'default NULL'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad1714b6920155f673f4291845fdb5f62"></a><!-- doxytag: member="database.inc::db_field_set_no_default" ref="gad1714b6920155f673f4291845fdb5f62" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_field_set_no_default </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a field to have no default value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The table to be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The field to be altered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac723bfddd5f133eb4d3dcec84c3c3f3c"></a><!-- doxytag: member="database.inc::db_find_tables" ref="gac723bfddd5f133eb4d3dcec84c3c3f3c" args="($table_expression)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_find_tables </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table_expression</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finds all tables that are like the specified base table name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table_expression</em>&nbsp;</td><td>An SQL expression, for example "simpletest%" (without the quotes). BEWARE: this is not prefixed, the caller should take care of that.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array, both the keys and the values are the matching tables. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0c10c365922d538e4d5d17fb314d4b79"></a><!-- doxytag: member="database.inc::db_index_exists" ref="ga0c10c365922d538e4d5d17fb314d4b79" args="($table, $name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_index_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if an index exists in the given table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name of the index in drupal (no prefixing).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given index exists, otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="ga629fe4d738f4caeb9d8c8acc2cc4d05b"></a><!-- doxytag: member="database.inc::db_rename_table" ref="ga629fe4d738f4caeb9d8c8acc2cc4d05b" args="($table, $new_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_rename_table </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>new_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Renames a table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The current name of the table to be renamed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$new_name</em>&nbsp;</td><td>The new name for the table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga78809300cee80db034832825aed55b70"></a><!-- doxytag: member="database.inc::db_table_exists" ref="ga78809300cee80db034832825aed55b70" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_table_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if a table exists.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table in drupal (no prefixing).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if the given table exists, otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="gad3a1c91d672f6e9cf9be66557db148fe"></a><!-- doxytag: member="bootstrap.inc::drupal_check_memory_limit" ref="gad3a1c91d672f6e9cf9be66557db148fe" args="($required, $memory_limit=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_check_memory_limit </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>required</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>memory_limit</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compares the memory required for an operation to the available memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$required</em>&nbsp;</td><td>The memory required for the operation, expressed as a number of bytes with optional SI or IEC binary unit prefix (e.g. 2, 3K, 5MB, 10G, 6GiB, 8bytes, 9mbytes). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$memory_limit</em>&nbsp;</td><td>(optional) The memory limit for the operation, expressed as a number of bytes with optional SI or IEC binary unit prefix (e.g. 2, 3K, 5MB, 10G, 6GiB, 8bytes, 9mbytes). If no value is passed, the current PHP memory_limit will be used. Defaults to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if there is sufficient memory to allow the operation, or FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga31cee7d4c13fafc15c69304f16e34686"></a><!-- doxytag: member="bootstrap.inc::drupal_get_complete_schema" ref="ga31cee7d4c13fafc15c69304f16e34686" args="($rebuild=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_get_complete_schema </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>rebuild</em> = <code>FALSE</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the whole database schema.</p>
<p>The returned schema will include any modifications made by any module that implements <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$rebuild</em>&nbsp;</td><td>If true, the schema will be rebuilt instead of retrieved from the cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga979670bd6bd2e34337ffc5f0810f2d71"></a><!-- doxytag: member="bootstrap.inc::drupal_get_schema" ref="ga979670bd6bd2e34337ffc5f0810f2d71" args="($table=NULL, $rebuild=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_get_schema </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>rebuild</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the schema definition of a table, or the whole database schema.</p>
<p>The returned schema will include any modifications made by any module that implements <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table. If not given, the schema of all tables is returned. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$rebuild</em>&nbsp;</td><td>If true, the schema will be rebuilt instead of retrieved from the cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaecb0d63f03b96dd1426298804e091d3b"></a><!-- doxytag: member="common.inc::drupal_get_schema_unprocessed" ref="gaecb0d63f03b96dd1426298804e091d3b" args="($module, $table=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_get_schema_unprocessed </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the unprocessed and unaltered version of a module's schema.</p>
<p>Use this function only if you explicitly need the original specification of a schema, as it was defined in a module's <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>. No additional default values will be set, <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a> is not invoked and these unprocessed definitions won't be cached.</p>
<p>This function can be used to retrieve a schema specification in <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>, so it allows you to derive your tables from existing specifications.</p>
<p>It is also used by <a class="el" href="group__schemaapi.html#ga9706b8d6ecdac10302d83bd50935a698">drupal_install_schema()</a> and <a class="el" href="group__schemaapi.html#ga0688b6627af9dc05f2618f81489c3db0">drupal_uninstall_schema()</a> to ensure that a module's tables are created exactly as specified without any changes introduced by a module that implements <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The module to which the table belongs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table. If not given, the module's complete schema is returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9706b8d6ecdac10302d83bd50935a698"></a><!-- doxytag: member="common.inc::drupal_install_schema" ref="ga9706b8d6ecdac10302d83bd50935a698" args="($module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_install_schema </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates all tables defined in a module's <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>.</p>
<p>Note: This function does not pass the module's schema through <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a>. The module's tables will be created exactly as the module defines them.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The module for which the tables will be created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac880b82ae302f9d15c64d264a269d1f4"></a><!-- doxytag: member="bootstrap.inc::drupal_is_cli" ref="gac880b82ae302f9d15c64d264a269d1f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_is_cli </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Detects whether the current script is running in a command-line environment. </p>

</div>
</div>
<a class="anchor" id="ga4ab49ad51d8b93bb296a8492296d655b"></a><!-- doxytag: member="bootstrap.inc::drupal_placeholder" ref="ga4ab49ad51d8b93bb296a8492296d655b" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_placeholder </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Formats text for emphasized display in a placeholder inside a sentence.</p>
<p>Used automatically by <a class="el" href="group__sanitization.html#ga8da272cf93fb6ba229eca7c0b06ea4d2">format_string()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$text</em>&nbsp;</td><td>The text to format (plain-text).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The formatted text (html). </dd></dl>

</div>
</div>
<a class="anchor" id="gaacfcd6f676ee9062f0ba50a008a05443"></a><!-- doxytag: member="common.inc::drupal_schema_fields_sql" ref="gaacfcd6f676ee9062f0ba50a008a05443" args="($table, $prefix=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_schema_fields_sql </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>prefix</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a list of fields from a table schema.</p>
<p>The returned list is suitable for use in an SQL query.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table from which to retrieve fields. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>An</em>&nbsp;</td><td>optional prefix to to all fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of fields. </dd></dl>

</div>
</div>
<a class="anchor" id="ga498392997d598f196f35805de85d8b21"></a><!-- doxytag: member="bootstrap.inc::drupal_static" ref="ga498392997d598f196f35805de85d8b21" args="($name, $default_value=NULL, $reset=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; drupal_static </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>default_value</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>reset</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of "addtogroup registry". Provides central static variable storage.</p>
<p>All functions requiring a static variable to persist or cache data within a single page request are encouraged to use this function unless it is absolutely certain that the static variable will not need to be reset during the page request. By centralizing static variable storage through this function, other functions can rely on a consistent API for resetting any other function's static variables.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> function <a class="code" href="bootstrap_8inc.html#aec69f67dd1921a3b55d7f9de9034ecb4">language_list</a>($field = <span class="stringliteral">&apos;language&apos;</span>) {
   $languages = &amp;<a class="code" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static</a>(__FUNCTION__);
   <span class="keywordflow">if</span> (!isset($languages)) {
     <span class="comment">// If this function is being called for the first time after a reset,</span>
     <span class="comment">// query the database and execute any other code needed to retrieve</span>
     <span class="comment">// information about the supported languages.</span>
     ...
   }
   <span class="keywordflow">if</span> (!isset($languages[$field])) {
     <span class="comment">// If this function is being called for the first time for a particular</span>
     <span class="comment">// index field, then execute code needed to index the information already</span>
     <span class="comment">// available in $languages by the desired field.</span>
     ...
   }
   <span class="comment">// Subsequent invocations of this function for a particular index field</span>
   <span class="comment">// skip the above two code blocks and quickly return the already indexed</span>
   <span class="comment">// information.</span>
   <span class="keywordflow">return</span> $languages[$field];
 }
 function <a class="code" href="group__locale.html#gac36ea050ad5c0a75624c1a9b63c343a0">locale_translate_overview_screen</a>() {
   <span class="comment">// When building the content for the translations overview page, make</span>
   <span class="comment">// sure to get completely fresh information about the supported languages.</span>
   <a class="code" href="group__schemaapi.html#ga714b5ed0b14c43b61eef0c895598c5c4">drupal_static_reset</a>(<span class="stringliteral">&apos;language_list&apos;</span>);
   ...
 }
</pre></div><p>In a few cases, a function can have certainty that there is no legitimate use-case for resetting that function's static variable. This is rare, because when writing a function, it's hard to forecast all the situations in which it will be used. A guideline is that if a function's static variable does not depend on any information outside of the function that might change during a single page request, then it's ok to use the "static" keyword instead of the <a class="el" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static()</a> function.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> function <a class="code" href="group__actions.html#gacfece93b3453da7c572057dde3453122">actions_do</a>(...) {
   <span class="comment">// $stack tracks the number of recursive calls.</span>
   <span class="keyword">static</span> $stack;
   $stack++;
   <span class="keywordflow">if</span> ($stack &gt; <a class="code" href="bootstrap_8inc.html#a1be2160d5e5a1a9b9a0c90944c4f5252">variable_get</a>(<span class="stringliteral">&apos;actions_max_stack&apos;</span>, 35)) {
     ...
     <span class="keywordflow">return</span>;
   }
   ...
   $stack--;
 }
</pre></div><p>In a few cases, a function needs a resettable static variable, but the function is called many times (100+) during a single page request, so every microsecond of execution time that can be removed from the function counts. These functions can use a more cumbersome, but faster variant of calling <a class="el" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static()</a>. It works by storing the reference returned by <a class="el" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static()</a> in the calling function's own static variable, thereby removing the need to call <a class="el" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static()</a> for each iteration of the function. Conceptually, it replaces: </p>
<div class="fragment"><pre class="fragment"> $foo = &amp;<a class="code" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static</a>(__FUNCTION__);
</pre></div><p> with: </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Unfortunately, this does not work.</span>
 <span class="keyword">static</span> $foo = &amp;<a class="code" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static</a>(__FUNCTION__);
</pre></div><p> However, the above line of code does not work, because PHP only allows static variables to be initializied by literal values, and does not allow static variables to be assigned to references.</p>
<ul>
<li><a href="http://php.net/manual/en/language.variables.scope.php#language.variables.scope.static">http://php.net/manual/en/language.variables.scope.php#language.variables.scope.static</a></li>
<li><a href="http://php.net/manual/en/language.variables.scope.php#language.variables.scope.references">http://php.net/manual/en/language.variables.scope.php#language.variables.scope.references</a> The example below shows the syntax needed to work around both limitations. For benchmarks and more information, see <a href="http://drupal.org/node/619666.">http://drupal.org/node/619666.</a></li>
</ul>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> function <a class="code" href="user_8module.html#a8daa9d898b1e84225b519ee0c7fb57e0">user_access</a>($string, $account = NULL) {
   <span class="comment">// Use the advanced drupal_static() pattern, since this is called very often.</span>
   <span class="keyword">static</span> $drupal_static_fast;
   <span class="keywordflow">if</span> (!isset($drupal_static_fast)) {
     $drupal_static_fast[<span class="stringliteral">&apos;perm&apos;</span>] = &amp;<a class="code" href="group__schemaapi.html#ga498392997d598f196f35805de85d8b21">drupal_static</a>(__FUNCTION__);
   }
   $perm = &amp;$drupal_static_fast[<span class="stringliteral">&apos;perm&apos;</span>];
   ...
 }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>Globally unique name for the variable. For a function with only one static, variable, the function name (e.g. via the PHP magic __FUNCTION__ constant) is recommended. For a function with multiple static variables add a distinguishing suffix to the function name for each one. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$default_value</em>&nbsp;</td><td>Optional default value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$reset</em>&nbsp;</td><td>TRUE to reset a specific named variable, or all variables if $name is NULL. Resetting every variable should only be used, for example, for running unit tests with a clean environment. Should be used only though via function <a class="el" href="group__schemaapi.html#ga714b5ed0b14c43b61eef0c895598c5c4">drupal_static_reset()</a> and the return value should not be used in this case.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns a variable by reference.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__schemaapi.html#ga714b5ed0b14c43b61eef0c895598c5c4">drupal_static_reset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga714b5ed0b14c43b61eef0c895598c5c4"></a><!-- doxytag: member="bootstrap.inc::drupal_static_reset" ref="ga714b5ed0b14c43b61eef0c895598c5c4" args="($name=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_static_reset </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em> = <code>NULL</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resets one or all centrally stored static variable(s).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>Name of the static variable to reset. Omit to reset all variables. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0688b6627af9dc05f2618f81489c3db0"></a><!-- doxytag: member="common.inc::drupal_uninstall_schema" ref="ga0688b6627af9dc05f2618f81489c3db0" args="($module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_uninstall_schema </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes all tables defined in a module's <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>.</p>
<p>Note: This function does not pass the module's schema through <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a>. The module's tables will be created exactly as the module defines them.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The module for which the tables will be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of arrays with the following key/value pairs:<ul>
<li>success: a boolean indicating whether the query succeeded.</li>
<li>query: the SQL query(s) executed, passed through <a class="el" href="group__sanitization.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga96f707de751a962bf21b6cb0cb4f2ae6"></a><!-- doxytag: member="common.inc::drupal_write_record" ref="ga96f707de751a962bf21b6cb0cb4f2ae6" args="($table, &amp;$record, $primary_keys=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drupal_write_record </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primary_keys</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Saves (inserts or updates) a record to the database based upon the schema.</p>
<p>Do not use <a class="el" href="group__schemaapi.html#ga96f707de751a962bf21b6cb0cb4f2ae6">drupal_write_record()</a> within <a class="el" href="group__hooks.html#ga908950689e6b85cd0fae3b780d69a41f">hook_update_N()</a> functions, since the database schema cannot be relied upon when a user is running a series of updates. Instead, use <a class="el" href="group__database.html#gaadfbffaf30ff5eb14f1bd88619351345">db_insert()</a> or <a class="el" href="group__database.html#ga40967197ee5d6a23a5c5a77e627067fe">db_update()</a> to save the record.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table; this must be defined by a <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> implementation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$record</em>&nbsp;</td><td>An object or array representing the record to write, passed in by reference. If inserting a new record, values not provided in $record will be populated in $record and in the database with the default values from the schema, as well as a single serial (auto-increment) field (if present). If updating an existing record, only provided values are updated in the database, and $record is not modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$primary_keys</em>&nbsp;</td><td>To indicate that this is a new record to be inserted, omit this argument. If this is an update, this argument specifies the primary keys' field names. If there is only 1 field in the key, you may pass in a string; if there are multiple fields in the key, pass in an array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the record insert or update failed, returns FALSE. If it succeeded, returns SAVED_NEW or SAVED_UPDATED, depending on the operation performed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9abd926ddaf68a22e6dca28a25d0c6f5"></a><!-- doxytag: member="system.api.php::hook_schema" ref="ga9abd926ddaf68a22e6dca28a25d0c6f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_schema </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define the current version of the database schema.</p>
<p>A Drupal schema definition is an array structure representing one or more tables and their related keys and indexes. A schema is defined by <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> which must live in your module's .install file.</p>
<p>This hook is called at install and uninstall time, and in the latter case, it cannot rely on the .module file being loaded or hooks being known. If the .module file is needed, it may be loaded with <a class="el" href="bootstrap_8inc.html#a13a2254228f213a980dc1f09886b8802">drupal_load()</a>.</p>
<p>The tables declared by this hook will be automatically created when the module is first enabled, and removed when the module is uninstalled. This happens before <a class="el" href="group__hooks.html#ga1ecdb5a2a046ea63dc790c3ed90338e5">hook_install()</a> is invoked, and after <a class="el" href="group__hooks.html#ga3fb24f6923b3e585d6326ff5abdcc57c">hook_uninstall()</a> is invoked, respectively.</p>
<p>By declaring the tables used by your module via an implementation of <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a>, these tables will be available on all supported database engines. You don't have to deal with the different SQL dialects for table creation and alteration of the supported database engines.</p>
<p>See the Schema API Handbook at <a href="http://drupal.org/node/146843">http://drupal.org/node/146843</a> for details on schema definition structures.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A schema definition structure array. For each element of the array, the key is a table name and the value is a table structure definition. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4a00aaeabd6903f707d8385476b9ae2a"></a><!-- doxytag: member="system.api.php::hook_schema_alter" ref="ga4a00aaeabd6903f707d8385476b9ae2a" args="(&amp;$schema)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hook_schema_alter </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>schema</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform alterations to existing database schemas.</p>
<p>When a module modifies the database structure of another module (by changing, adding or removing fields, keys or indexes), it should implement <a class="el" href="group__schemaapi.html#ga4a00aaeabd6903f707d8385476b9ae2a">hook_schema_alter()</a> to update the default $schema to take its changes into account.</p>
<p>See <a class="el" href="group__schemaapi.html#ga9abd926ddaf68a22e6dca28a25d0c6f5">hook_schema()</a> for details on the schema definition structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$schema</em>&nbsp;</td><td>Nested array describing the schemas for all modules. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabec90ca8c02f7c14dfbf66fd9e6bb5dd"></a><!-- doxytag: member="DrupalCacheArray::offsetExists" ref="gabec90ca8c02f7c14dfbf66fd9e6bb5dd" args="($offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::offsetExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements ArrayAccess::offsetExists(). </p>

</div>
</div>
<a class="anchor" id="ga57be4d1b39bee68ee1c395c1cd9a2de5"></a><!-- doxytag: member="DrupalCacheArray::offsetGet" ref="ga57be4d1b39bee68ee1c395c1cd9a2de5" args="($offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::offsetGet </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements ArrayAccess::offsetGet(). </p>

</div>
</div>
<a class="anchor" id="ga0d3377e6f4b8c592f006a75f8eadf21a"></a><!-- doxytag: member="DrupalCacheArray::offsetSet" ref="ga0d3377e6f4b8c592f006a75f8eadf21a" args="($offset, $value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::offsetSet </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements ArrayAccess::offsetSet(). </p>

</div>
</div>
<a class="anchor" id="ga8bb43551e89c35590c56a49f8fb54e3f"></a><!-- doxytag: member="DrupalCacheArray::offsetUnset" ref="ga8bb43551e89c35590c56a49f8fb54e3f" args="($offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::offsetUnset </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements ArrayAccess::offsetUnset(). </p>

</div>
</div>
<a class="anchor" id="ga27687007f42979bdb8999683f3270c4a"></a><!-- doxytag: member="DrupalCacheArray::persist" ref="ga27687007f42979bdb8999683f3270c4a" args="($offset, $persist=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::persist </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>persist</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flags an offset value to be written to the persistent cache.</p>
<p>If a value is assigned to a cache object with <a class="el" href="group__schemaapi.html#ga0d3377e6f4b8c592f006a75f8eadf21a">offsetSet()</a>, by default it will not be written to the persistent cache unless it is flagged with this method. This allows items to be cached for the duration of a request, without necessarily writing back to the persistent cache at the end.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$offset</em>&nbsp;</td><td>The array offset that was requested. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$persist</em>&nbsp;</td><td>Optional boolean to specify whether the offset should be persisted or not, defaults to TRUE. When called with $persist = FALSE the offset will be unflagged so that it will not be written at the end of the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb0a973c0269c37d3389946d5b57c01c"></a><!-- doxytag: member="SchemaCache::resolveCacheMiss" ref="gadb0a973c0269c37d3389946d5b57c01c" args="($offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SchemaCache::resolveCacheMiss </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Overrides <a class="el" href="group__schemaapi.html#ga33d892a839b353177e2483f6946178e9">DrupalCacheArray::resolveCacheMiss()</a>. </p>

<p>Reimplemented from <a class="el" href="group__schemaapi.html#ga33d892a839b353177e2483f6946178e9">DrupalCacheArray</a>.</p>

</div>
</div>
<a class="anchor" id="ga33d892a839b353177e2483f6946178e9"></a><!-- doxytag: member="DrupalCacheArray::resolveCacheMiss" ref="ga33d892a839b353177e2483f6946178e9" args="($offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::resolveCacheMiss </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resolves a cache miss.</p>
<p>When an offset is not found in the object, this is treated as a cache miss. This method allows classes implementing the interface to look up the actual value and allow it to be cached.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$offset</em>&nbsp;</td><td>The offset that was requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value of the offset, or NULL if no value was found. </dd></dl>

<p>Reimplemented in <a class="el" href="group__schemaapi.html#gadb0a973c0269c37d3389946d5b57c01c">SchemaCache</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d99af903ba2660c09ca835e63c79118"></a><!-- doxytag: member="DrupalCacheArray::set" ref="ga9d99af903ba2660c09ca835e63c79118" args="($data, $lock=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::set </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>lock</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes a value to the persistent cache immediately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$data</em>&nbsp;</td><td>The data to write to the persistent cache. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$lock</em>&nbsp;</td><td>Whether to acquire a lock before writing to cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga29eeef3160c70f129c447e796e330cdb"></a><!-- doxytag: member="DrupalCacheArray::$bin" ref="ga29eeef3160c70f129c447e796e330cdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::$bin<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A bin to pass to <a class="el" href="includes_2cache_8inc.html#a48081f36334909f561ef4f538fa640d2">cache_set()</a> and <a class="el" href="includes_2cache_8inc.html#a9d873815c28909b61c3a6188b383f8a3">cache_get()</a>. </p>

</div>
</div>
<a class="anchor" id="ga0ba2e712f18ec2c8ee8bf97d115c85d1"></a><!-- doxytag: member="DrupalCacheArray::$keysToPersist" ref="ga0ba2e712f18ec2c8ee8bf97d115c85d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::$keysToPersist = array()<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An array of keys to add to the cache at the end of the request. </p>

</div>
</div>
<a class="anchor" id="ga696fd96aa3639a9d7d968961db9d5819"></a><!-- doxytag: member="DrupalCacheArray::$storage" ref="ga696fd96aa3639a9d7d968961db9d5819" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrupalCacheArray::$storage = array()<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Storage for the data itself. </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Nov 2013 for DoSomething.org by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
